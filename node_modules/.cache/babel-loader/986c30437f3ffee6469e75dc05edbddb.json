{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Desktop/freightdok/client/src/components/users/UsersList.js\";\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUsers, selectUserToEdit, deleteUser } from '../../actions/users';\nimport Spinner from '../layout/Spinner';\nimport { capitalizeFirstLetter } from '../../utils/helper';\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  TableContainer: {\n    borderBottom: \"none\"\n  }\n});\n\nconst UsersList = () => {\n  const classes = useStyles();\n  const {\n    list,\n    loading,\n    page,\n    limit,\n    total\n  } = useSelector(state => state.users);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchUsers(+page, +limit));\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    dispatch(fetchUsers(newPage, +limit));\n  };\n\n  const handleChangeRowsPerPage = event => {\n    const new_limit = event.target.value;\n    dispatch(fetchUsers(0, new_limit));\n  };\n\n  return /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    className: classes.TableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    borderBottom: \"none\",\n    \"aria-label\": \"caption table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    className: classes.TableContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Actions\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, !loading ? list.length > 0 ? list.map(({\n    _id,\n    name,\n    email,\n    role\n  }) => /*#__PURE__*/React.createElement(TableRow, {\n    key: _id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 85\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, name ? name : '--'), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, email), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, capitalizeFirstLetter(role)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    color: \"primary\",\n    onClick: () => {\n      dispatch(selectUserToEdit({\n        _id,\n        email,\n        role\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })), user && user.role === 'user' || /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    onClick: () => {\n      dispatch(deleteUser(_id));\n    },\n    style: {\n      color: \"rgb(220, 0, 78)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 26\n    }\n  }, \"No Users\") : /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 46\n    }\n  })), /*#__PURE__*/React.createElement(TableFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 15],\n    colSpan: 3,\n    count: total,\n    rowsPerPage: +limit,\n    page: page,\n    SelectProps: {\n      inputProps: {\n        'aria-label': 'rows per page'\n      },\n      native: true\n    },\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  })))));\n};\n\nexport default UsersList;","map":{"version":3,"sources":["/Users/sunnygill/Desktop/freightdok/client/src/components/users/UsersList.js"],"names":["React","useEffect","makeStyles","Table","TableCell","TableContainer","TableHead","TableRow","TableBody","TableFooter","TablePagination","Paper","IconButton","DeleteIcon","EditIcon","useDispatch","useSelector","fetchUsers","selectUserToEdit","deleteUser","Spinner","capitalizeFirstLetter","useStyles","table","minWidth","borderBottom","UsersList","classes","list","loading","page","limit","total","state","users","user","auth","dispatch","handleChangePage","event","newPage","handleChangeRowsPerPage","new_limit","target","value","length","map","_id","name","email","role","color","inputProps","native"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchUsers, selectUserToEdit, deleteUser } from '../../actions/users';\nimport Spinner from '../layout/Spinner';\nimport { capitalizeFirstLetter } from '../../utils/helper';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 700,\n    },\n    TableContainer: {\n     borderBottom: \"none\"\n    }\n});\n\nconst UsersList = () => {\n    const classes = useStyles();\n    const { list, loading, page, limit, total } = useSelector(state => state.users);\n    const { user } = useSelector(state => state.auth);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      dispatch(fetchUsers(+page, +limit));\n    }, []);\n    const handleChangePage = (event, newPage) => {\n      dispatch(fetchUsers(newPage, +limit));\n    };\n    const handleChangeRowsPerPage = (event) => {\n      const new_limit = event.target.value;\n      dispatch(fetchUsers(0, new_limit));\n    };\n    return <TableContainer component={Paper} className={classes.TableContainer}>\n    <Table borderBottom=\"none\" aria-label=\"caption table\">\n      <TableHead className={classes.TableContainer} >\n        <TableRow>\n          <TableCell />\n          <TableCell align=\"center\">Name</TableCell>\n          <TableCell align=\"center\">Email</TableCell>\n          <TableCell align=\"center\">Role</TableCell>\n          <TableCell align=\"center\">Actions</TableCell>\n          <TableCell align=\"center\" />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n            { !loading ? list.length > 0 ? list.map(({ _id, name, email, role }) => <TableRow key={_id}>\n                <TableCell align=\"center\" />\n                <TableCell align=\"center\">{name ? name : '--'}</TableCell>\n                <TableCell align=\"center\">{email}</TableCell>\n                <TableCell align=\"center\">{capitalizeFirstLetter(role)}</TableCell>\n                <TableCell align=\"center\">\n                    <IconButton>\n                        <EditIcon color=\"primary\" onClick={() => {dispatch(selectUserToEdit({_id, email, role}))}}/>\n                    </IconButton>\n                    { (user && user.role === 'user') || <IconButton >\n                        <DeleteIcon  onClick={() => {dispatch(deleteUser(_id))}} style={{ color: \"rgb(220, 0, 78)\" }} />\n                    </IconButton> }\n                </TableCell>\n                <TableCell align=\"center\" />\n          </TableRow>) : <h4>No Users</h4> : <Spinner /> }\n      </TableBody>\n      <TableFooter>\n        <TableRow>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 15]}\n            colSpan={3}\n            count={total}\n            rowsPerPage={+limit}\n            page={page}\n            SelectProps={{\n              inputProps: { 'aria-label': 'rows per page' },\n              native: true,\n            }}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </TableRow>\n      </TableFooter>\n    </Table>\n  </TableContainer>\n}\n\nexport default UsersList;"]},"metadata":{},"sourceType":"module"}