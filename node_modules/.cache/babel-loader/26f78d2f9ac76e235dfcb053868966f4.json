{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/loads/Loads.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { getLoads, searchLoads } from \"../../actions/load\";\nimport LoadItem from \"./Loaditem\";\nimport Spinner from \"../layout/Spinner\";\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Loads = ({\n  getLoads,\n  searchLoads,\n  load: {\n    loads,\n    loading,\n    loads_pagination,\n    page,\n    rowsPerPage,\n    search\n  }\n}) => {\n  _s();\n\n  const {\n    total\n  } = loads_pagination;\n  const {\n    query,\n    loads: sLoads,\n    page: sPage,\n    limit,\n    total: sTotal\n  } = search;\n  useEffect(() => {\n    if (query) searchLoads(sPage, limit, query);else getLoads(page, rowsPerPage);\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    console.log(newPage, query);\n    if (query) searchLoads(newPage, limit, query);else getLoads(newPage, rowsPerPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    const limit = event.target.value;\n    if (query) searchLoads(0, limit, query);else getLoads(0, limit);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [\" \", loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [!query && loads.length ? loads.map(l => /*#__PURE__*/_jsxDEV(LoadItem, {\n        load: l,\n        loads: loads,\n        page: page,\n        rowsPerPage: rowsPerPage\n      }, l._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 32\n      }, this)) : query && sLoads.length ? sLoads.map(l => /*#__PURE__*/_jsxDEV(LoadItem, {\n        load: l,\n        loads: loads,\n        page: sPage,\n        rowsPerPage: limit\n      }, l._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 33\n      }, this)) : '', !query && !loads.length || query && !sLoads.length ? /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"No loads\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 72\n      }, this) : '', /*#__PURE__*/_jsxDEV(TableFooter, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: !query && loads.length ? /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [5, 10, 15],\n            colSpan: 3,\n            count: total,\n            rowsPerPage: +rowsPerPage,\n            page: page,\n            SelectProps: {\n              inputProps: {\n                'aria-label': 'rows per page'\n              },\n              native: true\n            },\n            onChangePage: handleChangePage,\n            onChangeRowsPerPage: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 46\n          }, this) : query && sLoads.length ? /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [5, 10, 15],\n            colSpan: 3,\n            count: sTotal,\n            rowsPerPage: +limit,\n            page: sPage,\n            SelectProps: {\n              inputProps: {\n                'aria-label': 'rows per page'\n              },\n              native: true\n            },\n            onChangePage: handleChangePage,\n            onChangeRowsPerPage: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 49\n          }, this) : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Loads, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Loads;\nLoads.propTypes = {\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired,\n  searchLoads: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  load: state.load,\n  driver: state.driver\n});\n\nexport default connect(mapStateToProps, {\n  getLoads,\n  searchLoads\n})(Loads);\n\nvar _c;\n\n$RefreshReg$(_c, \"Loads\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/loads/Loads.js"],"names":["React","Fragment","useEffect","PropTypes","connect","getLoads","searchLoads","LoadItem","Spinner","TableRow","TableFooter","TablePagination","Loads","load","loads","loading","loads_pagination","page","rowsPerPage","search","total","query","sLoads","sPage","limit","sTotal","handleChangePage","event","newPage","console","log","handleChangeRowsPerPage","target","value","length","map","l","_id","inputProps","native","propTypes","func","isRequired","object","mapStateToProps","state","driver"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { getLoads, searchLoads } from \"../../actions/load\";\nimport LoadItem from \"./Loaditem\";\nimport Spinner from \"../layout/Spinner\";\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\n\nconst Loads = ({ getLoads, searchLoads, load: { loads, loading, loads_pagination, page, rowsPerPage, search } }) => {\n  const { total } = loads_pagination;\n  const { query, loads: sLoads, page: sPage, limit, total: sTotal } = search;\n  useEffect(() => {\n    if (query)\n      searchLoads(sPage, limit, query);\n    else \n      getLoads(page, rowsPerPage);\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    console.log(newPage, query)\n    if (query)\n      searchLoads(newPage, limit, query);\n    else\n      getLoads(newPage, rowsPerPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    const limit = event.target.value;\n    if (query)\n      searchLoads(0, limit, query);\n    else\n      getLoads(0, limit);\n  };\n\n  return (\n    <Fragment>\n      {\" \"}\n      {loading ? (\n        <Spinner />\n      ) : (\n        <Fragment>\n\n            { !query && loads.length ? (\n              loads.map((l) => <LoadItem key={l._id} load={l} loads={loads} page={page} rowsPerPage={rowsPerPage} />)\n            ) : query && sLoads.length ? (\n              sLoads.map((l) => <LoadItem key={l._id} load={l} loads={loads} page={sPage} rowsPerPage={limit} />)\n            ) : ''}\n\n            { (!query && !loads.length) || (query && !sLoads.length) ? <h4>No loads</h4> : '' }\n\n            <TableFooter>\n              <TableRow>\n                { (!query && loads.length) ? <TablePagination\n                  rowsPerPageOptions={[5, 10, 15]}\n                  colSpan={3}\n                  count={total}\n                  rowsPerPage={+rowsPerPage}\n                  page={page}\n                  SelectProps={{\n                    inputProps: { 'aria-label': 'rows per page' },\n                    native: true,\n                  }}\n                  onChangePage={handleChangePage}\n                  onChangeRowsPerPage={handleChangeRowsPerPage}\n                /> : (query && sLoads.length) ? <TablePagination\n                  rowsPerPageOptions={[5, 10, 15]}\n                  colSpan={3}\n                  count={sTotal}\n                  rowsPerPage={+limit}\n                  page={sPage}\n                  SelectProps={{\n                    inputProps: { 'aria-label': 'rows per page' },\n                    native: true,\n                  }}\n                  onChangePage={handleChangePage}\n                  onChangeRowsPerPage={handleChangeRowsPerPage}\n                />: '' }\n              </TableRow>\n            </TableFooter>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nLoads.propTypes = {\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired,\n  searchLoads: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  load: state.load,\n  driver: state.driver\n});\n\nexport default connect(mapStateToProps, { getLoads, searchLoads })(Loads);\n"]},"metadata":{},"sourceType":"module"}