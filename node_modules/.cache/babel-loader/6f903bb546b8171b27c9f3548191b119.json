{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/invoices/Invoices.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Button from '@material-ui/core/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getInvoiceLoads } from '../../actions/load';\nimport InvocieEditItem from './InvoiceEditItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Invoices({\n  showWizardFor\n}) {\n  _s();\n\n  const dispatch = useDispatch();\n  const invoices = useSelector(state => state.load.invoices.data);\n  const loads = useSelector(state => state.load.loads);\n  const [tempInvoices, setTempInvoices] = useState([]);\n  const [invoiceToShow, setInvoiceToShow] = useState(null);\n  useEffect(() => {\n    console.log('Invoices updated :', invoices);\n    setTempInvoices(invoices);\n\n    if (invoices && invoiceToShow) {\n      const filteredInvoice = invoices.filter(item => {\n        if (item._id === invoiceToShow._id) {\n          return item;\n        }\n      });\n      console.log('Filtered :', filteredInvoice);\n      showWizardFor(filteredInvoice[0]);\n    }\n  }, [invoices]);\n\n  const handleShowInvoice = invoice => {\n    showWizardFor(invoice);\n    setInvoiceToShow(invoice);\n  };\n\n  useEffect(() => {\n    dispatch(getInvoiceLoads());\n  }, []);\n  useEffect(() => {\n    dispatch(getInvoiceLoads());\n  }, [loads]);\n  return /*#__PURE__*/_jsxDEV(TableBody, {\n    children: tempInvoices.map(invoice => /*#__PURE__*/_jsxDEV(TableRow, {\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: invoice.loadNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: invoice.brokerage ? invoice.brokerage : '--'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: invoice.rate ? invoice.rate : '--'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: Array.isArray(invoice.rateConfirmation) && invoice.rateConfirmation.length > 0 && typeof invoice.rateConfirmation[0] !== 'string' ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(CancelIcon, {\n          style: {\n            color: 'red'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: Array.isArray(invoice.proofDelivery) && invoice.proofDelivery.length > 0 && typeof invoice.proofDelivery[0] !== 'string' ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(CancelIcon, {\n          style: {\n            color: 'red'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(InvocieEditItem, {\n          invoice: invoice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => handleShowInvoice(invoice),\n          children: \"Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 46\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Invoices, \"mRLorFH1eEIiDCn/fyG3rHQuj+8=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Invoices;\n\nvar _c;\n\n$RefreshReg$(_c, \"Invoices\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/invoices/Invoices.js"],"names":["React","useEffect","useState","TableBody","TableCell","TableRow","CheckCircleIcon","CancelIcon","Button","useDispatch","useSelector","getInvoiceLoads","InvocieEditItem","Invoices","showWizardFor","dispatch","invoices","state","load","data","loads","tempInvoices","setTempInvoices","invoiceToShow","setInvoiceToShow","console","log","filteredInvoice","filter","item","_id","handleShowInvoice","invoice","map","loadNumber","brokerage","rate","Array","isArray","rateConfirmation","length","color","proofDelivery"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport Button from '@material-ui/core/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getInvoiceLoads } from '../../actions/load';\nimport InvocieEditItem from './InvoiceEditItem';\n\nexport default function Invoices({ showWizardFor }) {\n    const dispatch = useDispatch();\n    const invoices = useSelector(state => state.load.invoices.data);\n    const loads = useSelector(state => state.load.loads);\n\n    const [tempInvoices, setTempInvoices] = useState([]);\n    const [invoiceToShow, setInvoiceToShow] = useState(null);\n\n    useEffect(() => {\n        console.log('Invoices updated :', invoices);\n        setTempInvoices(invoices);\n\n        if (invoices && invoiceToShow) {\n            const filteredInvoice = invoices.filter((item) => {\n                if (item._id === invoiceToShow._id) {\n                    return item;\n                } \n            });\n\n            console.log('Filtered :',filteredInvoice )\n            showWizardFor(filteredInvoice[0])\n        }\n    }, [invoices]);\n\n    const handleShowInvoice = (invoice) => {\n        showWizardFor(invoice);\n        setInvoiceToShow(invoice)\n    }\n\n    useEffect(() => {\n        dispatch(getInvoiceLoads());\n    }, []);\n\n    useEffect(() => {\n        dispatch(getInvoiceLoads());\n    }, [loads]);\n\n    return (\n        <TableBody>\n            { tempInvoices.map((invoice) => (<TableRow>\n                <TableCell align=\"center\">{ invoice.loadNumber }</TableCell>\n                <TableCell align=\"center\">{ invoice.brokerage ? invoice.brokerage : '--' }</TableCell>\n                <TableCell align=\"center\">{ invoice.rate ? invoice.rate : '--' }</TableCell>\n                <TableCell align=\"center\">\n                    { \n                        Array.isArray(invoice.rateConfirmation) && invoice.rateConfirmation.length > 0 && typeof invoice.rateConfirmation[0] !== 'string'  ? \n                        <CheckCircleIcon style={{color: 'green'}} />\n                        : <CancelIcon style={{color: 'red'}} /> \n                    }\n                </TableCell>\n                <TableCell align=\"center\">\n                    { \n                        Array.isArray(invoice.proofDelivery) && invoice.proofDelivery.length > 0 && typeof invoice.proofDelivery[0] !== 'string' ? \n                        <CheckCircleIcon style={{color: 'green'}} /> \n                        : <CancelIcon style={{color: 'red'}} /> \n                    }\n                </TableCell>\n                <TableCell align=\"center\">\n                    <InvocieEditItem invoice={invoice} />\n                </TableCell>\n                <TableCell align=\"center\">\n                    <Button \n                    variant=\"contained\" \n                    color=\"primary\"\n                    onClick={()=>handleShowInvoice(invoice)}>\n                        Invoice\n                    </Button>\n                </TableCell>\n            </TableRow>)) }\n        </TableBody>\n    );\n}\n\n"]},"metadata":{},"sourceType":"module"}