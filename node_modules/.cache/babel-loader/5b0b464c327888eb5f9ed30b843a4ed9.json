{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/profile-forms/CreateProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Grid, TextField, Button } from '@material-ui/core';\nimport { Face, Fingerprint } from '@material-ui/icons';\nimport { withRouter } from 'react-router-dom';\nimport { createProfile } from '../../actions/profile';\nimport DummyUser from '../../assets/dummy-user.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileForm = ({\n  createProfile,\n  history\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    company: '',\n    title: '',\n    name: '',\n    image: null\n  });\n  const {\n    company,\n    title,\n    name,\n    image\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    createProfile(formData, history);\n  };\n\n  const openFileSelector = e => {\n    e.preventDefault();\n    let fileInput = document.getElementById('profile-image-input');\n    fileInput.click();\n  };\n\n  const getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        resolve(reader.result);\n      };\n\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n        reject(error);\n      };\n    });\n  };\n\n  const handleImageChange = async event => {\n    const file = event.target.files[0];\n    const tempExtention = file.name.split('.');\n    const fileExtention = tempExtention[tempExtention.length - 1];\n    const allowedFileExtentions = ['png', 'jpg', 'jpeg'];\n\n    if (!allowedFileExtentions.includes(fileExtention)) {\n      return;\n    }\n\n    const base64Image = await getBase64(file);\n    setFormData({ ...formData,\n      ['image']: base64Image\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    style: {\n      marginTop: '150px'\n    },\n    justify: \"center\",\n    alignItems: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => onSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-profile-image\",\n          style: {\n            'textAlign': 'center',\n            'marginBottom': '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image ? image : DummyUser,\n            alt: \"main-logo\",\n            style: {\n              'width': '120px',\n              'height': '120px',\n              'objectFit': 'cover',\n              'borderRadius': '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          display: 'none'\n        },\n        type: \"file\",\n        id: \"profile-image-input\",\n        accept: \"image/*\",\n        onChange: e => handleImageChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field upload-btn\",\n        style: {\n          'textAlign': 'center',\n          'marginBottom': '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          type: \"button\",\n          block: true,\n          className: \"btn_submit\",\n          onClick: e => openFileSelector(e),\n          children: \"Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"company\",\n            name: \"company\",\n            type: \"text\",\n            label: \"Company\",\n            value: company,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        style: {\n          marginTop: '10px'\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Fingerprint, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"title\",\n            name: \"title\",\n            label: \"Title\",\n            type: \"text\",\n            value: title,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        style: {\n          marginTop: '10px'\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"name\",\n            name: \"name\",\n            label: \"Name\",\n            type: \"text\",\n            value: name,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        justify: \"center\",\n        style: {\n          marginTop: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"outlined\",\n          color: \"primary\",\n          style: {\n            textTransform: \"none\"\n          },\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileForm, \"iFbPTnqzf1Y9PaIRv+VD5zNpFFE=\");\n\n_c = ProfileForm;\nProfileForm.propTypes = {\n  createProfile: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  createProfile\n})(withRouter(ProfileForm));\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/profile-forms/CreateProfile.js"],"names":["React","useState","PropTypes","connect","Grid","TextField","Button","Face","Fingerprint","withRouter","createProfile","DummyUser","ProfileForm","history","formData","setFormData","company","title","name","image","onChange","e","target","value","onSubmit","preventDefault","openFileSelector","fileInput","document","getElementById","click","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","console","log","handleImageChange","event","files","tempExtention","split","fileExtention","length","allowedFileExtentions","includes","base64Image","marginTop","display","textTransform","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Grid, TextField, Button } from '@material-ui/core';\nimport { Face, Fingerprint } from '@material-ui/icons';\nimport { withRouter } from 'react-router-dom';\nimport { createProfile } from '../../actions/profile';\nimport DummyUser from '../../assets/dummy-user.png';\n\nconst ProfileForm = ({createProfile, history}) => {\n\n  const [formData, setFormData] = useState({\n    company: '',\n    title: '',\n    name: '',\n    image: null\n  });\n\n  const { company, title, name, image } = formData;\n\n  const onChange = e =>\n  setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    createProfile(formData, history);\n  };\n\n  const openFileSelector = (e) => {\n    e.preventDefault();\n    let fileInput = document.getElementById('profile-image-input');\n    fileInput.click();\n  }\n\n  const getBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = function () {\n        resolve(reader.result)\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n        reject(error)\n      };\n    })\n  }\n\n  const handleImageChange = async (event) => {\n    const file = event.target.files[0];\n    const tempExtention = file.name.split('.');\n    const fileExtention = tempExtention[tempExtention.length - 1];\n    const allowedFileExtentions = ['png', 'jpg', 'jpeg'];\n    if (!allowedFileExtentions.includes(fileExtention)) {\n      return;\n    }\n    \n    const base64Image = await getBase64(file);\n    setFormData({...formData, ['image']: base64Image});\n  }\n\n  return (\n    <Grid  container style={{ marginTop: '150px' }} justify=\"center\" alignItems=\"center\">\n      <form onSubmit={e => onSubmit(e)}>\n\n          <div className=\"form-field\">\n            <div className=\"form-profile-image\" style={{'textAlign': 'center', 'marginBottom': '20px'}}>\n                <img src={image ? image : DummyUser} alt=\"main-logo\" style={{'width': '120px', 'height': '120px', 'objectFit': 'cover', 'borderRadius': '100%'}} />\n            </div>\n          </div>\n\n          <input style={{display: 'none'}} type=\"file\" id=\"profile-image-input\" accept=\"image/*\" onChange={e => handleImageChange(e)} />\n\n          <div className=\"form-field upload-btn\" style={{'textAlign': 'center', 'marginBottom': '30px'}}>\n              <Button variant=\"outlined\" type=\"button\" block className=\"btn_submit\" onClick={e => openFileSelector(e)} >\n                Upload Image\n              </Button>\n          </div>\n\n          <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\n              <Grid item style={{ marginTop: '20px' }} >\n                  <Face />\n              </Grid>\n              <Grid item >\n                  <TextField id=\"company\" name=\"company\"  type=\"text\" label=\"Company\" value={company} onChange={e => onChange(e)} />\n              </Grid>\n          </Grid>\n          <Grid container spacing={1}  style={{ marginTop: '10px' }}justify=\"center\" alignItems=\"center\">\n              <Grid item style={{ marginTop: '20px' }}>\n                  <Fingerprint />\n              </Grid>\n              <Grid item >\n                  <TextField id=\"title\" name=\"title\" label=\"Title\" type=\"text\" value={title} onChange={e => onChange(e)} />\n              </Grid>\n          </Grid>\n          <Grid container spacing={1}  style={{ marginTop: '10px' }}justify=\"center\" alignItems=\"center\">\n               <Grid item style={{ marginTop: '20px' }}>\n                <Face />\n               </Grid>\n               <Grid item >\n                   <TextField id=\"name\" name=\"name\" label=\"Name\" type=\"text\" value={name} onChange={e => onChange(e)} />\n               </Grid>\n           </Grid>\n          <Grid container alignItems=\"center\" justify=\"center\" style={{ marginTop: '20px' }}>\n              <Button type=\"submit\" variant=\"outlined\" color=\"primary\" style={{ textTransform: \"none\" }}>Next</Button>\n          </Grid>\n      </form>\n    </Grid>\n  )\n}\n\nProfileForm.propTypes = {\n  createProfile: PropTypes.func.isRequired\n};\n\nexport default connect(null, { createProfile })(withRouter(ProfileForm));\n"]},"metadata":{},"sourceType":"module"}