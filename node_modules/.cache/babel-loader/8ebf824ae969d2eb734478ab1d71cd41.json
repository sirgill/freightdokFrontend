{"ast":null,"code":"import { GET_LOADS, GET_LOAD, LOAD_ERROR, ADD_LOAD, DELETE_LOAD, PATCH_PICKUP, PICKUP_ERROR, PATCH_DROP, DROP_ERROR } from '../actions/types';\nconst initialState = {\n  loads: [],\n  load: null,\n  loading: true,\n  loads_pagination: {},\n  page: 0,\n  rowsPerPage: 5,\n  error: {}\n};\nexport default function (state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case GET_LOADS:\n      return { ...state,\n        loads: payload.loads.load,\n        loads_pagination: {\n          limit: payload.loads.limit,\n          total: payload.loads.total,\n          totalPages: payload.loads.totalPages,\n          currPage: payload.loads.currentPage\n        },\n        page: payload.page,\n        rowsPerPage: payload.limit,\n        loading: false\n      };\n\n    case GET_LOAD:\n      return { ...state,\n        load: payload,\n        loading: false\n      };\n\n    case ADD_LOAD:\n      let newLoads = state.loads;\n\n      if (state.loads_pagination.totalPages === state.page + 1 && state.rowsPerPage !== state.loads.length) {\n        newLoads = [...state.loads, payload];\n      }\n\n      return { ...state,\n        loads: newLoads,\n        loads_pagination: { ...state.loads_pagination,\n          total: state.loads_pagination.total + 1\n        },\n        loading: false\n      };\n\n    case DELETE_LOAD:\n      return { ...state,\n        loads: state.loads.filter(load => load._id !== payload),\n        loading: false\n      };\n\n    case LOAD_ERROR:\n      return { ...state,\n        error: payload,\n        loading: false\n      };\n\n    case PATCH_PICKUP:\n      return { ...state,\n        load: payload,\n        loading: false\n      };\n\n    case PICKUP_ERROR:\n      return { ...state,\n        error: payload,\n        loading: false\n      };\n\n    case PATCH_DROP:\n      return { ...state,\n        load: payload,\n        loading: false\n      };\n\n    case DROP_ERROR:\n      return { ...state,\n        load: payload,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/sunnygill/Desktop/freightdok/client/src/reducers/load.js"],"names":["GET_LOADS","GET_LOAD","LOAD_ERROR","ADD_LOAD","DELETE_LOAD","PATCH_PICKUP","PICKUP_ERROR","PATCH_DROP","DROP_ERROR","initialState","loads","load","loading","loads_pagination","page","rowsPerPage","error","state","action","type","payload","limit","total","totalPages","currPage","currentPage","newLoads","length","filter","_id"],"mappings":"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","sourcesContent":["import {\n  GET_LOADS,\n  GET_LOAD,\n  LOAD_ERROR,\n  ADD_LOAD,\n  DELETE_LOAD,\n  PATCH_PICKUP,\n  PICKUP_ERROR,\n  PATCH_DROP,\n  DROP_ERROR,\n} from '../actions/types';\n\nconst initialState = {\n  loads: [],\n  load: null,\n  loading: true,\n  loads_pagination: {},\n  page: 0,\n  rowsPerPage: 5,\n  error: {}\n};\n\nexport default function(state = initialState, action) {\n  const { type, payload } = action;\n\n  switch(type) {\n    case GET_LOADS:\n      return {\n        ...state,\n        loads: payload.loads.load,\n        loads_pagination: {\n          limit: payload.loads.limit,\n          total: payload.loads.total,\n          totalPages: payload.loads.totalPages,\n          currPage: payload.loads.currentPage\n        },\n        page: payload.page,\n        rowsPerPage: payload.limit,\n        loading: false\n      };\n      case GET_LOAD:\n        return {\n          ...state,\n          load: payload,\n          loading: false\n        };\n      case ADD_LOAD:\n        let newLoads = state.loads;\n        if(state.loads_pagination.totalPages === state.page+1 && state.rowsPerPage !== state.loads.length) {\n          newLoads = [...state.loads, payload];\n        }\n        return {\n          ...state,\n          loads: newLoads,\n          loads_pagination: { ...state.loads_pagination, total: state.loads_pagination.total+1 },\n          loading: false\n        };\n      case DELETE_LOAD:\n        return {\n          ...state,\n          loads: state.loads.filter(load => load._id !== payload),\n          loading: false\n        }\n      case LOAD_ERROR:\n        return {\n          ...state,\n          error: payload,\n          loading: false\n      };\n      case PATCH_PICKUP:\n        return{\n          ...state,\n          load: payload,\n          loading: false,\n        }\n      case PICKUP_ERROR:\n        return{\n          ...state,\n          error:payload,\n          loading: false,\n        };\n      case PATCH_DROP:\n        return{\n          ...state,\n          load: payload,\n          loading:false,\n        };\n      case DROP_ERROR:\n        return{\n          ...state,\n          load: payload,\n          loading:false,\n        };\n      default:\n        return state;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}