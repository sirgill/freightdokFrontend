{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdokFrontend/client/src/components/driver-forms/AddDriver.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // Redux\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\"; //Material\n\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    marginTop: 0,\n    margin: 0\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  },\n  noLabel: {\n    marginTop: theme.spacing(3)\n  },\n  outside: {\n    position: 'relative',\n    marginTop: '15%'\n  },\n  bottomRight: {\n    position: 'absolute',\n    bottom: '10px',\n    right: '10px'\n  },\n  bottomLeft: {\n    position: 'absolute',\n    bottom: '10px',\n    left: '10px'\n  },\n  select: {\n    \"&:before\": {\n      borderColor: \"#1891FC\"\n    },\n    width: 195,\n    padding: 0,\n    margin: 0\n  }\n}));\nconst CssTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: '#1891FC'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#1891FC'\n    },\n    '& .MuiInput-underline:before': {\n      borderColor: '#1891FC'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#1891FC'\n      },\n      '&:hover fieldset': {\n        borderColor: '#1891FC'\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#1891FC'\n      }\n    }\n  }\n})(TextField);\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350\n    }\n  }\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium\n  };\n}\n\nconst isPhoneNumber = input => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({\n  user,\n  addDriver,\n  all_drivers,\n  getLoads,\n  load: {\n    loads,\n    allLoads,\n    loading\n  }\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: [],\n    user: \"\"\n  };\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    // setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false); // setForm(formTemplate);\n\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n\n    setCount(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    addDriver(form);\n    handleClose();\n  };\n\n  const updateForm = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLoadsChange = e => {\n    setForm({ ...form,\n      loads: [...e.target.value]\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user && user.role === 'afterhours' || /*#__PURE__*/_jsxDEV(Fab, {\n      color: \"primary\",\n      onClick: handleClickOpen,\n      style: {\n        marginBottom: '20%'\n      },\n      children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 49\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      fullWidth: true,\n      maxWidth: \"sm\",\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            children: count === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                id: \"form-dialog-title\",\n                children: \"Add Driver\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(CssTextField, {\n                    id: \"outlined-basic\",\n                    type: \"firstName\",\n                    className: \"form-control\",\n                    name: \"firstName\",\n                    label: \"First Name\",\n                    onChange: e => updateForm(e),\n                    value: form.firstName,\n                    style: {\n                      marginRight: \"10px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(CssTextField, {\n                    id: \"outlined-basic\",\n                    type: \"lastName\",\n                    className: \"form-control\",\n                    name: \"lastName\",\n                    label: \"Last Name\",\n                    onChange: e => updateForm(e),\n                    value: form.lastName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(CssTextField, {\n                    id: \"outlined-basic\",\n                    type: \"phoneNumber\",\n                    className: \"form-control\",\n                    name: \"phoneNumber\",\n                    label: \"Phone Number\",\n                    onChange: e => updateForm(e),\n                    value: form.phoneNumber\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    className: classes.formControl,\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      id: \"demo-simple-select-label\",\n                      children: \"Select Driver\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      labelId: \"demo-simple-select-label\",\n                      value: form.user,\n                      name: \"user\",\n                      onChange: e => updateForm(e),\n                      className: classes.select,\n                      children: all_drivers.map(driver => /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: driver._id,\n                        children: driver.email\n                      }, driver._id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 255,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 1,\n                style: {\n                  marginTop: \"20px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4,\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"\",\n                    type: \"submit\",\n                    variant: \"outlined\",\n                    color: \"primary\",\n                    onClick: onSubmit,\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 4\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddDriverForm, \"YYFBZdMM56CisXkbqRDzoU+7ee4=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c = AddDriverForm;\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = ({\n  load,\n  auth: {\n    user\n  },\n  driver: {\n    all_drivers\n  }\n}) => ({\n  load,\n  user,\n  all_drivers\n});\n\nexport default connect(mapStateToProps, {\n  addDriver,\n  getLoads\n})(AddDriverForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"AddDriverForm\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdokFrontend/client/src/components/driver-forms/AddDriver.js"],"names":["React","useEffect","useState","PropTypes","connect","addDriver","getLoads","Fab","AddIcon","Dialog","DialogContent","DialogTitle","Grid","TextField","Button","Select","InputLabel","MenuItem","FormControl","makeStyles","useTheme","withStyles","useStyles","theme","backButton","marginRight","spacing","form","display","flexDirection","margin","width","formControl","minWidth","marginTop","chips","flexWrap","chip","noLabel","outside","position","bottomRight","bottom","right","bottomLeft","left","select","borderColor","padding","CssTextField","root","color","borderBottomColor","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","getStyles","name","loads","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","isPhoneNumber","input","phoneno","match","AddDriverForm","user","all_drivers","load","allLoads","loading","classes","formTemplate","firstName","lastName","phoneNumber","open","setOpen","count","setCount","setForm","handleClickOpen","handleClose","handleNext","alert","prevActiveStep","handleBack","onSubmit","e","preventDefault","updateForm","target","value","handleLoadsChange","role","marginBottom","map","driver","_id","email","propTypes","func","isRequired","object","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// Redux\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\";\n//Material\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from '@material-ui/core/FormControl';\nimport { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\",\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    marginTop: 0,\n    margin: 0\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n  outside: {\n    position: 'relative',\n    marginTop: '15%'\n  },\n  bottomRight: {\n    position: 'absolute',\n    bottom: '10px',\n    right: '10px'\n  },\n  bottomLeft: {\n    position: 'absolute',\n    bottom: '10px',\n    left: '10px'\n  },\n  select: {\n    \"&:before\": {\n      borderColor: \"#1891FC\"\n    },\n    width: 195,\n    padding: 0,\n    margin: 0\n  }\n}));\n\nconst CssTextField = withStyles({\n  root: {\n    '& label.Mui-focused': {\n      color: '#1891FC',\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: '#1891FC',\n    },\n    '& .MuiInput-underline:before': {\n      borderColor: '#1891FC'\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: '#1891FC',\n      },\n      '&:hover fieldset': {\n        borderColor: '#1891FC',\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: '#1891FC',\n      },\n    },\n  },\n})(TextField);\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350,\n    },\n  },\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium,\n  };\n}\n\nconst isPhoneNumber = (input) => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({ user, addDriver, all_drivers, getLoads, load: { loads, allLoads, loading } }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: [],\n    user: \"\"\n  };\n\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    // setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    // setForm(formTemplate);\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n    setCount((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    addDriver(form);\n    handleClose();\n  };\n\n  const updateForm = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleLoadsChange = (e) => {\n    setForm({\n      ...form,\n      loads: [...e.target.value],\n    });\n  };\n  return (\n    <>\n      { (user && user.role === 'afterhours') || <Fab color=\"primary\" onClick={handleClickOpen} style={{marginBottom: '20%'}}>\n        <AddIcon />\n      </Fab> }\n\n      <Dialog fullWidth={true} maxWidth={\"sm\"} open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        \n        <DialogContent>\n          <div className=\"\">\n            <form className={classes.form}>\n              {count === 1 ? (\n                <div>\n                  <DialogTitle id=\"form-dialog-title\">Add Driver</DialogTitle>\n\n                  <div>\n                    <div className=\"form-group\">\n                      <CssTextField\n                        id=\"outlined-basic\"\n                        type=\"firstName\"\n                        className=\"form-control\"\n                        name=\"firstName\"\n                        label=\"First Name\"\n                        onChange={(e) => updateForm(e)}\n                        value={form.firstName}\n                        style={{ marginRight: \"10px\" }}\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <CssTextField\n                        id=\"outlined-basic\"\n                        type=\"lastName\"\n                        className=\"form-control\"\n                        name=\"lastName\"\n                        label=\"Last Name\"\n                        onChange={(e) => updateForm(e)}\n                        value={form.lastName}\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <CssTextField\n                        id=\"outlined-basic\"\n                        type=\"phoneNumber\"\n                        className=\"form-control\"\n                        name=\"phoneNumber\"\n                        label=\"Phone Number\"\n                        onChange={(e) => updateForm(e)}\n                        value={form.phoneNumber}\n                      />\n                    </div>\n\n                    <div className=\"form-group\">\n                      <FormControl className={classes.formControl}>\n                        <InputLabel id=\"demo-simple-select-label\">Select Driver</InputLabel>\n                        <Select\n                          labelId=\"demo-simple-select-label\"\n                          value={form.user}\n                          name=\"user\"\n                          onChange={(e) => updateForm(e)}\n                          className={classes.select}\n                        >\n                          {all_drivers.map((driver) => (\n                            <MenuItem key={driver._id} value={driver._id}>\n                              { driver.email }\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </div>\n                  </div>\n                  \n                  <Grid container spacing={1} style={{ marginTop: \"20px\" }}>\n                    <Grid item xs={4}></Grid>\n                    <Grid item xs={4}>\n                        <Button className=\"\" type=\"submit\" variant=\"outlined\" color=\"primary\"  onClick={onSubmit}>\n                            Submit\n                        </Button>\n                    </Grid>\n                    <Grid item xs={4}></Grid>\n                  </Grid>\n                  \n\n                </div>\n              ) : null}\n            </form>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ load, auth: { user }, driver: { all_drivers } }) => ({ load, user, all_drivers });\n\nexport default connect(mapStateToProps, { addDriver, getLoads })(AddDriverForm);\n"]},"metadata":{},"sourceType":"module"}