{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/driver-forms/AddDriver.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // Redux\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\"; //Material\n\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\"\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  },\n  noLabel: {\n    marginTop: theme.spacing(3)\n  }\n}));\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350\n    }\n  }\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium\n  };\n}\n\nconst isPhoneNumber = input => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({\n  user,\n  addDriver,\n  getLoads,\n  load: {\n    loads,\n    loading\n  }\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: []\n  };\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    // setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false); // setForm(formTemplate);\n\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n\n    setCount(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    addDriver(form);\n    handleClose();\n  };\n\n  const updateForm = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLoadsChange = e => {\n    setForm({ ...form,\n      loads: [...e.target.value]\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [user && user.role === 'afterhours' || /*#__PURE__*/_jsxDEV(Fab, {\n      color: \"primary\",\n      onClick: handleClickOpen,\n      children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 49\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      fullWidth: true,\n      maxWidth: \"sm\",\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Add Driver\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            children: [count === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  type: \"firstName\",\n                  className: \"form-control\",\n                  name: \"firstName\",\n                  label: \"First Name\",\n                  onChange: e => updateForm(e),\n                  value: form.firstName,\n                  style: {\n                    marginRight: \"10px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  type: \"lastName\",\n                  className: \"form-control\",\n                  name: \"lastName\",\n                  label: \"Last Name\",\n                  onChange: e => updateForm(e),\n                  value: form.lastName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  type: \"phoneNumber\",\n                  className: \"form-control\",\n                  name: \"phoneNumber\",\n                  label: \"Phone Number\",\n                  onChange: e => updateForm(e),\n                  value: form.phoneNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this) : null, count === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                id: \"assignedLoadsLabel\",\n                children: \"Assigned Loads\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                labelId: \"assignedLoadsLabel\",\n                id: \"assignedLoads\",\n                multiple: true,\n                value: form.loads,\n                style: {\n                  width: \"350px\"\n                },\n                onChange: handleLoadsChange,\n                input: /*#__PURE__*/_jsxDEV(Input, {\n                  id: \"select-multiple-chip\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 28\n                }, this),\n                renderValue: selected => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.chips,\n                  children: selected.map(value => /*#__PURE__*/_jsxDEV(Chip, {\n                    label: value.loadNumber,\n                    className: classes.chip\n                  }, value._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this),\n                MenuProps: MenuProps,\n                children: loads.map(load => /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: load,\n                  style: getStyles(load, loads, theme),\n                  children: [\"Load Number: \", load.loadNumber, \", Number of Pickups: \", load.pickup.length]\n                }, load._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 1,\n            style: {\n              marginTop: \"20px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"\",\n                onClick: onSubmit,\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"\",\n                onClick: handleBack,\n                disabled: count === 1,\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"\",\n                onClick: handleNext,\n                disabled: count > 1,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddDriverForm, \"YYFBZdMM56CisXkbqRDzoU+7ee4=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c = AddDriverForm;\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = ({\n  load,\n  auth: {\n    user\n  }\n}) => ({\n  load,\n  user\n});\n\nexport default connect(mapStateToProps, {\n  addDriver,\n  getLoads\n})(AddDriverForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"AddDriverForm\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/driver-forms/AddDriver.js"],"names":["React","useEffect","useState","PropTypes","connect","addDriver","getLoads","Fab","AddIcon","Dialog","DialogActions","DialogContent","DialogTitle","Grid","TextField","Button","Select","InputLabel","Input","Chip","MenuItem","makeStyles","useTheme","useStyles","theme","backButton","marginRight","spacing","form","display","flexDirection","margin","width","chips","flexWrap","chip","noLabel","marginTop","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","getStyles","name","loads","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","isPhoneNumber","input","phoneno","match","AddDriverForm","user","load","loading","classes","formTemplate","firstName","lastName","phoneNumber","open","setOpen","count","setCount","setForm","handleClickOpen","handleClose","handleNext","alert","prevActiveStep","handleBack","onSubmit","e","preventDefault","updateForm","target","value","handleLoadsChange","role","selected","map","loadNumber","_id","pickup","length","propTypes","func","isRequired","object","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// Redux\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\";\n//Material\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\",\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350,\n    },\n  },\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium,\n  };\n}\n\nconst isPhoneNumber = (input) => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({ user, addDriver, getLoads, load: { loads, loading } }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: [],\n  };\n\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    // setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    // setForm(formTemplate);\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n    setCount((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    addDriver(form);\n\n    handleClose();\n  };\n\n  const updateForm = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleLoadsChange = (e) => {\n    setForm({\n      ...form,\n      loads: [...e.target.value],\n    });\n  };\n  return (\n    <>\n      { (user && user.role === 'afterhours') || <Fab color=\"primary\" onClick={handleClickOpen}>\n        <AddIcon />\n      </Fab> }\n\n      <Dialog fullWidth={true} maxWidth={\"sm\"} open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add Driver</DialogTitle>\n        <DialogContent>\n          <div className=\"\">\n            <form className={classes.form}>\n              {count === 1 ? (\n                <div>\n                  <div className=\"form-group\">\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"firstName\"\n                      className=\"form-control\"\n                      name=\"firstName\"\n                      label=\"First Name\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.firstName}\n                      style={{ marginRight: \"10px\" }}\n                    />\n\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"lastName\"\n                      className=\"form-control\"\n                      name=\"lastName\"\n                      label=\"Last Name\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.lastName}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"phoneNumber\"\n                      className=\"form-control\"\n                      name=\"phoneNumber\"\n                      label=\"Phone Number\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.phoneNumber}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {count === 2 ? (\n                <div className=\"form-group\">\n                  <InputLabel id=\"assignedLoadsLabel\">Assigned Loads</InputLabel>\n                  <Select\n                    labelId=\"assignedLoadsLabel\"\n                    id=\"assignedLoads\"\n                    multiple\n                    value={form.loads}\n                    style={{ width: \"350px\" }}\n                    onChange={handleLoadsChange}\n                    input={<Input id=\"select-multiple-chip\" />}\n                    renderValue={(selected) => (\n                      <div className={classes.chips}>\n                        {selected.map((value) => (\n                          <Chip key={value._id} label={value.loadNumber} className={classes.chip} />\n                        ))}\n                      </div>\n                    )}\n                    MenuProps={MenuProps}\n                  >\n                    {loads.map((load) => (\n                      <MenuItem key={load._id} value={load} style={getStyles(load, loads, theme)}>\n                        Load Number: {load.loadNumber}, Number of Pickups: {load.pickup.length}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </div>\n              ) : null}\n            </form>\n            <Grid container spacing={1} style={{ marginTop: \"20px\" }}>\n              <Grid item xs={12}>\n                <Button className=\"\" onClick={onSubmit}>\n                  Submit\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button className=\"\" onClick={handleBack} disabled={count === 1}>\n                  Back\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button className=\"\" onClick={handleNext} disabled={count > 1}>\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = ({ load, auth: { user } }) => ({ load, user });\n\nexport default connect(mapStateToProps, { addDriver, getLoads })(AddDriverForm);\n"]},"metadata":{},"sourceType":"module"}