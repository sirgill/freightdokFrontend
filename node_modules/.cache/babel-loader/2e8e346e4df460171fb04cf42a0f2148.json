{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Desktop/freightdok/client/src/components/loads/Loaditem.js\";\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport LoadPickup from './LoadPickup';\nimport LoadDrop from './LoadDrop';\nimport { connect } from 'react-redux';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport Collapse from '@material-ui/core/Collapse';\nimport Box from '@material-ui/core/Box';\nimport { Typography } from '@material-ui/core'; // <h5>\n// {pickup.length > 0 ? (<Fragment>\n//   {pickup.map(pickup => (\n//     <LoadPickup key={pickup._id} pickup={pickup} />\n//   ))}\n// </Fragment>) : (<h4>No pickups listed</h4>)}\n// </h5>\n// <h5>\n// {drop.length > 0 ? (<Fragment>\n//   {drop.map(drop => (\n//     <LoadDrop key={drop._id} drop={drop} />\n//   ))}\n// </Fragment>) : (<h4>No drops listed</h4>)}\n// </h5>\n\nconst StyledBadge = withStyles(theme => ({\n  badge: {\n    right: -7,\n    top: 0,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\"\n  }\n}))(Badge);\n\nconst LoadItem = ({\n  load: {\n    user: {\n      _id,\n      name\n    },\n    brokerage,\n    loadNumber,\n    pickup,\n    drop\n  }\n}) => {\n  const pickupState = pickup.map(pickup => pickup.pickupState);\n  const pickupCity = pickup.map(pickup => pickup.pickupCity);\n  const pickupDate = pickup.map(pickup => pickup.pickupDate);\n  const dropState = drop.map(drop => drop.dropState);\n  const dropCity = drop.map(drop => drop.dropCity);\n  const dropDate = drop.map(drop => drop.dropDate);\n  const pickupStateFirst = pickupState[0];\n  const pickupCityFirst = pickupCity[0];\n  const pickDateFirst = pickupDate[0];\n  const dropStateFirst = dropState[0];\n  const dropCityFirst = dropCity[0];\n  const dropDateFirst = dropDate[0];\n  const [open, setOpen] = useState(false);\n\n  const formatDate = date => {\n    const d = new Date(date);\n    const hours = d.getHours();\n    const minutes = d.getMinutes();\n    let time = '';\n\n    if (hours > 0 && hours <= 12) {\n      time = \"\" + hours;\n    } else if (hours > 12) {\n      time = \"\" + (hours - 12);\n    } else if (hours === 0) {\n      time = \"12\";\n    }\n\n    time += minutes < 10 ? \":0\" + minutes : \":\" + minutes;\n    time += hours >= 12 ? \" P.M.\" : \" A.M.\";\n    return [d.getMonth() + 1, d.getDate(), d.getFullYear()].join('/') + ' ' + time;\n  };\n\n  return /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"expand row\",\n    size: \"small\",\n    onClick: () => setOpen(!open),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, open ? /*#__PURE__*/React.createElement(KeyboardArrowUpIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(KeyboardArrowDownIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 51\n    }\n  }))), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, loadNumber), pickup.length <= 0 ? /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, pickupCityFirst, \", \", pickupStateFirst)) : /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(StyledBadge, {\n    color: \"primary\",\n    max: 10,\n    badgeContent: pickup.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, pickupCityFirst, \", \", pickupStateFirst)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Moment, {\n    format: \"MM/DD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, pickDateFirst)), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, dropCityFirst, \", \", dropStateFirst), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Moment, {\n    format: \"MM/DD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, dropDateFirst))), /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      paddingBottom: 0,\n      paddingTop: 0\n    },\n    colSpan: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    in: open,\n    timeout: \"auto\",\n    unmountOnExit: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    margin: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    component: \"div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"Details\"), /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    \"aria-label\": \"load details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \"Pickup Date\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \"Pickup Address\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, \"Drop Date\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Drop Address\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, pickup.map((pick, index) => /*#__PURE__*/React.createElement(TableRow, {\n    key: pick._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 27\n    }\n  }, formatDate(pick.pickupDate)), /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 27\n    }\n  }, pick.pickupAddress), /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 27\n    }\n  }, formatDate(drop[index].dropDate)), /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 27\n    }\n  }, drop[index].dropAddress))))))))));\n};\n\nLoadItem.propTypes = {\n  load: PropTypes.object.isRequired\n};\nexport default LoadItem;","map":{"version":3,"sources":["/Users/sunnygill/Desktop/freightdok/client/src/components/loads/Loaditem.js"],"names":["React","Fragment","useState","PropTypes","Moment","LoadPickup","LoadDrop","connect","makeStyles","withStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Badge","IconButton","KeyboardArrowDownIcon","KeyboardArrowUpIcon","Collapse","Box","Typography","StyledBadge","theme","badge","right","top","border","palette","background","paper","padding","LoadItem","load","user","_id","name","brokerage","loadNumber","pickup","drop","pickupState","map","pickupCity","pickupDate","dropState","dropCity","dropDate","pickupStateFirst","pickupCityFirst","pickDateFirst","dropStateFirst","dropCityFirst","dropDateFirst","open","setOpen","formatDate","date","d","Date","hours","getHours","minutes","getMinutes","time","getMonth","getDate","getFullYear","join","length","paddingBottom","paddingTop","pick","index","pickupAddress","dropAddress","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport LoadPickup from './LoadPickup';\nimport LoadDrop from './LoadDrop';\nimport { connect } from 'react-redux';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport Collapse from '@material-ui/core/Collapse';\nimport Box from '@material-ui/core/Box';\nimport { Typography } from '@material-ui/core';\n\n// <h5>\n// {pickup.length > 0 ? (<Fragment>\n//   {pickup.map(pickup => (\n//     <LoadPickup key={pickup._id} pickup={pickup} />\n//   ))}\n// </Fragment>) : (<h4>No pickups listed</h4>)}\n// </h5>\n\n// <h5>\n// {drop.length > 0 ? (<Fragment>\n//   {drop.map(drop => (\n//     <LoadDrop key={drop._id} drop={drop} />\n//   ))}\n// </Fragment>) : (<h4>No drops listed</h4>)}\n// </h5>\n\n\n\nconst StyledBadge = withStyles((theme) => ({\n  badge: {\n    right: -7,\n    top: 0,\n    border: `2px solid ${theme.palette.background.paper}`,\n    padding: \"0 4px\",\n  },\n}))(Badge);\n\nconst LoadItem = ({\n  load: {\n    user: { _id, name },\n    brokerage,\n    loadNumber,\n    pickup,\n    drop,\n  },\n}) => {\n\n  const pickupState = pickup.map((pickup) => pickup.pickupState);\n  const pickupCity = pickup.map((pickup) => pickup.pickupCity);\n  const pickupDate = pickup.map((pickup) => pickup.pickupDate);\n\n  const dropState = drop.map((drop) => drop.dropState);\n  const dropCity = drop.map((drop) => drop.dropCity);\n  const dropDate = drop.map((drop) => drop.dropDate);\n\n  const pickupStateFirst = pickupState[0];\n  const pickupCityFirst = pickupCity[0];\n  const pickDateFirst = pickupDate[0];\n\n  const dropStateFirst = dropState[0];\n  const dropCityFirst = dropCity[0];\n  const dropDateFirst = dropDate[0];\n\n  const [open,setOpen] = useState(false);\n\n  const formatDate = (date) => {\n    const d = new Date(date);\n    const hours = d.getHours();\n    const minutes = d.getMinutes();\n    let time = '';\n\n    if(hours > 0 && hours <= 12){\n      time = \"\" + hours;\n    }else if (hours > 12){\n      time = \"\" + (hours - 12);\n    }else if (hours === 0){\n      time = \"12\";\n    }\n\n    time += (minutes < 10 ) ? \":0\" + minutes : \":\" + minutes;\n    time += (hours >= 12) ? \" P.M.\" : \" A.M.\";\n\n    return [d.getMonth()+1,d.getDate(),d.getFullYear()].join('/')+ ' ' + time;\n  }\n\n\n\n  return (\n        <TableBody>\n          <TableRow>\n            <TableCell>\n              {/* TODO: make the collapsable button only work when there is a load */}\n              <IconButton aria-label=\"expand row\" size=\"small\" onClick={()=> setOpen(!open)}>\n                {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon /> }\n              </IconButton>\n            </TableCell>\n            <TableCell align=\"center\">{loadNumber}</TableCell>\n            {/* Made this 0 thought it would be nice to see if there is a pickup and drop on the load at all times */}\n            {pickup.length <= 0 ? (\n              <Fragment>\n                <TableCell align=\"center\">{pickupCityFirst}, {pickupStateFirst}</TableCell>\n              </Fragment>\n            ) : (\n              <TableCell align=\"center\">\n                <StyledBadge color=\"primary\" max={10} badgeContent={pickup.length}>\n                {pickupCityFirst}, {pickupStateFirst}\n                </StyledBadge>\n              </TableCell>\n            )}\n            <TableCell align=\"center\">\n            <Moment format='MM/DD'>{pickDateFirst}</Moment>\n            </TableCell>\n            <TableCell>\n            {dropCityFirst}, {dropStateFirst}\n            </TableCell>\n            <TableCell align=\"center\">\n            <Moment format='MM/DD'>{dropDateFirst}</Moment>\n            </TableCell>\n          </TableRow>\n          <TableRow>\n            <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n              <Collapse in={open} timeout=\"auto\" unmountOnExit>\n                <Box margin={1}>\n                  <Typography variant=\"h6\" gutterBottom component=\"div\">\n                    Details\n                  </Typography>\n                  <Table size=\"small\" aria-label=\"load details\">\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>Pickup Date</TableCell>\n                        <TableCell>Pickup Address</TableCell>\n                        <TableCell>Drop Date</TableCell>\n                        <TableCell>Drop Address</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {/* {pickup.map((pick,index)=>(\n                        <TableRow key={pick.pickupDeliverNumber}>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {pick}\n                          </TableCell>\n                        </TableRow>\n                      ))} */}\n                      {pickup.map((pick,index)=>(\n                        <TableRow key={pick._id}>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {formatDate(pick.pickupDate)}\n                          </TableCell>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {pick.pickupAddress}\n                          </TableCell>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {formatDate(drop[index].dropDate)}\n                          </TableCell>\n                          <TableCell component=\"th\" scope=\"row\">\n                            {drop[index].dropAddress}\n                          </TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </Box>\n              </Collapse>\n            </TableCell>\n          </TableRow>\n        </TableBody>\n  );\n};\n\n\n\n\nLoadItem.propTypes = {\n  load: PropTypes.object.isRequired,\n};\n\n\n\n\nexport default LoadItem;\n"]},"metadata":{},"sourceType":"module"}