{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/profile-forms/EditProfile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport { Paper, withStyles, Grid, TextField, Button, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { Face, Fingerprint } from '@material-ui/icons';\nimport { Link, withRouter, useHistory } from 'react-router-dom';\nimport { createProfile, getCurrentProfile } from '../../actions/profile';\nimport DummyUser from '../../assets/dummy-user.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditProfile = ({\n  profile: {\n    profile,\n    loading\n  },\n  createProfile,\n  getCurrentProfile,\n  history\n}) => {\n  _s();\n\n  const browserHistory = useHistory();\n  const [formData, setFormData] = useState({\n    company: '',\n    title: '',\n    name: '',\n    image: null,\n    imageUrl: null\n  });\n  const {\n    company,\n    title,\n    name,\n    image,\n    imageUrl\n  } = formData;\n  useEffect(() => {\n    getCurrentProfile();\n  }, []);\n  useEffect(() => {\n    if (!profile) browserHistory.push('create-profile');else setFormData({\n      company: profile.company,\n      title: profile.title,\n      name: profile.name,\n      image: profile.imageUrl\n    });\n  }, [profile]);\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    createProfile(formData, history, true);\n  };\n\n  const openFileSelector = e => {\n    e.preventDefault();\n    let fileInput = document.getElementById('profile-image-input');\n    fileInput.click();\n  };\n\n  const getBase64 = file => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        resolve(reader.result);\n      };\n\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n        reject(error);\n      };\n    });\n  };\n\n  const handleImageChange = async event => {\n    const file = event.target.files[0];\n    const tempExtention = file.name.split('.');\n    const fileExtention = tempExtention[tempExtention.length - 1];\n    const allowedFileExtentions = ['png', 'jpg', 'jpeg'];\n\n    if (!allowedFileExtentions.includes(fileExtention)) {\n      return;\n    }\n\n    const base64Image = await getBase64(file);\n    setFormData({ ...formData,\n      ['image']: base64Image\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    style: {\n      marginTop: '150px'\n    },\n    justify: \"center\",\n    alignItems: \"center\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => onSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-profile-image\",\n          style: {\n            'textAlign': 'center',\n            'marginBottom': '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageUrl ? imageUrl : image ? image : DummyUser,\n            alt: \"main-logo\",\n            style: {\n              'width': '120px',\n              'height': '120px',\n              'objectFit': 'cover',\n              'borderRadius': '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          display: 'none'\n        },\n        type: \"file\",\n        id: \"profile-image-input\",\n        accept: \"image/*\",\n        onChange: e => handleImageChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field upload-btn\",\n        style: {\n          'textAlign': 'center',\n          'marginBottom': '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          type: \"button\",\n          block: true,\n          className: \"btn_submit\",\n          onClick: e => openFileSelector(e),\n          children: \"Upload Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"company\",\n            name: \"company\",\n            type: \"text\",\n            label: \"Company\",\n            value: company,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        style: {\n          marginTop: '10px'\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Fingerprint, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"title\",\n            name: \"title\",\n            label: \"Title\",\n            type: \"text\",\n            value: title,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        style: {\n          marginTop: '10px'\n        },\n        justify: \"center\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          style: {\n            marginTop: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Face, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"name\",\n            name: \"name\",\n            label: \"Name\",\n            type: \"text\",\n            value: name,\n            onChange: e => onChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        justify: \"center\",\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"outlined\",\n          color: \"primary\",\n          style: {\n            textTransform: \"none\"\n          },\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          button: true,\n          component: Link,\n          to: \"/dashboard\",\n          variant: \"outlined\",\n          color: \"primary\",\n          style: {\n            textTransform: \"none\",\n            marginLeft: '10px'\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditProfile, \"kDQG9drRWaJYt7IZgPhL7OlQ0dc=\", false, function () {\n  return [useHistory];\n});\n\n_c = EditProfile;\nEditProfile.propTypes = {\n  createProfile: PropTypes.func.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  profile: state.profile\n});\n\nexport default connect(mapStateToProps, {\n  createProfile,\n  getCurrentProfile\n})(withRouter(EditProfile));\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/profile-forms/EditProfile.js"],"names":["React","useState","useEffect","PropTypes","connect","makeStyles","useTheme","Paper","withStyles","Grid","TextField","Button","FormControlLabel","Checkbox","Face","Fingerprint","Link","withRouter","useHistory","createProfile","getCurrentProfile","DummyUser","EditProfile","profile","loading","history","browserHistory","formData","setFormData","company","title","name","image","imageUrl","push","onChange","e","target","value","onSubmit","preventDefault","openFileSelector","fileInput","document","getElementById","click","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","console","log","handleImageChange","event","files","tempExtention","split","fileExtention","length","allowedFileExtentions","includes","base64Image","marginTop","display","textTransform","marginLeft","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport { Paper, withStyles, Grid, TextField, Button, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { Face, Fingerprint } from '@material-ui/icons';\n\nimport { Link, withRouter, useHistory } from 'react-router-dom';\nimport { createProfile, getCurrentProfile } from '../../actions/profile';\nimport DummyUser from '../../assets/dummy-user.png';\n\nconst EditProfile = ({ profile: { profile, loading }, createProfile, getCurrentProfile, history}) => {\n\n  const browserHistory = useHistory();\n\n  const [formData, setFormData] = useState({\n    company: '',\n    title: '',\n    name: '',\n    image: null,\n    imageUrl: null\n  });\n\n  const { company, title, name, image, imageUrl } = formData;\n\n  useEffect(() => {\n    getCurrentProfile();\n  }, []);\n\n  useEffect(() => {\n    if (!profile)\n      browserHistory.push('create-profile');\n    else\n      setFormData({ \n        company: profile.company, \n        title: profile.title, \n        name: profile.name, \n        image: profile.imageUrl\n      });\n  }, [profile]);\n\n  const onChange = e =>\n  setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    createProfile(formData, history, true);\n  };\n\n  const openFileSelector = (e) => {\n    e.preventDefault();\n    let fileInput = document.getElementById('profile-image-input');\n    fileInput.click();\n  }\n\n  const getBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = function () {\n        resolve(reader.result)\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n        reject(error)\n      };\n    })\n  }\n\n  const handleImageChange = async (event) => {\n    const file = event.target.files[0];\n    const tempExtention = file.name.split('.');\n    const fileExtention = tempExtention[tempExtention.length - 1];\n    const allowedFileExtentions = ['png', 'jpg', 'jpeg'];\n    if (!allowedFileExtentions.includes(fileExtention)) {\n      return;\n    }\n    \n    const base64Image = await getBase64(file);\n    setFormData({...formData, ['image']: base64Image});\n  }\n\n  return (\n\n    <Grid  container style={{ marginTop: '150px' }} justify=\"center\" alignItems=\"center\">\n        <form onSubmit={e => onSubmit(e)}>\n\n          <div className=\"form-field\">\n              <div className=\"form-profile-image\" style={{'textAlign': 'center', 'marginBottom': '20px'}}>\n                  <img src={imageUrl ? imageUrl : image ? image : DummyUser} alt=\"main-logo\" style={{'width': '120px', 'height': '120px', 'objectFit': 'cover', 'borderRadius': '100%'}} />\n              </div>\n          </div>\n\n          <input style={{display: 'none'}} type=\"file\" id=\"profile-image-input\" accept=\"image/*\" onChange={e => handleImageChange(e)} />\n\n          <div className=\"form-field upload-btn\" style={{'textAlign': 'center', 'marginBottom': '30px'}}>\n              <Button variant=\"outlined\" type=\"button\" block className=\"btn_submit\" onClick={e => openFileSelector(e)} >\n                Upload Image\n              </Button>\n          </div>\n\n           <Grid container spacing={1} justify=\"center\" alignItems=\"center\" >\n               <Grid item style={{ marginTop: '20px' }} >\n                   <Face />\n               </Grid>\n               <Grid item >\n                  <TextField id=\"company\" name=\"company\"  type=\"text\" label=\"Company\" value={company} onChange={e => onChange(e)} />\n               </Grid>\n           </Grid>\n           <Grid container spacing={1}  style={{ marginTop: '10px' }}justify=\"center\" alignItems=\"center\">\n               <Grid item style={{ marginTop: '20px' }}>\n                  <Fingerprint />\n               </Grid>\n               <Grid item >\n                   <TextField id=\"title\" name=\"title\" label=\"Title\" type=\"text\" value={title} onChange={e => onChange(e)} />\n               </Grid>\n           </Grid>\n           <Grid container spacing={1}  style={{ marginTop: '10px' }}justify=\"center\" alignItems=\"center\">\n               <Grid item style={{ marginTop: '20px' }}>\n                <Face />\n               </Grid>\n               <Grid item >\n                   <TextField id=\"name\" name=\"name\" label=\"Name\" type=\"text\" value={name} onChange={e => onChange(e)} />\n               </Grid>\n           </Grid>\n           <Grid container alignItems=\"center\" justify=\"center\" style={{ marginTop: '20px' }}>\n               <Button type=\"submit\" variant=\"outlined\" color=\"primary\" style={{ textTransform: \"none\" }}>Update</Button>\n               <Button button component={Link} to=\"/dashboard\" variant=\"outlined\" color=\"primary\" style={{ textTransform: \"none\", marginLeft: '10px' }}>Back</Button>\n           </Grid>\n              </form>\n           </Grid>\n\n\n  );\n};\n\nEditProfile.propTypes = {\n  createProfile: PropTypes.func.isRequired,\n  getCurrentProfile: PropTypes.func.isRequired,\n  profile: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  profile: state.profile\n\n});\n\nexport default connect(mapStateToProps, { createProfile, getCurrentProfile })(withRouter(EditProfile));\n"]},"metadata":{},"sourceType":"module"}