{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/users/UsersList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUsers, selectUserToEdit, deleteUser } from '../../actions/users';\nimport Spinner from '../layout/Spinner';\nimport { capitalizeFirstLetter } from '../../utils/helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 700\n  },\n  TableContainer: {\n    borderBottom: \"none\"\n  }\n});\n\nconst UsersList = () => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    list,\n    loading,\n    page,\n    limit,\n    total\n  } = useSelector(state => state.users);\n  const {\n    user\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchUsers(+page, +limit));\n  }, []);\n\n  const handleChangePage = (event, newPage) => {\n    dispatch(fetchUsers(newPage, +limit));\n  };\n\n  const handleChangeRowsPerPage = event => {\n    const new_limit = event.target.value;\n    dispatch(fetchUsers(0, new_limit));\n  };\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    className: classes.TableContainer,\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      borderBottom: \"none\",\n      \"aria-label\": \"caption table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        className: classes.TableContainer,\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: !loading ? list.length > 0 ? list.map(({\n          _id,\n          name,\n          email,\n          role\n        }) => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: name ? name : '--'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: capitalizeFirstLetter(role)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(EditIcon, {\n                color: \"primary\",\n                onClick: () => {\n                  dispatch(selectUserToEdit({\n                    _id,\n                    email,\n                    role\n                  }));\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 21\n            }, this), user && user.role === 'user' || /*#__PURE__*/_jsxDEV(IconButton, {\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                onClick: () => {\n                  dispatch(deleteUser(_id));\n                },\n                style: {\n                  color: \"rgb(220, 0, 78)\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)]\n        }, _id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 85\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"No Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(TableFooter, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: /*#__PURE__*/_jsxDEV(TablePagination, {\n            rowsPerPageOptions: [5, 10, 15],\n            colSpan: 3,\n            count: total,\n            rowsPerPage: +limit,\n            page: page,\n            SelectProps: {\n              inputProps: {\n                'aria-label': 'rows per page'\n              },\n              native: true\n            },\n            onChangePage: handleChangePage,\n            onChangeRowsPerPage: handleChangeRowsPerPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 12\n  }, this);\n};\n\n_s(UsersList, \"03ftPt5ftAX43Jt3fIrU2zqEBNc=\", false, function () {\n  return [useStyles, useSelector, useSelector, useDispatch];\n});\n\n_c = UsersList;\nexport default UsersList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersList\");","map":{"version":3,"sources":["/Users/sunnygill/Dropbox/My Mac (Surinders-MacBook-Pro.local)/Desktop/freightdok/client/src/components/users/UsersList.js"],"names":["React","useEffect","makeStyles","Table","TableCell","TableContainer","TableHead","TableRow","TableBody","TableFooter","TablePagination","Paper","IconButton","DeleteIcon","EditIcon","useDispatch","useSelector","fetchUsers","selectUserToEdit","deleteUser","Spinner","capitalizeFirstLetter","useStyles","table","minWidth","borderBottom","UsersList","classes","list","loading","page","limit","total","state","users","user","auth","dispatch","handleChangePage","event","newPage","handleChangeRowsPerPage","new_limit","target","value","length","map","_id","name","email","role","color","inputProps","native"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchUsers, selectUserToEdit, deleteUser } from '../../actions/users';\nimport Spinner from '../layout/Spinner';\nimport { capitalizeFirstLetter } from '../../utils/helper';\n\nconst useStyles = makeStyles({\n    table: {\n      minWidth: 700,\n    },\n    TableContainer: {\n     borderBottom: \"none\"\n    }\n});\n\nconst UsersList = () => {\n    const classes = useStyles();\n    const { list, loading, page, limit, total } = useSelector(state => state.users);\n    const { user } = useSelector(state => state.auth);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n      dispatch(fetchUsers(+page, +limit));\n    }, []);\n    const handleChangePage = (event, newPage) => {\n      dispatch(fetchUsers(newPage, +limit));\n    };\n    const handleChangeRowsPerPage = (event) => {\n      const new_limit = event.target.value;\n      dispatch(fetchUsers(0, new_limit));\n    };\n    return <TableContainer component={Paper} className={classes.TableContainer}>\n    <Table borderBottom=\"none\" aria-label=\"caption table\">\n      <TableHead className={classes.TableContainer} >\n        <TableRow>\n          <TableCell />\n          <TableCell align=\"center\">Name</TableCell>\n          <TableCell align=\"center\">Email</TableCell>\n          <TableCell align=\"center\">Role</TableCell>\n          <TableCell align=\"center\">Actions</TableCell>\n          <TableCell align=\"center\" />\n        </TableRow>\n      </TableHead>\n      <TableBody>\n            { !loading ? list.length > 0 ? list.map(({ _id, name, email, role }) => <TableRow key={_id}>\n                <TableCell align=\"center\" />\n                <TableCell align=\"center\">{name ? name : '--'}</TableCell>\n                <TableCell align=\"center\">{email}</TableCell>\n                <TableCell align=\"center\">{capitalizeFirstLetter(role)}</TableCell>\n                <TableCell align=\"center\">\n                    <IconButton>\n                        <EditIcon color=\"primary\" onClick={() => {dispatch(selectUserToEdit({_id, email, role}))}}/>\n                    </IconButton>\n                    { (user && user.role === 'user') || <IconButton >\n                        <DeleteIcon  onClick={() => {dispatch(deleteUser(_id))}} style={{ color: \"rgb(220, 0, 78)\" }} />\n                    </IconButton> }\n                </TableCell>\n                <TableCell align=\"center\" />\n          </TableRow>) : <h4>No Users</h4> : <Spinner /> }\n      </TableBody>\n      <TableFooter>\n        <TableRow>\n          <TablePagination\n            rowsPerPageOptions={[5, 10, 15]}\n            colSpan={3}\n            count={total}\n            rowsPerPage={+limit}\n            page={page}\n            SelectProps={{\n              inputProps: { 'aria-label': 'rows per page' },\n              native: true,\n            }}\n            onChangePage={handleChangePage}\n            onChangeRowsPerPage={handleChangeRowsPerPage}\n          />\n        </TableRow>\n      </TableFooter>\n    </Table>\n  </TableContainer>\n}\n\nexport default UsersList;"]},"metadata":{},"sourceType":"module"}