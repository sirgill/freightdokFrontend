{"ast":null,"code":"var _jsxFileName = \"/Users/sunnygill/Desktop/freightdok/client/src/components/driver-forms/AddDriver.js\";\nimport React, { useEffect, useState } from \"react\"; // Redux\n\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\"; //Material\n\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nconst useStyles = makeStyles(theme => ({\n  backButton: {\n    marginRight: theme.spacing(1)\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\"\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  },\n  noLabel: {\n    marginTop: theme.spacing(3)\n  }\n}));\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350\n    }\n  }\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium\n  };\n}\n\nconst isPhoneNumber = input => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({\n  addDriver,\n  getLoads,\n  load: {\n    loads,\n    loading\n  }\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: []\n  };\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setForm(formTemplate);\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n\n    setCount(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount(prevActiveStep => prevActiveStep - 1);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    addDriver(form);\n    handleClose();\n  };\n\n  const updateForm = e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleLoadsChange = e => {\n    setForm({ ...form,\n      loads: [...e.target.value]\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Fab, {\n    color: \"primary\",\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Dialog, {\n    fullWidth: true,\n    maxWidth: \"sm\",\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, \"Add Driver\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, count === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    type: \"firstName\",\n    className: \"form-control\",\n    name: \"firstName\",\n    label: \"First Name\",\n    onChange: e => updateForm(e),\n    value: form.firstName,\n    style: {\n      marginRight: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    type: \"lastName\",\n    className: \"form-control\",\n    name: \"lastName\",\n    label: \"Last Name\",\n    onChange: e => updateForm(e),\n    value: form.lastName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    type: \"phoneNumber\",\n    className: \"form-control\",\n    name: \"phoneNumber\",\n    label: \"Phone Number\",\n    onChange: e => updateForm(e),\n    value: form.phoneNumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }))) : null, count === 2 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    id: \"assignedLoadsLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, \"Assigned Loads\"), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"assignedLoadsLabel\",\n    id: \"assignedLoads\",\n    multiple: true,\n    value: form.loads,\n    style: {\n      width: \"350px\"\n    },\n    onChange: handleLoadsChange,\n    input: /*#__PURE__*/React.createElement(Input, {\n      id: \"select-multiple-chip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 28\n      }\n    }),\n    renderValue: selected => /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.chips,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }, selected.map(value => /*#__PURE__*/React.createElement(Chip, {\n      key: value._id,\n      label: value.loadNumber,\n      className: classes.chip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    }))),\n    MenuProps: MenuProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 19\n    }\n  }, loads.map(load => /*#__PURE__*/React.createElement(MenuItem, {\n    key: load._id,\n    value: load,\n    style: getStyles(load, loads, theme),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  }, \"Load Number: \", load.loadNumber, \", Number of Pickups: \", load.pickup.length)))) : null), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"\",\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"\",\n    onClick: handleBack,\n    disabled: count === 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"Back\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"\",\n    onClick: handleNext,\n    disabled: count > 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, \"Next\")))))));\n};\n\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  load: state.load\n});\n\nexport default connect(mapStateToProps, {\n  addDriver,\n  getLoads\n})(AddDriverForm);","map":{"version":3,"sources":["/Users/sunnygill/Desktop/freightdok/client/src/components/driver-forms/AddDriver.js"],"names":["React","useEffect","useState","PropTypes","connect","addDriver","getLoads","Fab","AddIcon","Dialog","DialogActions","DialogContent","DialogTitle","Grid","TextField","Button","Select","InputLabel","Input","Chip","MenuItem","makeStyles","useTheme","useStyles","theme","backButton","marginRight","spacing","form","display","flexDirection","margin","width","chips","flexWrap","chip","noLabel","marginTop","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","getStyles","name","loads","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","isPhoneNumber","input","phoneno","match","AddDriverForm","load","loading","classes","formTemplate","firstName","lastName","phoneNumber","open","setOpen","count","setCount","setForm","handleClickOpen","handleClose","handleNext","alert","prevActiveStep","handleBack","onSubmit","e","preventDefault","updateForm","target","value","handleLoadsChange","selected","map","_id","loadNumber","pickup","length","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,SAAT,QAA0B,yBAA1B;AACA,SAASC,QAAT,QAAyB,oBAAzB,C,CACA;;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,0BAArC;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACvCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,WAAW,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd;AADH,GAD2B;AAIvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,OAAO,EAAE,MADL;AAEJC,IAAAA,aAAa,EAAE,QAFX;AAGJC,IAAAA,MAAM,EAAE,MAHJ;AAIJC,IAAAA,KAAK,EAAE;AAJH,GAJiC;AAUvCC,EAAAA,KAAK,EAAE;AACLJ,IAAAA,OAAO,EAAE,MADJ;AAELK,IAAAA,QAAQ,EAAE;AAFL,GAVgC;AAcvCC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,MAAM,EAAE;AADJ,GAdiC;AAiBvCK,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAEb,KAAK,CAACG,OAAN,CAAc,CAAd;AADJ;AAjB8B,CAAZ,CAAD,CAA5B;AAsBA,MAAMW,WAAW,GAAG,EAApB;AACA,MAAMC,gBAAgB,GAAG,CAAzB;AACA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,UAAU,EAAE;AACVC,IAAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAEL,WAAW,GAAG,GAAd,GAAoBC,gBAD1B;AAELP,MAAAA,KAAK,EAAE;AAFF;AADG;AADI,CAAlB;;AASA,SAASY,SAAT,CAAmBC,IAAnB,EAAyBC,KAAzB,EAAgCtB,KAAhC,EAAuC;AACrC,SAAO;AACLuB,IAAAA,UAAU,EAAED,KAAK,CAACE,OAAN,CAAcH,IAAd,MAAwB,CAAC,CAAzB,GAA6BrB,KAAK,CAACyB,UAAN,CAAiBC,iBAA9C,GAAkE1B,KAAK,CAACyB,UAAN,CAAiBE;AAD1F,GAAP;AAGD;;AAED,MAAMC,aAAa,GAAIC,KAAD,IAAW;AAC/B,MAAIC,OAAO,GAAG,gDAAd;;AACA,MAAID,KAAK,CAACE,KAAN,CAAYD,OAAZ,CAAJ,EAA0B;AACxB,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF,CAPD;;AASA,MAAME,aAAa,GAAG,CAAC;AAAEnD,EAAAA,SAAF;AAAaC,EAAAA,QAAb;AAAuBmD,EAAAA,IAAI,EAAE;AAAEX,IAAAA,KAAF;AAASY,IAAAA;AAAT;AAA7B,CAAD,KAAuD;AAC3E,QAAMC,OAAO,GAAGpC,SAAS,EAAzB;AACA,QAAMC,KAAK,GAAGF,QAAQ,EAAtB;AAEA,QAAMsC,YAAY,GAAG;AACnBC,IAAAA,SAAS,EAAE,EADQ;AAEnBC,IAAAA,QAAQ,EAAE,EAFS;AAGnBC,IAAAA,WAAW,EAAE,EAHM;AAInBjB,IAAAA,KAAK,EAAE;AAJY,GAArB;AAOA,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkB/D,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACgE,KAAD,EAAQC,QAAR,IAAoBjE,QAAQ,CAAC,CAAD,CAAlC;AACA,QAAM,CAAC0B,IAAD,EAAOwC,OAAP,IAAkBlE,QAAQ,CAAC0D,YAAD,CAAhC;AAEA3D,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiE,KAAK,IAAI,CAAb,EAAgB;AACd5D,MAAAA,QAAQ;AACT;AACF,GAJQ,EAIN,CAAC4D,KAAD,CAJM,CAAT;;AAMA,QAAMG,eAAe,GAAG,MAAM;AAC5BD,IAAAA,OAAO,CAACR,YAAD,CAAP;AACAO,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACAF,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAJD;;AAMA,QAAMK,WAAW,GAAG,MAAM;AACxBL,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAG,IAAAA,OAAO,CAACR,YAAD,CAAP;AACAO,IAAAA,QAAQ,CAAC,CAAD,CAAR;AACD,GAJD;;AAMA,QAAMI,UAAU,GAAG,MAAM;AACvB,QAAIL,KAAK,KAAK,CAAd,EAAiB;AACf,UAAI,CAACd,aAAa,CAACxB,IAAI,CAACmC,WAAN,CAAlB,EAAsC;AACpCS,QAAAA,KAAK,CAAC,2DAAD,CAAL;AACA;AACD;AACF;;AACDL,IAAAA,QAAQ,CAAEM,cAAD,IAAoBA,cAAc,GAAG,CAAtC,CAAR;AACD,GARD;;AAUA,QAAMC,UAAU,GAAG,MAAM;AACvBP,IAAAA,QAAQ,CAAEM,cAAD,IAAoBA,cAAc,GAAG,CAAtC,CAAR;AACD,GAFD;;AAIA,QAAME,QAAQ,GAAIC,CAAD,IAAO;AACtBA,IAAAA,CAAC,CAACC,cAAF;AAEAxE,IAAAA,SAAS,CAACuB,IAAD,CAAT;AAEA0C,IAAAA,WAAW;AACZ,GAND;;AAQA,QAAMQ,UAAU,GAAIF,CAAD,IAAO;AACxBR,IAAAA,OAAO,CAAC,EACN,GAAGxC,IADG;AAEN,OAACgD,CAAC,CAACG,MAAF,CAASlC,IAAV,GAAiB+B,CAAC,CAACG,MAAF,CAASC;AAFpB,KAAD,CAAP;AAID,GALD;;AAOA,QAAMC,iBAAiB,GAAIL,CAAD,IAAO;AAC/BR,IAAAA,OAAO,CAAC,EACN,GAAGxC,IADG;AAENkB,MAAAA,KAAK,EAAE,CAAC,GAAG8B,CAAC,CAACG,MAAF,CAASC,KAAb;AAFD,KAAD,CAAP;AAID,GALD;;AAMA,sBACE,uDACE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,SAAX;AAAqB,IAAA,OAAO,EAAEX,eAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAKE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAE,IAAnB;AAAyB,IAAA,QAAQ,EAAE,IAAnC;AAAyC,IAAA,IAAI,EAAEL,IAA/C;AAAqD,IAAA,OAAO,EAAEM,WAA9D;AAA2E,uBAAgB,mBAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAEX,OAAO,CAAC/B,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGsC,KAAK,KAAK,CAAV,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,IAAI,EAAC,WAFP;AAGE,IAAA,SAAS,EAAC,cAHZ;AAIE,IAAA,IAAI,EAAC,WAJP;AAKE,IAAA,KAAK,EAAC,YALR;AAME,IAAA,QAAQ,EAAGU,CAAD,IAAOE,UAAU,CAACF,CAAD,CAN7B;AAOE,IAAA,KAAK,EAAEhD,IAAI,CAACiC,SAPd;AAQE,IAAA,KAAK,EAAE;AAAEnC,MAAAA,WAAW,EAAE;AAAf,KART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAYE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,SAAS,EAAC,cAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAC,WALR;AAME,IAAA,QAAQ,EAAGkD,CAAD,IAAOE,UAAU,CAACF,CAAD,CAN7B;AAOE,IAAA,KAAK,EAAEhD,IAAI,CAACkC,QAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF,eAuBE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,IAAA,SAAS,EAAC,cAHZ;AAIE,IAAA,IAAI,EAAC,aAJP;AAKE,IAAA,KAAK,EAAC,cALR;AAME,IAAA,QAAQ,EAAGc,CAAD,IAAOE,UAAU,CAACF,CAAD,CAN7B;AAOE,IAAA,KAAK,EAAEhD,IAAI,CAACmC,WAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAvBF,CADD,GAoCG,IArCN,EAuCGG,KAAK,KAAK,CAAV,gBACC;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,EAAE,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,oBADV;AAEE,IAAA,EAAE,EAAC,eAFL;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,KAAK,EAAEtC,IAAI,CAACkB,KAJd;AAKE,IAAA,KAAK,EAAE;AAAEd,MAAAA,KAAK,EAAE;AAAT,KALT;AAME,IAAA,QAAQ,EAAEiD,iBANZ;AAOE,IAAA,KAAK,eAAE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAC,sBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPT;AAQE,IAAA,WAAW,EAAGC,QAAD,iBACX;AAAK,MAAA,SAAS,EAAEvB,OAAO,CAAC1B,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGiD,QAAQ,CAACC,GAAT,CAAcH,KAAD,iBACZ,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAK,CAACI,GAAjB;AAAsB,MAAA,KAAK,EAAEJ,KAAK,CAACK,UAAnC;AAA+C,MAAA,SAAS,EAAE1B,OAAO,CAACxB,IAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADH,CATJ;AAeE,IAAA,SAAS,EAAEK,SAfb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAiBGM,KAAK,CAACqC,GAAN,CAAW1B,IAAD,iBACT,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,IAAI,CAAC2B,GAApB;AAAyB,IAAA,KAAK,EAAE3B,IAAhC;AAAsC,IAAA,KAAK,EAAEb,SAAS,CAACa,IAAD,EAAOX,KAAP,EAActB,KAAd,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACgBiC,IAAI,CAAC4B,UADrB,2BACsD5B,IAAI,CAAC6B,MAAL,CAAYC,MADlE,CADD,CAjBH,CAFF,CADD,GA2BG,IAlEN,CADF,eAqEE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAA4B,IAAA,KAAK,EAAE;AAAElD,MAAAA,SAAS,EAAE;AAAb,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,EAAlB;AAAqB,IAAA,OAAO,EAAEsC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,eAME,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,EAAlB;AAAqB,IAAA,OAAO,EAAED,UAA9B;AAA0C,IAAA,QAAQ,EAAER,KAAK,KAAK,CAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CANF,eAWE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAC,EAAlB;AAAqB,IAAA,OAAO,EAAEK,UAA9B;AAA0C,IAAA,QAAQ,EAAEL,KAAK,GAAG,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CAXF,CArEF,CADF,CAFF,CALF,CADF;AAoGD,CAxKD;;AA0KAV,aAAa,CAACgC,SAAd,GAA0B;AACxBnF,EAAAA,SAAS,EAAEF,SAAS,CAACsF,IAAV,CAAeC,UADF;AAExBpF,EAAAA,QAAQ,EAAEH,SAAS,CAACsF,IAAV,CAAeC,UAFD;AAGxBjC,EAAAA,IAAI,EAAEtD,SAAS,CAACwF,MAAV,CAAiBD;AAHC,CAA1B;;AAMA,MAAME,eAAe,GAAIC,KAAD,KAAY;AAClCpC,EAAAA,IAAI,EAAEoC,KAAK,CAACpC;AADsB,CAAZ,CAAxB;;AAIA,eAAerD,OAAO,CAACwF,eAAD,EAAkB;AAAEvF,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAAlB,CAAP,CAAkDkD,aAAlD,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// Redux\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { addDriver } from \"../../actions/driver.js\";\nimport { getLoads } from \"../../actions/load\";\n//Material\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: \"auto\",\n    width: \"fit-content\",\n  },\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 350,\n    },\n  },\n};\n\nfunction getStyles(name, loads, theme) {\n  return {\n    fontWeight: loads.indexOf(name) === -1 ? theme.typography.fontWeightRegular : theme.typography.fontWeightMedium,\n  };\n}\n\nconst isPhoneNumber = (input) => {\n  var phoneno = /^\\(?([0-9]{3})\\)?[-]?([0-9]{3})[-]?([0-9]{4})$/;\n  if (input.match(phoneno)) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nconst AddDriverForm = ({ addDriver, getLoads, load: { loads, loading } }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const formTemplate = {\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    loads: [],\n  };\n\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(1);\n  const [form, setForm] = useState(formTemplate);\n\n  useEffect(() => {\n    if (count == 2) {\n      getLoads();\n    }\n  }, [count]);\n\n  const handleClickOpen = () => {\n    setForm(formTemplate);\n    setCount(1);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setForm(formTemplate);\n    setCount(1);\n  };\n\n  const handleNext = () => {\n    if (count === 1) {\n      if (!isPhoneNumber(form.phoneNumber)) {\n        alert(\"Please Submit a phone number in this format: XXX-XXX-XXXX\");\n        return;\n      }\n    }\n    setCount((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setCount((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    addDriver(form);\n\n    handleClose();\n  };\n\n  const updateForm = (e) => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleLoadsChange = (e) => {\n    setForm({\n      ...form,\n      loads: [...e.target.value],\n    });\n  };\n  return (\n    <>\n      <Fab color=\"primary\" onClick={handleClickOpen}>\n        <AddIcon />\n      </Fab>\n\n      <Dialog fullWidth={true} maxWidth={\"sm\"} open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Add Driver</DialogTitle>\n        <DialogContent>\n          <div className=\"\">\n            <form className={classes.form}>\n              {count === 1 ? (\n                <div>\n                  <div className=\"form-group\">\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"firstName\"\n                      className=\"form-control\"\n                      name=\"firstName\"\n                      label=\"First Name\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.firstName}\n                      style={{ marginRight: \"10px\" }}\n                    />\n\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"lastName\"\n                      className=\"form-control\"\n                      name=\"lastName\"\n                      label=\"Last Name\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.lastName}\n                    />\n                  </div>\n                  <div className=\"form-group\">\n                    <TextField\n                      id=\"outlined-basic\"\n                      type=\"phoneNumber\"\n                      className=\"form-control\"\n                      name=\"phoneNumber\"\n                      label=\"Phone Number\"\n                      onChange={(e) => updateForm(e)}\n                      value={form.phoneNumber}\n                    />\n                  </div>\n                </div>\n              ) : null}\n\n              {count === 2 ? (\n                <div className=\"form-group\">\n                  <InputLabel id=\"assignedLoadsLabel\">Assigned Loads</InputLabel>\n                  <Select\n                    labelId=\"assignedLoadsLabel\"\n                    id=\"assignedLoads\"\n                    multiple\n                    value={form.loads}\n                    style={{ width: \"350px\" }}\n                    onChange={handleLoadsChange}\n                    input={<Input id=\"select-multiple-chip\" />}\n                    renderValue={(selected) => (\n                      <div className={classes.chips}>\n                        {selected.map((value) => (\n                          <Chip key={value._id} label={value.loadNumber} className={classes.chip} />\n                        ))}\n                      </div>\n                    )}\n                    MenuProps={MenuProps}\n                  >\n                    {loads.map((load) => (\n                      <MenuItem key={load._id} value={load} style={getStyles(load, loads, theme)}>\n                        Load Number: {load.loadNumber}, Number of Pickups: {load.pickup.length}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </div>\n              ) : null}\n            </form>\n            <Grid container spacing={1} style={{ marginTop: \"20px\" }}>\n              <Grid item xs={12}>\n                <Button className=\"\" onClick={onSubmit}>\n                  Submit\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button className=\"\" onClick={handleBack} disabled={count === 1}>\n                  Back\n                </Button>\n              </Grid>\n              <Grid item xs={6}>\n                <Button className=\"\" onClick={handleNext} disabled={count > 1}>\n                  Next\n                </Button>\n              </Grid>\n            </Grid>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n};\n\nAddDriverForm.propTypes = {\n  addDriver: PropTypes.func.isRequired,\n  getLoads: PropTypes.func.isRequired,\n  load: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  load: state.load,\n});\n\nexport default connect(mapStateToProps, { addDriver, getLoads })(AddDriverForm);\n"]},"metadata":{},"sourceType":"module"}