{"ast":null,"code":"import axios from \"axios\";\nimport { setAlert } from \"./alert\";\nimport { GET_LOADS, GET_LOAD, LOAD_ERROR, ADD_LOAD, PATCH_PICKUP, PICKUP_ERROR, PATCH_DROP, DROP_ERROR, DELETE_LOAD, DELETE_LOAD_ERROR, UPDATE_LOAD, UPDATE_LOAD_ERROR } from \"./types\"; // Get current users loads\n\nexport const getLoads = (page, limit) => async dispatch => {\n  try {\n    const url = `/api/load/me?page=${page + 1}&limit=${limit}`;\n    const res = await axios.get(url);\n    dispatch({\n      type: GET_LOADS,\n      payload: {\n        loads: res.data,\n        page,\n        limit\n      }\n    });\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: {\n        msg: err,\n        status: err\n      }\n    });\n  }\n}; // Get post\n\nexport const getLoad = id => async dispatch => {\n  try {\n    const res = await axios.get(`/loads/${id}`);\n    dispatch({\n      type: GET_LOAD,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //add load\n\nexport const addLoad = formData => async dispatch => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    console.log('=========================  LOADINF...............');\n    const res = await axios.post(\"/api/load\", formData, config);\n    dispatch({\n      type: ADD_LOAD,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Load Created\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n};\nexport const updateLoad = formData => async dispatch => {\n  try {\n    const res = await axios.patch(\"/api/load/modify\", formData);\n    dispatch({\n      type: UPDATE_LOAD,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err);\n    dispatch({\n      type: UPDATE_LOAD_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //add pickup\n//patch pickup\n\nexport const patchPickup = (load_id, pickup) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/load/pickup?load_id=${load_id}`, pickup);\n    dispatch({\n      type: PATCH_PICKUP,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: PICKUP_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; //patch drop\n\nexport const patchDrop = (load_id, drop) => async dispatch => {\n  try {\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\n    dispatch({\n      type: PATCH_DROP,\n      payload: res.date\n    });\n  } catch (err) {\n    dispatch({\n      type: DROP_ERROR,\n      payload: {\n        msg: err.response.statusText,\n        status: err.response.status\n      }\n    });\n  }\n}; // Delete a load\n\nexport const deleteLoad = load_id => async dispatch => {\n  try {\n    const res = await axios.delete(`/api/load`, {\n      data: {\n        load_id: load_id\n      }\n    });\n    console.log(\"RES:                 \", res);\n    dispatch({\n      type: DELETE_LOAD,\n      payload: load_id\n    });\n  } catch (err) {\n    dispatch({\n      type: DELETE_LOAD_ERROR,\n      payload: {\n        msg: err\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/sunnygill/Desktop/freightdok/client/src/actions/load.js"],"names":["axios","setAlert","GET_LOADS","GET_LOAD","LOAD_ERROR","ADD_LOAD","PATCH_PICKUP","PICKUP_ERROR","PATCH_DROP","DROP_ERROR","DELETE_LOAD","DELETE_LOAD_ERROR","UPDATE_LOAD","UPDATE_LOAD_ERROR","getLoads","page","limit","dispatch","url","res","get","type","payload","loads","data","err","msg","status","getLoad","id","response","statusText","addLoad","formData","config","headers","console","log","post","updateLoad","patch","patchPickup","load_id","pickup","patchDrop","drop","date","deleteLoad","delete"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { setAlert } from \"./alert\";\n\nimport { GET_LOADS, GET_LOAD, LOAD_ERROR, ADD_LOAD, PATCH_PICKUP, PICKUP_ERROR, PATCH_DROP, DROP_ERROR, DELETE_LOAD, DELETE_LOAD_ERROR, UPDATE_LOAD, UPDATE_LOAD_ERROR } from \"./types\";\n\n// Get current users loads\nexport const getLoads = (page, limit) => async (dispatch) => {\n  try {\n    const url = `/api/load/me?page=${page+1}&limit=${limit}`;\n    const res = await axios.get(url);\n    dispatch({\n      type: GET_LOADS,\n      payload: { loads: res.data, page, limit },\n    });\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err, status: err },\n    });\n  }\n};\n\n// Get post\nexport const getLoad = (id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/loads/${id}`);\n\n    dispatch({\n      type: GET_LOAD,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n//add load\nexport const addLoad = (formData) => async (dispatch) => {\n  try {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    console.log('=========================  LOADINF...............');\n    const res = await axios.post(\"/api/load\", formData, config);\n\n    dispatch({\n      type: ADD_LOAD,\n      payload: res.data,\n    });\n\n    dispatch(setAlert(\"Load Created\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: LOAD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\nexport const updateLoad = (formData) => async (dispatch) => {\n  try {\n    const res = await axios.patch(\"/api/load/modify\", formData);\n    dispatch({\n      type: UPDATE_LOAD,\n      payload: res.data,\n    });\n  } catch (err) {\n    console.log(err)\n    dispatch({\n      type: UPDATE_LOAD_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n}\n\n//add pickup\n\n//patch pickup\nexport const patchPickup = (load_id, pickup) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/load/pickup?load_id=${load_id}`, pickup);\n    dispatch({\n      type: PATCH_PICKUP,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PICKUP_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n//patch drop\nexport const patchDrop = (load_id, drop) => async (dispatch) => {\n  try {\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\n    dispatch({\n      type: PATCH_DROP,\n      payload: res.date,\n    });\n  } catch (err) {\n    dispatch({\n      type: DROP_ERROR,\n      payload: { msg: err.response.statusText, status: err.response.status },\n    });\n  }\n};\n\n// Delete a load\nexport const deleteLoad = (load_id) => async (dispatch) => {\n  try {\n    const res = await axios.delete(`/api/load`, { data: { load_id: load_id } });\n    console.log(\"RES:                 \", res);\n    dispatch({\n      type: DELETE_LOAD,\n      payload: load_id,\n    });\n  } catch (err) {\n    dispatch({\n      type: DELETE_LOAD_ERROR,\n      payload: { msg: err },\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}