(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{1066:function(e,t,a){"use strict";a.r(t);var r=a(3),s=a(4),n=a(14),c=a(43),i=a(98),o=a(30),l=a(194),b=a(0),u=a(27),j=a(225),d=a(7),m=a(1),O=["children","alertConfig"],f=Object(d.a)(i.a)((function(e){return Object(j.a)(e),{backgroundColor:"#F7FAFC",boxShadow:"0px 0px 80px rgba(34, 35, 58, 0.2)"}})),p=function(e){var t=e.children,a=e.alertConfig,r=void 0===a?{}:a,n=Object(u.a)(e,O);return Object(m.jsxs)(f,Object(s.a)(Object(s.a)({},n),{},{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.a,{config:r})}),t]}))},h=a(82),x=a(446),g=a(46),v=a(137),P=a(35),w=a(567),C=function(e){var t=e.form,a=e.onChange,r=e.loading,s=e.errors;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.b,{type:"number",label:"OTP",onChange:a,value:t.otp,name:"otp",errors:s})}),Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.d,{label:"New Password",onChange:a,value:t.pass,name:"pass",errors:s})}),Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.d,{label:"Confirm Password",onChange:a,value:t.confirmPass,name:"confirmPass",errors:s})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(l.c,{isLoading:r,type:"submit",loadingText:"Please wait...",children:"Submit"})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(c.a,{component:g.b,to:v.b,sx:{display:"block"},children:"Sign In"})})]})};t.default=function(e){var t,a=e.history,c=Object(b.useState)({pass:"",confirmPass:"",email:"",otp:""}),u=Object(n.a)(c,2),j=u[0],d=u[1],O=Object(b.useState)({pass:"",confirmPass:"",email:"",otp:""}),f=Object(n.a)(O,2),g=f[0],y=f[1],k=Object(b.useState)(!1),S=Object(n.a)(k,2),F=S[0],T=S[1],V=Object(b.useState)({open:!1,message:"",severity:"error"}),L=Object(n.a)(V,2),E=L[0],J=L[1],N=Object(x.a)("/api/forgotPassword"),A=N.mutation,D=N.loading,I=Object(x.a)("/api/forgotPassword"),q=I.mutation,z=I.loading,B=function(e){var t=e.name,a=e.value;d(Object(s.a)(Object(s.a)({},j),{},Object(r.a)({},t,a))),y(Object(s.a)(Object(s.a)({},g),{},Object(r.a)({},t,"")))};return t=F?Object(m.jsx)(C,{form:j,onChange:B,loading:z,errors:g}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.b,{label:"Email",onChange:B,value:j.email,name:"email",errors:g})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(l.c,{isLoading:D,type:"submit",loadingText:"Please wait...",children:"Verify"})})]}),Object(m.jsx)("div",{className:"auth-wrapper",style:o.j,children:Object(m.jsxs)(p,{container:!0,direction:"column",gap:2,px:8,py:4,component:"form",onSubmit:function(e){if(J(Object(s.a)(Object(s.a)({},E),{},{open:!1})),e.preventDefault(),F){var t=j.confirmPass,r=j.pass,n=j.otp,c=j.email,i=Object(w.b)({confirmPass:t,pass:r}),l=i.isValid,b=i.err;if(!l)return y(b);t!==r?J(Object(s.a)(Object(s.a)({},E),{},{open:!0,message:"Passwords do not match"})):q({confirmPass:t,email:c,otp:n,newPass:j.pass},"put").then((function(e){var t=e.success,r=e.data;Object(P.a)(null===r||void 0===r?void 0:r.message,t?void 0:"error"),t&&a.push(v.b)})).catch((function(e){Object(P.a)(e.message,"error")}))}else{if(!Object(o.e)(j.email))return y(Object(s.a)(Object(s.a)({},g),{},{email:"Please enter valid Email"}));A({email:j.email},"post").then((function(e){var t=e.success,a=e.data;Object(P.a)(null===a||void 0===a?void 0:a.message,t?void 0:"error"),t&&T(!0)})).catch((function(e){Object(P.a)(e.message,"error")}))}},alertConfig:E,children:[Object(m.jsx)(i.a,{item:!0,sx:{mb:3},children:Object(m.jsx)(h.a,{style:{pointer:"default"}})}),t]})})}},446:function(e,t,a){"use strict";var r=a(33),s=a(4),n=a(51),c=a(14),i=a(0),o=a(91),l=function(e){var t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.useState)(!1),b=Object(c.a)(o,2),u=b[0],j=b[1],d=function(){var c=Object(n.a)(Object(r.a)().mark((function n(c){var i,o,b,u=arguments;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=u.length>1&&void 0!==u[1]?u[1]:"post",o=u.length>2?u[2]:void 0,j(!0),i||(i="post"),!(b=l(i.toLowerCase()))){r.next=7;break}return r.abrupt("return",b({uri:e,callback:t,body:c,showTriggers:a}).then((function(e){return o&&o(Object(s.a)({},e)),e})).catch((function(e){return e})).finally((function(){j(!1)})));case 7:case"end":return r.stop()}}),n)})));return function(e){return c.apply(this,arguments)}}();return{mutation:d,loading:u}}},567:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var r=function(e,t,a){var r=!0,s={};return e||(r=!1,s.currentPass="Please enter Current Password"),t||(s.pass="Please enter Password",r=!1),a||(s.confirmPass="Please enter Confirm Password",r=!1),{isValid:r,err:s}},s=function(e){var t=e.pass,a=e.confirmPass,r=!0,s={};return t||(r=!1,s.pass="Please enter Password"),a||(s.confirmPass="Please enter Confirm Password",r=!1),{isValid:r,err:s}}}}]);
//# sourceMappingURL=24.3c5f3732.chunk.js.map