{"version":3,"sources":["components/Atoms/table/Pagination.jsx","components/layout/Spinner.js","components/Atoms/table/Table.jsx","actions/load.js","actions/driver.js"],"names":["TablePagination","_ref","_ref$data","data","onPageChange","_ref$page","page","_ref$count","count","_ref$limit","limit","_useState","useState","_useState2","_slicedToArray","length","setLength","useEffect","Array","isArray","_jsxs","Stack","direction","sx","display","justifyContent","alignItems","children","Typography","color","fontSize","_jsx","Pagination","Math","ceil","variant","size","onChange","e","pgNum","CircularIndeterminate","_Box","height","marginLeft","CircularProgress","Cell","styled","_TableCell","theme","_defineProperty","breakpoints","down","padding","DeleteIcon","_Delete","_ref3","Headers","_ref5","_ref5$columns","columns","_ref5$config","config","_config$headerCellSx","headerCellSx","hasDelete","headers","useMemo","map","column","index","_ref6","_ref6$label","label","_ref6$id","id","_ref6$visible","visible","_","isFunction","_objectSpread","bgcolor","fontWeight","_TableRow","TableData","_ref9","_ref9$data","_ref9$config","handleRowClick","handleDelete","rest","_objectWithoutProperties","_excluded2","row","_config$dataKey","dataKey","_ref7","_ref7$row","_ref7$columns","_ref7$config","rowIndex","hasDeletePermission","_excluded","_config$hasDelete","_config$rowCellPaddin","rowCellPadding","_config$onRowClick","onRowClick","undefined","rowStyleCb","role","rowStyle","deleteCell","component","scope","_IconButton","onClick","bind","_id","disabled","cell","i","_ref8","_ref8$id","renderer","_ref8$emptyState","emptyState","valueFormatter","_ref8$visible","isObject","get","hover","preventDefault","cursor","getTableCell","EnhancedTable","_ref10","_ref10$config","_ref10$data","history","_ref10$loading","loading","onRefetch","isRefetching","tableState","setTableState","_useState3","open","_useState4","dialog","setDialog","_config$columns","_config$hasOnClickUrl","hasOnClickUrl","_config$size","_config$emptyMessage","emptyMessage","onRowClickDataCallback","_config$showRefresh","showRefresh","onDelete","deleteMessage","_config$deletePermiss","deletePermissions","_config$containerHeig","containerHeight","_getUserDetail$user$r","getUserDetail","user","indexOf","ref","React","useRef","url","push","stopPropagation","title","_Grid","container","p","gap","ErrorOutlineIcon","_Typography","okText","onOk","onDialogClose","content","_DialogContentText","getTableContent","Fragment","_TableHead","className","backgroundColor","borderTop","_TableBody","Date","now","style","textAlign","_ref$current","current","table","calculatedHeight","offsetHeight","_Stack","_Refresh","_TableContainer","_Paper","boxShadow","mb","innerHeight","window","item","position","Spinner","getLoader","_Table","el","stickyHeader","Dialog","onClose","withRouter","memo","getLoads","arguments","module","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","_yield$requestGet","success","wrap","_context","prev","next","requestGet","uri","concat","sent","type","GET_LOADS","payload","loads","notification","message","t0","setAlert","stop","_x","apply","getInvoiceLoads","search","_ref2","_callee2","response","_response$data","total","totalPages","_context2","axios","INVOICE_LOAD_FETCHED","invoices","_x2","searchLoads","_callee6","res","_context6","RETURNED_SEARCHED_LOADS","_x6","resetLoadsSearch","_callee7","getState","_getState","_getState$load","_context7","RESET_SEARCHED_LOADS","load","rowsPerPage","_x7","_x8","selectLoad","input","SELECT_LOAD","addLoad","formData","callback","_callee9","_context9","post","ADD_LOAD","status","_x10","updateLoad","bucketFiles","_callee10","form","_i","_Object$keys","key","_data","isNull","dataToSend","_i2","_arr","_key","files","_iterator2","_step2","file","_yield$requestPatch","_getState2","_getState2$load$searc","query","_context10","FormData","Object","keys","JSON","stringify","append","_createForOfIteratorHelper","s","n","done","value","err","f","requestPatch","body","_x11","_x12","deleteLoad","load_id","_ref13","_callee13","_yield$requestDelete","_context13","requestDelete","DELETE_LOAD","_x15","getDrivers","_err$response","_err$response2","assign","timestamp","GET_DRIVERS","console","log","DRIVER_ERROR","msg","statusText","addDriver","isEdit","error","errors","patchDriverLoads","driver_id","_callee3","drivers","_context3","driver","patch","find","o","PATCH_DRIVER","_x3","_x4","deleteDriver","_ref4","_callee4","_context4","delete","splice","DELETE_DRIVER","_x5","deleteDriverLoads","_callee5","_context5","DELETE_DRIVER_LOAD"],"mappings":"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","file":"static/js/5.3b606f55.chunk.js","sourcesContent":["import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 0, count = 0, limit = 1}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (onPageChange) {\r\n            onPageChange(e, pgNum)\r\n        }\r\n    }\r\n\r\n    if (length < 10 && count < 10) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Stack direction='row' sx={{display: 'flex', justifyContent: 'space-between'}} alignItems={'center'}>\r\n            {count > 10 && <Typography sx={{color: '#525F7F'}} fontSize={13}>Showing {data.length} of {count} entries</Typography>}\r\n            {data.length !== count && <Pagination\r\n                count={Math.ceil(count / limit)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                page={page + 1}\r\n                size=\"large\"\r\n                onChange={onChange}\r\n            />}\r\n        </Stack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport {Box} from \"@mui/material\";\r\n\r\n\r\nexport default function CircularIndeterminate() {\r\n  return (\r\n    <Box sx={{\r\n      height: '100%',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      '& > * + *': {\r\n        marginLeft: 2,\r\n      },\r\n    }}>\r\n      <CircularProgress />\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n    Box,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getUserDetail} from \"../../../utils/utils\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}}) {\r\n    const {headerCellSx = {}, hasDelete} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>{label}</Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb\r\n    } = config;\r\n    const {role} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                <DeleteIcon color={'error'}/>\r\n            </IconButton>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '', valueFormatter, visible = true} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id]);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.isObject(row) ? _.get(row, id, emptyState) : (row[id] || emptyState);\r\n        }\r\n        return <Cell key={id + i} padding={rowCellPadding || 'normal'} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching}) => {\r\n    data = data || [];\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns = [],\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const length = Array.isArray(data) && data.length;\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    key={Date.now()}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        {showRefresh && <Stack alignItems='flex-end'>\r\n            <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>\r\n        </Stack>}\r\n        <TableContainer\r\n            component={Paper}\r\n            className={''}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 64px)' : 'auto'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit}/>}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","import axios from \"axios\";\r\nimport { notification, setAlert } from \"./alert\";\r\nimport {\r\n  GET_LOADS,\r\n  GET_LOAD,\r\n  LOAD_ERROR,\r\n  ADD_LOAD,\r\n  PATCH_PICKUP,\r\n  PICKUP_ERROR,\r\n  PATCH_DROP,\r\n  DROP_ERROR,\r\n  DELETE_LOAD,\r\n  DELETE_LOAD_ERROR,\r\n  UPDATE_LOAD,\r\n  UPDATE_LOAD_ERROR,\r\n  LOAD_DOC_DELETE,\r\n  LOAD_DOC_UPLOAD,\r\n  RETURNED_SEARCHED_LOADS,\r\n  RESET_SEARCHED_LOADS,\r\n  INVOICE_CREATED,\r\n  SELECT_LOAD,\r\n  INVOICE_LOAD_FETCHED,\r\n  MERGE_LOAD_DOCS,\r\n  RESET_INVOICE_GENERATED,\r\n} from \"./types\";\r\nimport {requestDelete, requestGet, requestPatch} from \"../utils/request\";\r\n\r\n// import { proxy } from \"../../package.json\";\r\n\r\nexport const SERVER_ADDRESS = \"https://api.freightdok.io\";\r\n// Get current users loads\r\nexport const getLoads =\r\n  (page = 0, limit = 15, module = \"\") =>\r\n  async (dispatch) => {\r\n    try {\r\n      const {success, data} = await requestGet({uri:`/api/load/me?page=${\r\n            page + 1\r\n        }&limit=${limit}&module=${module}` });\r\n      if(success){\r\n        dispatch({\r\n          type: GET_LOADS,\r\n          payload: { loads: data, page, limit },\r\n        });\r\n      } else {\r\n          notification(data.message, 'error');\r\n      }\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const getInvoiceLoads =\r\n  (page = 0, limit = 5, search = \"\") =>\r\n  async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/invoice_loads?page=${\r\n        page + 1\r\n      }&limit=${limit}&search=${search}`;\r\n      const response = await axios.get(url);\r\n      const { loads, total, totalPages } = response.data;\r\n      dispatch({\r\n        type: INVOICE_LOAD_FETCHED,\r\n        payload: { invoices: loads, page, limit, search, total, totalPages },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const deleteLoadDocument =\r\n  (load_id, doc_type, doc_name) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/remove/doc/${load_id}/${doc_type}/${doc_name}`;\r\n      await axios.delete(url);\r\n      dispatch({\r\n        type: LOAD_DOC_DELETE,\r\n        payload: { load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const uploadLoadDocument =\r\n  (load_id, doc_type, documents) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/upload/load/${load_id}/${doc_type}`;\r\n      const form = new FormData();\r\n      for (let doc of documents) form.append(doc_type, doc);\r\n      const response = await axios.patch(url, form);\r\n      const { file_data } = response.data;\r\n      dispatch({\r\n        type: LOAD_DOC_UPLOAD,\r\n        payload: { file_data, load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const generateInvoice = (load_id, data) => async (dispatch) => {\r\n  try {\r\n    await axios.post(\"/api/invoice\", {\r\n      load_id,\r\n      ...data,\r\n    });\r\n    dispatch({\r\n      type: INVOICE_CREATED,\r\n      payload: { load_id },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const searchLoads = (page = 0, limit = 15, search = \"\", module = \"\") => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/me?page=${\r\n        page + 1\r\n      }&limit=15&search=${search}&module=${module}`;\r\n      const res = await axios.get(url);\r\n      dispatch({\r\n        type: RETURNED_SEARCHED_LOADS,\r\n        payload: { data: res.data, page, limit, search },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const resetLoadsSearch =\r\n  (listBarType = \"\") =>\r\n  async (dispatch, getState) => {\r\n    dispatch({ type: RESET_SEARCHED_LOADS });\r\n    const {\r\n      load: { page, rowsPerPage },\r\n    } = getState();\r\n    // dispatch(getLoads(+page, +rowsPerPage, listBarType));\r\n  };\r\n\r\nexport const selectLoad = (input = null) => ({\r\n  type: SELECT_LOAD,\r\n  payload: input,\r\n});\r\n\r\n// Get post\r\nexport const getLoad = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/loads/${id}`);\r\n\r\n    dispatch({\r\n      type: GET_LOAD,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addLoad = (formData, callback) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const res = await axios.post(\"/api/load\", formData, config);\r\n\r\n    dispatch({\r\n      type: ADD_LOAD,\r\n      payload: res.data,\r\n    });\r\n\r\n    notification(\"Load Created\")\r\n    if(callback){\r\n      callback(res.status === 200, res.data)\r\n    }\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const updateLoad = (formData, module = \"\", bucketFiles = {}, callback) => async (dispatch, getState) => {\r\n    try {\r\n      const form = new FormData();\r\n      for (let key of Object.keys(formData)) {\r\n        if ([\"rateConfirmation\", \"proofDelivery\"].indexOf(key) < 0) {\r\n          const data = formData[key];\r\n          const isArray = Array.isArray(data);\r\n          const isNull = data === null;\r\n          let dataToSend = isArray && !isNull ? JSON.stringify(data) : data;\r\n          form.append(key, dataToSend);\r\n        }\r\n      }\r\n      form.append('bucketFiles', JSON.stringify(bucketFiles))\r\n      for (let key of [\"rateConfirmation\", \"proofDelivery\"]) {\r\n        const files = formData[key];\r\n        if (files) for (let file of files) form.append(key, file);\r\n      }\r\n\r\n      const {success, data} = await requestPatch({uri: \"/api/load/modify\", body: form})\r\n      if(success){\r\n        notification('Load Updated')\r\n      }\r\n      const {\r\n        load: {\r\n          search: { page, limit, query },\r\n        },\r\n      } = getState();\r\n      if (!query) dispatch(getLoads(0, 5, module));\r\n      else dispatch(searchLoads(page, limit, query));\r\n      callback(success, data)\r\n    } catch (err) {\r\n      notification(err.message, \"error\");\r\n    }\r\n  };\r\n\r\nexport const downloadDocuments = (file_name) => {\r\n  axios({\r\n    url: \"/api/load/download/\" + file_name,\r\n    method: \"GET\",\r\n    responseType: \"blob\",\r\n  }).then((res) => {\r\n    const parts = res.config.url.split(\"/\");\r\n    const name = parts[parts.length - 1];\r\n    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", name);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  });\r\n};\r\n\r\n//add pickup\r\n\r\n//patch pickup\r\nexport const patchPickup = (load_id, pickup) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(\r\n      `/api/load/pickup?load_id=${load_id}`,\r\n      pickup\r\n    );\r\n    dispatch({\r\n      type: PATCH_PICKUP,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//patch drop\r\nexport const patchDrop = (load_id, drop) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\r\n    dispatch({\r\n      type: PATCH_DROP,\r\n      payload: res.date,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n// Delete a load\r\nexport const deleteLoad = (load_id, callback) => async (dispatch) => {\r\n  try {\r\n    const {success, data} = await requestDelete({uri: '/api/load', body: { data: { load_id: load_id } }})\r\n    notification(data.message, success ? 'success' : 'error');\r\n    if(success){\r\n      dispatch({\r\n        type: DELETE_LOAD,\r\n        payload: load_id,\r\n      });\r\n    }\r\n    callback && callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, 'error')\r\n  }\r\n};\r\n\r\nexport const mergeDocuments = (data, headers) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api/load/invoice/merge_docs`, data, headers);\r\n    console.log(\"Response :\", res);\r\n    dispatch({\r\n      type: MERGE_LOAD_DOCS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetInvoiceGenerated = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: RESET_INVOICE_GENERATED,\r\n      payload: null,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport {notification, setAlert} from \"./alert\";\r\nimport { GET_DRIVERS, GET_DRIVER, ADD_DRIVER, PATCH_DRIVER, DELETE_DRIVER, DRIVER_ERROR, DELETE_DRIVER_LOAD } from \"./types.js\";\r\n\r\n//get current users drivers\r\nexport const getDrivers = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/drivers/me\");\r\n    Object.assign(res.data, {timestamp: new Date()})\r\n    dispatch({\r\n      type: GET_DRIVERS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err?.response?.statusText, status: err?.response?.status },\r\n    });\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addDriver = (formData, isEdit) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const res = await axios.post(\"/api/drivers\", formData, config);\r\n\r\n    notification(res.data.message);\r\n    dispatch(getDrivers());\r\n\r\n  } catch (err) {\r\n    let error = err.errors && Array.isArray(err.errors) && err.errors.length ? err.errors[0].msg : err.message;\r\n    dispatch(setAlert( error, \"error\"));\r\n    // dispatch({\r\n    //   type: DRIVER_ERROR,\r\n    //   payload: { msg: err.response.statusText, status: err.response.status },\r\n    // });\r\n  }\r\n};\r\n\r\n//patch driver\r\nexport const patchDriverLoads = (driver_id, loads) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.patch(`/api/drivers/loads?driver_id=${driver_id}`, { loads: loads });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: PATCH_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver\r\nexport const deleteDriver = (driver_id) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/`, { data: { driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers.splice(index, 1);\r\n    }\r\n    notification('Deleted Successfully')\r\n    dispatch({\r\n      type: DELETE_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver load\r\nexport const deleteDriverLoads = (driver_id, load_id) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/loads`, { data: { load_id: load_id, driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: DELETE_DRIVER_LOAD,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n"],"sourceRoot":""}