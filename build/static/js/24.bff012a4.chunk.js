(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{1046:function(e,t,a){"use strict";a.r(t);var r=a(33),n=a(188),s=a(353),c=a(97),i=a(51),o=a(3),u=a(4),l=a(14),b=a(0),j=a(30),d=a(83),O=a(63),m=a(200),p=a(80),f=a(35),h=a(42),v=a(450),x=a(1);t.default=function(e){var t=e.match,a=(void 0===t?{}:t).params,g=(void 0===a?{}:a).email,w=e.history,N=Object(b.useState)({}),k=Object(l.a)(N,2),y=k[0],P=k[1],S=Object(b.useState)({}),E=Object(l.a)(S,2),T=E[0],C=E[1],W=Object(v.a)("/api/onBoarding/register"),q=W.loading,B=W.mutation;Object(b.useEffect)((function(){Object(p.d)({uri:"/api/onBoarding/validateOtp",body:{email:g},skipTriggers:!1}).then((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{},t=e.success,a=e.data;t||(P(Object(u.a)(Object(u.a)({},y),{},{disabled:!0})),null!==a&&void 0!==a&&a.success||(Object(f.a)((null===a||void 0===a?void 0:a.message)||"Server Error","error"),console.error("Server Error")))}))}),[]);var F=function(e){var t=e.name,a=e.value;P(Object(u.a)(Object(u.a)({},y),{},Object(o.a)({},t,a))),C((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(o.a)({},t,""))}))};function J(){return J=Object(i.a)(Object(r.a)().mark((function e(t){var a,n,s,c,i,o,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=!0,n=y.otp,s=y.password,c=y.firstName,i=void 0===c?"":c,o=y.lastName,l=void 0===o?"":o,i||(a=!1,C((function(e){return Object(u.a)(Object(u.a)({},e),{},{firstName:"Please Enter First Name"})}))),n?6!==String(n).length&&(a=!1,C((function(e){return Object(u.a)(Object(u.a)({},e),{},{otp:"OTP should be of six digits"})}))):(a=!1,C((function(e){return Object(u.a)(Object(u.a)({},e),{},{otp:"Please enter OTP"})}))),s){e.next=10;break}a=!1,C((function(e){return Object(u.a)(Object(u.a)({},e),{},{password:"Please enter Password"})})),e.next=13;break;case 10:if(!(s.length<8)){e.next=13;break}return a=!1,e.abrupt("return",C((function(e){return Object(u.a)(Object(u.a)({},e),{},{password:"Password must be 8 letters"})})));case 13:a&&B({email:g,password:s,otp:n,firstName:i.trim(),lastName:l.trim()},null,L);case 14:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}var L=function(e){var t=e.success,a=e.data;t&&(Object(f.a)(a.message),w.push(h.d))};return Object(x.jsx)(c.a,{container:!0,className:"login",children:Object(x.jsxs)("div",{className:"auth-wrapper auth-inner",style:j.j,children:[Object(x.jsx)(d.a,{}),Object(x.jsx)(n.a,{sx:{flex:1,display:"flex",alignItems:"center"},children:Object(x.jsxs)(c.a,{container:!0,spacing:2,component:"form",onSubmit:function(e){return J.apply(this,arguments)},children:[Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{name:"email",value:g,disabled:!0,label:"Email",fullWidth:!0})}),Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{name:"firstName",required:!0,errors:T,value:y.firstName,label:"First Name",fullWidth:!0,trimValue:!0,onChange:F})}),Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{name:"lastName",value:y.lastName,label:"Last Name",onChange:F,fullWidth:!0})}),Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(O.a,{fullWidth:!0,name:"otp",required:!0,errors:T,type:"number",inputProps:{max:999999},value:y.otp,label:"OTP",placeholder:"Enter OTP",onChange:F})}),Object(x.jsx)(c.a,{item:!0,xs:12,children:Object(x.jsx)(m.a,{name:"password",required:!0,errors:T,value:y.password,onChange:F})}),Object(x.jsx)(c.a,{item:!0,textAlign:"center",xs:12,children:Object(x.jsx)(s.a,{type:"submit",variant:"contained",disabled:y.disabled||q,children:q?"Submitting...":"Submit"})})]})})]})})}},450:function(e,t,a){"use strict";var r=a(33),n=a(4),s=a(51),c=a(14),i=a(0),o=a(80),u=function(e){var t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.useState)(!1),l=Object(c.a)(o,2),b=l[0],j=l[1],d=function(){var c=Object(s.a)(Object(r.a)().mark((function s(c){var i,o,l,b=arguments;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=b.length>1&&void 0!==b[1]?b[1]:"post",o=b.length>2?b[2]:void 0,j(!0),i||(i="post"),!(l=u(i.toLowerCase()))){r.next=7;break}return r.abrupt("return",l({uri:e,callback:t,body:c,showTriggers:a}).then((function(e){return o&&o(Object(n.a)({},e)),e.data})).catch((function(e){return e})).finally((function(){j(!1)})));case 7:case"end":return r.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}();return{mutation:d,loading:b}}}}]);
//# sourceMappingURL=24.bff012a4.chunk.js.map