(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{1113:function(e,t,a){"use strict";a.r(t);var n=a(1121),r=a(446),s=a.n(r),l=a(87),o=a(197),i=a(260),c=a(89),u=a(0),d=a(9),b=a(96),j=a(2);const p=Object(d.a)(o.a)((e=>{let{}=e;return{backgroundColor:"#F7FAFC",boxShadow:"0px 0px 80px rgba(34, 35, 58, 0.2)"}}));var m=e=>{let{children:t,alertConfig:a={},...n}=e;return Object(j.jsxs)(p,{...n,children:[Object(j.jsx)(o.a,{item:!0,sx:{mb:3},children:Object(j.jsx)(b.a,{style:{pointer:"default"}})}),Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(i.a,{config:a})}),t]})},h=a(268),f=a(72),O=a(75),x=a(27),g=a(447),v=a(1124),w=a(1125),y=a(1120),C=a(1062);var P=e=>{let{length:t=6,onChange:a,name:n,errors:r={}}=e;const[s,l]=Object(u.useState)(new Array(t).fill("")),i=Object(u.useRef)([]),c=r[n],d=(e,r)=>{const{value:o}=r.target,c=[...s];if(c[e]=o.substring(o.length-1),l(c),c.join("").length===t&&a&&a({value:c.join(""),name:n}),c[e]&&e<=t-1&&i.current[+e+1]){const t=i.current[+e+1];t&&t.focus()}else if(!c[e]){if(0===e)return i.current[0].focus();const t=i.current[+e-1];t&&t.focus()}},b=e=>{i.current[e].setSelectionRange(1,1)};Object(u.useEffect)((()=>{i.current[0]&&i.current[0].focus()}),[]);return Object(j.jsxs)(v.a,{"aria-autocomplete":"none",children:[Object(j.jsx)(C.a,{error:!!c,sx:{fontSize:14},children:"OTP"}),Object(j.jsx)(o.a,{container:!0,width:"100%",spacing:1,children:s.map(((e,a)=>Object(j.jsx)(o.a,{item:!0,xs:12/t,children:Object(j.jsx)(y.a,{onClick:b.bind(void 0,a),inputRef:e=>i.current[a]=e,value:e,onChange:d.bind(void 0,a),autoComplete:"false",size:"small",error:!!c,onKeyDown:e=>((e,t)=>{if("Backspace"===t.key&&e>0&&!s[e]){const t=i.current[e-1];t&&t.focus()}})(a,e),sx:{".MuiInputBase-root":{width:37}}},"".concat(a))})))}),c&&Object(j.jsx)(w.a,{error:!!c,children:c})]})};const D=e=>{let{form:t,onChange:a,loading:n,errors:r}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(P,{length:6,onChange:a,name:"otp",errors:r})}),Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(i.d,{label:"New Password",onChange:a,value:t.pass,name:"pass",errors:r})}),Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(i.d,{label:"Confirm Password",onChange:a,value:t.confirmPass,name:"confirmPass",errors:r,autoComplete:"false"})}),Object(j.jsx)(o.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(j.jsx)(i.c,{isLoading:n,type:"submit",loadingText:"Please wait...",children:"Submit"})}),Object(j.jsx)(o.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(j.jsx)(l.a,{component:f.b,to:O.d,sx:{display:"block"},children:"Sign In"})})]})};t.default=e=>{let{history:t}=e;const[a,r]=Object(u.useState)({pass:"",confirmPass:"",email:"",otp:""}),[l,d]=Object(u.useState)({pass:"",confirmPass:"",email:"",otp:""}),[b,p]=Object(u.useState)(!1),[f,v]=Object(u.useState)({open:!1,message:"",severity:"error"}),{mutation:w,loading:y}=Object(h.a)("/api/forgotPassword"),{mutation:C,loading:P}=Object(h.a)("/api/forgotPassword"),S=e=>{let{name:t,value:n}=e;r({...a,[t]:n}),d({...l,[t]:""})};let k;return k=b?Object(j.jsx)(D,{form:a,onChange:S,loading:P,errors:l}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o.a,{item:!0,xs:12,children:Object(j.jsx)(i.b,{label:"Email",onChange:S,value:a.email,name:"email",errors:l,InputProps:{startAdornment:Object(j.jsx)(n.a,{position:"start",children:Object(j.jsx)(s.a,{})})}})}),Object(j.jsx)(o.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(j.jsx)(i.c,{isLoading:y,type:"submit",loadingText:"Please wait...",children:"Verify"})})]}),Object(j.jsx)("div",{className:"auth-wrapper",style:c.m,children:Object(j.jsx)(m,{container:!0,direction:"column",gap:2,px:8,py:4,component:"form",onSubmit:e=>{if(v({...f,open:!1}),e.preventDefault(),b){const{confirmPass:e,pass:n,otp:r,email:s}=a,{isValid:l,err:o}=Object(g.b)({confirmPass:e,pass:n,otp:r});if(!l)return d(o);e!==n?v({...f,open:!0,message:"Passwords do not match"}):C({confirmPass:e,email:s,otp:r,newPass:a.pass},"put").then((e=>{let{success:a,data:n}=e;a?(Object(x.a)(null===n||void 0===n?void 0:n.message),t.push(O.d)):v({...f,open:!0,message:n.message})})).catch((e=>{v({...f,open:!0,message:(null===e||void 0===e?void 0:e.message)||"Error"})}))}else{if(!Object(c.g)(a.email))return d({...l,email:"Please enter valid Email"});w({email:a.email},"post").then((e=>{let{success:t,data:a}=e;t?p(!0):v({...f,open:!0,message:a.message})})).catch((e=>{v({...f,open:!0,message:e.message})}))}},alertConfig:f,children:k})})}},260:function(e,t,a){"use strict";a.d(t,"b",(function(){return n.a})),a.d(t,"d",(function(){return r.a})),a.d(t,"e",(function(){return u.a})),a.d(t,"a",(function(){return d.a})),a.d(t,"f",(function(){return b.a})),a.d(t,"g",(function(){return T})),a.d(t,"c",(function(){return z}));var n=a(272),r=a(284),s=(a(1124),a(1135),a(1134)),l=a(0),o=a.n(l),i=a(9),c=a(2);Object(i.a)(s.a)((e=>{let{theme:t}=e;return{width:50,height:27,padding:7,"& .MuiSwitch-switchBase":{},"& .MuiSwitch-thumb":{width:20,height:20,"&:before":{}},"&.MuiSwitch-track":{}}}));var u=a(286),d=(a(287),a(288),a(290)),b=a(273),j=a(996),p=a(1136),m=a(1070),h=a(198),f=a(87),O=a(245),x=a(1116),g=a(89),v=a(97),w=a(43),y=a(13),C=a(33),P=a(303),D=a(291);function S(e){let t,a=0;for(t=0;t<e.length;t+=1)a=e.charCodeAt(t)+((a<<5)-a);let n="#";for(t=0;t<3;t+=1){n+="00".concat((a>>8*t&255).toString(16)).slice(-2)}return n}function k(e){let t="";return e.split(" ")[0]&&(t=e.split(" ")[0][0]),e.split(" ")&&e.split(" ")[1]&&(t+=e.split(" ")[1][0]),{sx:{bgcolor:S(e)},children:t}}const N=e=>{let{history:t}=e;const[a,n]=o.a.useState(null),{user:{name:r="",email:s="",role:l=""}={}}=Object(g.f)(),i=Object(w.d)(),u=[{title:"Change Password",onClick:function(){Object(D.a)(!0)}},{title:"Logout",onClick:function(){i(Object(v.c)()),t.replace(C.e)}}];const d=e=>{n(null),"function"===typeof e&&e()};return Object(c.jsxs)(h.a,{children:[Object(c.jsx)(b.a,{title:"Open settings",placement:"bottom",children:Object(c.jsx)(O.a,{onClick:e=>{n(e.currentTarget)},sx:{p:0},children:Object(c.jsx)(x.a,{...k(r||"")})})}),Object(c.jsxs)(j.a,{sx:{mt:"45px"},MenuListProps:{sx:{minWidth:"8em"}},id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(a),onClose:d.bind(null),children:[Object(c.jsxs)(h.a,{sx:{px:2,py:1,display:"flex",flexDirection:"column"},children:[Object(c.jsx)(f.a,{fontWeight:600,children:r||"No Name"}),Object(c.jsx)(f.a,{variant:"caption",children:s}),Object(c.jsx)(f.a,{variant:"caption",children:Object(P.a)(l)})]}),Object(c.jsx)(m.a,{}),u.map((e=>Object(c.jsx)(p.a,{onClick:d.bind(null,e.onClick),children:Object(c.jsx)(f.a,{textAlign:"center",children:e.title})},e.title)))]})]})};var T=Object(y.withRouter)(Object(l.memo)(N,(()=>!0))),R=a(994),q=a(199);var z=e=>{let{children:t,variant:a="contained",isLoading:n=!1,loadingText:r,disabled:s,...l}=e;const o=n&&r||t,i=n||s;return Object(c.jsx)(R.a,{disabled:i,variant:a,...l,startIcon:n?Object(c.jsx)(q.a,{size:20,color:"inherit"}):void 0,children:o})}},268:function(e,t,a){"use strict";var n=a(0),r=a(48),s=a(89);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,i]=Object(n.useState)(!1);return{mutation:async function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",c=arguments.length>2?arguments[2]:void 0,u=e;l.queryParams&&(u=u+"?"+Object(s.j)(l.queryParams)),i(!0),o||(o="post");const d=(e=>{let t;switch(e){case"put":t=r.e;break;case"delete":t=r.a;break;case"patch":t=r.c;break;default:t=r.d}return t})(o.toLowerCase());if(d)return d({uri:u,callback:t,body:n,showTriggers:a}).then((e=>(c&&c({...e}),e))).catch((e=>e)).finally((()=>{i(!1)}))},loading:o}}},272:function(e,t,a){"use strict";var n=a(1124),r=a(1120),s=a(0),l=a(259),o=a.n(l),i=a(2);const c=e=>{let{errorText:t,handleBlur:a,handleChange:s,hasError:l,className:o,name:c,value:u,InputProps:d,readOnly:b,inputProps:j,helperText:p,fullWidth:m,formControlSx:h,...f}=e;return Object(i.jsx)(n.a,{component:"",fullWidth:m,sx:h,children:Object(i.jsx)(r.a,{name:c,error:l,onChange:s,onBlur:a,className:o,value:u,InputProps:{className:"",...d},helperText:l?t:p,size:"small",inputProps:{readOnly:b,...j},...f})})},u=Object(s.memo)(c);t.a=e=>{const{label:t,name:a,errors:n={},onChange:r,value:s,className:l,classNameRoot:c,isCapitalize:d=!1,inputProps:b={},type:j="text",onBlur:p,InputProps:m,readOnly:h,helperText:f,fullWidth:O=!0,trimValue:x=!1,formControlSx:g={},...v}=e,w=n[a]||!1,y=n[a];return Object(i.jsx)(u,{value:s,name:a,label:t,hasError:w,errorText:y,handleChange:e=>{let{name:t,value:a}=e.target;d&&(a=a.capitalize()),x&&(a=a.trim()),r&&r({name:t,value:a})},handleBlur:e=>{const{name:t,value:a}=e.target;if("number"===j){const{max:e,min:n}=b;e&&a>e?o.a.isFunction(r)&&r({name:t,value:e}):e&&a<n&&o.a.isFunction(r)&&r({name:t,value:n})}p&&p({name:t,value:a})},className:l,InputProps:m,inputProps:b,readOnly:h,type:j,helperText:f,fullWidth:O,formControlSx:g,...v})}},273:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(1067),r=a(679),s=a(9),l=a(11),o=a.n(l),i=a(2);const c=Object(s.a)((e=>{let{className:t,...a}=e;return Object(i.jsx)(n.a,{...a,arrow:!0,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(r.a.arrow)]:{color:t.palette.common.black},["& .".concat(r.a.tooltip)]:{backgroundColor:t.palette.common.black}}}));function u(e){let{title:t,children:a,placement:n="right",...r}=e;return Object(i.jsx)(c,{title:t,placement:n,...r,children:a})}u.proptype={title:o.a.string.isRequired,children:o.a.element.isRequired,placement:o.a.oneOf(["right","left","bottom","top"])}},284:function(e,t,a){"use strict";var n=a(1124),r=a(1120),s=a(1121),l=a(245),o=a(0),i=a.n(o),c=a(343),u=a.n(c),d=a(344),b=a.n(d),j=a(11),p=a.n(j),m=a(2);const h=e=>{let{onChange:t,name:a,label:o="Password",value:c,errors:d={},startAdornment:j,...p}=e;const[h,f]=i.a.useState(!1),O=!!d[a],x=d[a];return Object(m.jsx)(n.a,{variant:"outlined",fullWidth:!0,children:Object(m.jsx)(r.a,{id:"outlined-adornment-password",type:h?"text":"password",fullWidth:!0,label:o,value:c,error:O,helperText:O?x:"",size:"small",onChange:e=>{const{name:a,value:n}=e.target;t&&t({name:a,value:n})},name:a,InputProps:{startAdornment:j,endAdornment:Object(m.jsx)(s.a,{position:"end",children:Object(m.jsx)(l.a,{"aria-label":"toggle password visibility",onClick:()=>f((e=>!e)),onMouseDown:e=>{e.preventDefault()},edge:"end",children:h?Object(m.jsx)(u.a,{}):Object(m.jsx)(b.a,{})})})},...p})})};h.proptype={label:p.a.string.isRequired,onChange:p.a.func.isRequired,value:p.a.string.isRequired,name:p.a.string.isRequired},t.a=h},286:function(e,t,a){"use strict";var n=a(1124),r=a(1125),s=a(1106),l=a(1131),o=a(1136),i=a(11),c=a.n(i),u=a(0),d=a(2);const b=e=>{let{options:t=[],labelKey:a="label",valueKey:i="id",label:c,menuLabelCb:b,value:j,name:p,onChange:m,errors:h={},renderValue:f=null,showNone:O=!1,className:x="",disabled:g=!1,required:v=!1}=e;const w=!!h[p],y=h[p],C=Object(u.useMemo)((()=>(t||[]).map((e=>Object(d.jsx)(o.a,{value:e[i],disabled:!!e.disabled,children:b?b({labelKey:a,option:e}):e[a]},e[i])))),[t]);return Object(d.jsxs)(n.a,{required:v,error:w,fullWidth:!0,size:"small",className:x,disabled:g,children:[Object(d.jsx)(l.a,{id:"demo-simple-select-error-label",children:c}),Object(d.jsxs)(s.a,{name:p,labelId:"demo-simple-select-error-label",id:"demo-simple-select-error",value:j,label:c,onChange:e=>{const{name:t,value:a}=e.target;m&&m({name:t,value:a})},renderValue:f,sx:{".MuiOutlinedInput-input":{border:"none !important"}},children:[O&&Object(d.jsx)(o.a,{value:"",children:Object(d.jsx)("em",{children:"None"})}),C]}),w&&Object(d.jsx)(r.a,{children:y})]})};b.proptype={options:c.a.array.isRequired,labelKey:c.a.string,valueKey:c.a.string,label:c.a.string.isRequired,value:c.a.string.isRequired,name:c.a.string.isRequired,onChange:c.a.func.isRequired,errors:c.a.object,renderValue:c.a.node,className:c.a.string,showNone:c.a.bool,required:c.a.bool,disabled:c.a.bool,menuLabelCb:c.a.func},t.a=b},287:function(e,t,a){"use strict";var n=a(197),r=a(1124),s=a(1115),l=a(1062),o=a(1067),i=a(1135),c=a(1103),u=a(0),d=a(2);const b=e=>{const{name:t,value:a,handleChange:n,radioTitle:b,options:j=[],labelPlacement:p="end",className:m,defaultValue:h,disabled:f=!1,displayAsRow:O=!0,classNameGrp:x=""}=e;let g=[];return j.forEach(((t,a)=>{const{label:n="",value:r,info:s,tooltipText:l="",shouldDisplay:b=!0,disabled:j=!1,labelClassName:h="",labelSx:O={}}=t;if(b&&"function"===b){if(!b(e))return}g.push(Object(d.jsxs)(u.Fragment,{children:[Object(d.jsx)(o.a,{title:l,arrow:!0,children:Object(d.jsx)(i.a,{control:Object(d.jsx)(c.a,{}),label:n,disabled:f||j,value:r,labelPlacement:p,className:h?"".concat(h," ").concat(m):m,role:"radio",componentsProps:{typography:{sx:O}}})}),s&&Object(d.jsx)("span",{className:"radioInfo",children:s})]},a))})),Object(d.jsxs)(r.a,{component:"fieldset",children:[Object(d.jsx)(l.a,{component:"legend",children:b}),Object(d.jsx)(s.a,{"aria-label":b,name:t,value:a,onChange:n,row:O,defaultValue:h,className:x,children:g})]})},j=Object(u.memo)(b);t.a=e=>{let{config:t={},onChange:a,containerSx:r,parentValue:s}=e;const{title:l,options:o=[],defaultValue:i="",...c}=t,[b,p]=Object(u.useState)(i);return Object(d.jsx)(n.a,{container:!0,sx:r,children:Object(d.jsx)(j,{handleChange:e=>{const{target:{name:t,value:n,type:r}={}}=e;p(n),a&&a({value:n,name:t,type:r})},value:s||b,radioTitle:l,options:o,...c})})}},288:function(e,t,a){"use strict";var n=a(1132),r=a(198),s=a(1120),l=a(1121),o=a(245),i=a(400),c=a.n(i),u=a(388),d=a(73),b=a.n(d),j=a(359),p=a(439),m=a(392),h=a(444),f=a(1068),O=a(1069),x=(a(398),a(399),a(0)),g=(a(331),a(2));const v=[{label:"Today",isSelected:()=>!1,range:()=>({startDate:Object(j.default)(new Date),endDate:Object(p.default)(new Date)})},{label:"This Week",isSelected:()=>!1,range:()=>({startDate:Object(m.default)(new Date),endDate:Object(p.default)(new Date)})},{label:"This Month",isSelected:()=>!1,range:()=>({startDate:Object(h.default)(new Date),endDate:Object(p.default)(new Date)})},{label:"This Quarter",isSelected:()=>!1,range:()=>({startDate:Object(f.a)(new Date),endDate:Object(p.default)(new Date)})},{label:"This Year",isSelected:()=>!1,range:()=>({startDate:Object(O.a)(new Date),endDate:Object(p.default)(new Date)})}],w=(e,t)=>b()(e).format("MM/DD/YYYY")+" - "+b()(t).format("MM/DD/YYYY");t.a=e=>{let{value:t,onChange:a,label:i,name:d}=e;const[b,j]=Object(x.useState)(!1),[p,m]=Object(x.useState)(null),h=b&&Boolean(p)?"transition-popper":void 0,[f,O]=Object(x.useState)({startDate:new Date,endDate:new Date,key:"selection"}),[y,C]=Object(x.useState)(new Date),[P,D]=Object(x.useState)(new Date),[S,k]=Object(x.useState)(w());const N=e=>{m(e.currentTarget),j(!b)};return Object(g.jsxs)(x.Fragment,{children:[Object(g.jsx)(s.a,{name:d,value:S,label:i,size:"small",InputProps:{endAdornment:Object(g.jsx)(l.a,{position:"end",children:Object(g.jsx)(o.a,{"aria-label":"toggle Date range picker",onClick:N,edge:"end","aria-describedby":h,children:Object(g.jsx)(c.a,{})})})},readOnly:!0}),Object(g.jsx)(n.b,{id:h,open:b,anchorEl:p,onClose:N,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(g.jsx)(r.a,{sx:{p:1,bgcolor:"background.paper","&.rdrStaticRangeLabel":{fontSize:"14px!important"},"& .rdrDayNumber span::after":{bottom:"1px !important"}},children:Object(g.jsx)(u.DateRangePicker,{ranges:[f],onChange:function(e){const{selection:{startDate:t,endDate:n}={}}=e;C((()=>t)),D((()=>n)),k(w(t,n)),O({startDate:t,endDate:n,key:"selection"}),a&&a({name:d,value:{startDate:t,endDate:n}})},className:"basePicker",staticRanges:v})})})]})}},290:function(e,t,a){"use strict";var n=a(1137),r=a(240),s=(a(0),a(2));t.a=e=>{let{config:t,classname:a="",onClose:l,inStyles:o={}}=e;const{open:i,message:c="",severity:u="",variant:d="standard"}=t,b={severity:u||void 0,variant:d};return"function"===typeof l&&(b.onClose=l),Object(s.jsx)(n.a,{in:i,sx:o,children:Object(s.jsx)(r.a,{className:"alertbase "+a,...b,children:c})})}},291:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return o}));var n=a(49),r=a(3);const s=e=>{let{message:t,uri:a,afterSuccessCb:s}=e;return e=>{e.stopPropagation(),n.a.dispatch({type:r.q,payload:{open:!0,message:t,uri:a,afterSuccessCb:s}})}},l=()=>{const e=n.a.getState().app.deleteComponent;n.a.dispatch({type:r.q,payload:{...e,open:!1}})},o=e=>{n.a.dispatch({type:r.n,payload:{open:e}})}},303:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const n={superAdmin:"Super Admin",dispatch:"Dispatch",admin:"Admin",ownerOperator:"Owner Operator",driver:"Driver",support:"Support"},r=function(e){return n[e]||e}},331:function(e,t,a){},446:function(e,t,a){"use strict";var n=a(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a(90)),s=a(2),l=(0,r.default)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=l},447:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));const n=(e,t,a)=>{let n=!0;const r={};return e||(n=!1,r.currentPass="Please enter Current Password"),t||(r.pass="Please enter Password",n=!1),a||(r.confirmPass="Please enter Confirm Password",n=!1),{isValid:n,err:r}},r=e=>{let{pass:t,confirmPass:a,otp:n}=e,r=!0;const s={};return t||(r=!1,s.pass="Please enter Password"),a||(s.confirmPass="Please enter Confirm Password",r=!1),n||(r=!1,s.otp="Please enter OTP"),{isValid:r,err:s}}}}]);
//# sourceMappingURL=13.278d7dba.chunk.js.map