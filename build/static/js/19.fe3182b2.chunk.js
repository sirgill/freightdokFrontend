(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[19],{1066:function(e,t,a){"use strict";a.r(t);var s=a(190),n=a(568),r=a.n(n),c=a(3),i=a(4),o=a(14),l=a(43),u=a(98),b=a(194),j=a(30),d=a(0),m=a(27),O=a(225),f=a(7),p=a(1),h=["children","alertConfig"],x=Object(f.a)(u.a)((function(e){return Object(O.a)(e),{backgroundColor:"#F7FAFC",boxShadow:"0px 0px 80px rgba(34, 35, 58, 0.2)"}})),g=function(e){var t=e.children,a=e.alertConfig,s=void 0===a?{}:a,n=Object(m.a)(e,h);return Object(p.jsxs)(x,Object(i.a)(Object(i.a)({},n),{},{children:[Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(b.a,{config:s})}),t]}))},v=a(82),P=a(446),w=a(46),C=a(137),y=a(35),k=a(567),S=function(e){var t=e.form,a=e.onChange,s=e.loading,n=e.errors;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(b.b,{type:"number",label:"OTP",onChange:a,value:t.otp,name:"otp",errors:n})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(b.d,{label:"New Password",onChange:a,value:t.pass,name:"pass",errors:n})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(b.d,{label:"Confirm Password",onChange:a,value:t.confirmPass,name:"confirmPass",errors:n})}),Object(p.jsx)(u.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(p.jsx)(b.c,{isLoading:s,type:"submit",loadingText:"Please wait...",children:"Submit"})}),Object(p.jsx)(u.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(p.jsx)(l.a,{component:w.b,to:C.b,sx:{display:"block"},children:"Sign In"})})]})};t.default=function(e){var t,a=e.history,n=Object(d.useState)({pass:"",confirmPass:"",email:"",otp:""}),l=Object(o.a)(n,2),m=l[0],O=l[1],f=Object(d.useState)({pass:"",confirmPass:"",email:"",otp:""}),h=Object(o.a)(f,2),x=h[0],w=h[1],V=Object(d.useState)(!1),F=Object(o.a)(V,2),L=F[0],T=F[1],z=Object(d.useState)({open:!1,message:"",severity:"error"}),M=Object(o.a)(z,2),A=M[0],E=M[1],H=Object(P.a)("/api/forgotPassword"),I=H.mutation,J=H.loading,N=Object(P.a)("/api/forgotPassword"),_=N.mutation,D=N.loading,q=function(e){var t=e.name,a=e.value;O(Object(i.a)(Object(i.a)({},m),{},Object(c.a)({},t,a))),w(Object(i.a)(Object(i.a)({},x),{},Object(c.a)({},t,"")))};return t=L?Object(p.jsx)(S,{form:m,onChange:q,loading:D,errors:x}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(b.b,{label:"Email",onChange:q,value:m.email,name:"email",errors:x,InputProps:{startAdornment:Object(p.jsx)(s.a,{position:"start",children:Object(p.jsx)(r.a,{})})}})}),Object(p.jsx)(u.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(p.jsx)(b.c,{isLoading:J,type:"submit",loadingText:"Please wait...",children:"Verify"})})]}),Object(p.jsx)("div",{className:"auth-wrapper",style:j.j,children:Object(p.jsxs)(g,{container:!0,direction:"column",gap:2,px:8,py:4,component:"form",onSubmit:function(e){if(E(Object(i.a)(Object(i.a)({},A),{},{open:!1})),e.preventDefault(),L){var t=m.confirmPass,s=m.pass,n=m.otp,r=m.email,c=Object(k.b)({confirmPass:t,pass:s}),o=c.isValid,l=c.err;if(!o)return w(l);t!==s?E(Object(i.a)(Object(i.a)({},A),{},{open:!0,message:"Passwords do not match"})):_({confirmPass:t,email:r,otp:n,newPass:m.pass},"put").then((function(e){var t=e.success,s=e.data;t?(Object(y.a)(null===s||void 0===s?void 0:s.message),a.push(C.b)):E(Object(i.a)(Object(i.a)({},A),{},{open:!0,message:s.message}))})).catch((function(e){Object(y.a)(e.message,"error")}))}else{if(!Object(j.e)(m.email))return w(Object(i.a)(Object(i.a)({},x),{},{email:"Please enter valid Email"}));I({email:m.email},"post").then((function(e){var t=e.success,a=e.data;Object(y.a)(null===a||void 0===a?void 0:a.message,t?void 0:"error"),t&&T(!0)})).catch((function(e){Object(y.a)(e.message,"error")}))}},alertConfig:A,children:[Object(p.jsx)(u.a,{item:!0,sx:{mb:3},children:Object(p.jsx)(v.a,{style:{pointer:"default"}})}),t]})})}},446:function(e,t,a){"use strict";var s=a(33),n=a(4),r=a(51),c=a(14),i=a(0),o=a(91),l=function(e){var t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.useState)(!1),u=Object(c.a)(o,2),b=u[0],j=u[1],d=function(){var c=Object(r.a)(Object(s.a)().mark((function r(c){var i,o,u,b=arguments;return Object(s.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=b.length>1&&void 0!==b[1]?b[1]:"post",o=b.length>2?b[2]:void 0,j(!0),i||(i="post"),!(u=l(i.toLowerCase()))){s.next=7;break}return s.abrupt("return",u({uri:e,callback:t,body:c,showTriggers:a}).then((function(e){return o&&o(Object(n.a)({},e)),e})).catch((function(e){return e})).finally((function(){j(!1)})));case 7:case"end":return s.stop()}}),r)})));return function(e){return c.apply(this,arguments)}}();return{mutation:d,loading:b}}},567:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(e,t,a){var s=!0,n={};return e||(s=!1,n.currentPass="Please enter Current Password"),t||(n.pass="Please enter Password",s=!1),a||(n.confirmPass="Please enter Confirm Password",s=!1),{isValid:s,err:n}},n=function(e){var t=e.pass,a=e.confirmPass,s=!0,n={};return t||(s=!1,n.pass="Please enter Password"),a||(n.confirmPass="Please enter Confirm Password",s=!1),{isValid:s,err:n}}},568:function(e,t,a){"use strict";var s=a(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(116)),r=a(1),c=(0,n.default)((0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"}),"MailOutline");t.default=c}}]);
//# sourceMappingURL=19.fe3182b2.chunk.js.map