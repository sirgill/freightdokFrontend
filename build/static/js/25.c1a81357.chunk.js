(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[25],{1155:function(e,t,a){"use strict";a.r(t);var n=a(201),o=a(248),r=a(0),s=a(33),i=a(354),c=a.n(i),l=a(275),d=a(323),u=a(315),b=a(575),h=a(683),j=a(576),f=a(200),p=a(1036),g=a(44),m=a(278),x=a.n(m),O=a(266),v=a(28),y=a(57),C=a(256),w=a(319),k=a.n(w),N=a(2);const{add:S}=y.a.getUserPermissionsByDashboardId("drivers");var D=Object(s.b)((e=>{let{load:t,auth:{user:a},driver:{all_drivers:n}}=e;return{load:t,user:a,all_drivers:n}}),{addDriver:d.a,getLoads:u.c})((e=>{const{all_drivers:t,getLoads:a,isEdit:i=!1,data:c={},closeEditForm:l}=e,{loading:u,mutation:m}=Object(O.a)("/api/drivers"),y={firstName:"",lastName:"",phoneNumber:"",user:""},w=Object(s.d)(),[D,P]=Object(r.useState)(!1),[_,F]=Object(r.useState)(1),[L,R]=Object(r.useState)(y),[z,A]=Object(r.useState)({});Object(r.useEffect)((()=>{2===_&&a()}),[_]);const M=()=>{F(1),P(!0)};Object(r.useEffect)((()=>(i&&(M(),R(c)),()=>{R((()=>y))})),[i]);const I=()=>{P(!1),F(1),l&&l()},E=e=>{let{name:t,value:a}=e;R({...L,[t]:a}),A((e=>({...e,[t]:""})))};return Object(N.jsxs)(N.Fragment,{children:[!i&&Object(N.jsx)(p.a,{disabled:!S,color:"primary",onClick:M,style:{marginBottom:"20%"},variant:"contained",startIcon:Object(N.jsx)(k.a,{}),children:"Add"}),Object(N.jsxs)(b.a,{maxWidth:"md",open:D,onClose:I,"aria-labelledby":"form-dialog-title",PaperProps:{sx:{width:400}},children:[Object(N.jsxs)(j.a,{id:"form-dialog-title",sx:{color:g.c,textAlign:"center",fontWeight:400,letterSpacing:1},children:[Object(N.jsx)(o.a,{"aria-label":"close",onClick:I,sx:{position:"absolute",left:8,top:8,color:e=>e.palette.grey[500]},children:Object(N.jsx)(x.a,{})}),i?"Edit":"Add"," Driver"]}),Object(N.jsx)(h.a,{children:Object(N.jsx)("div",{className:"",children:Object(N.jsxs)(n.a,{component:"form",sx:{px:4,pb:3},onSubmit:e=>{e.preventDefault();const{valid:t,errors:a}=(e=>{let{firstName:t,phoneNumber:a,user:n,lastName:o}=e,r=!0,s={};return t||(r=!1,s.firstName="First Name is required"),o||(r=!1,s.lastName="Last Name is required"),a||(r=!1,s.phoneNumber="Phone Number is required"),n||(r=!1,s.user="Please select a Driver"),{valid:r,errors:s}})(L);if(!t)return A({...a});m(L,null,(e=>{let{success:t,data:a}=e;t?(w(Object(d.d)()),I(),R((()=>y)),Object(v.a)(a.message)):Object(v.a)(a.message,"error")}))},noValidate:!0,children:[Object(N.jsxs)(f.a,{container:!0,sx:{"& .MuiFormControl-fullWidth":{mb:2}},children:[Object(N.jsx)(C.d,{name:"firstName",label:"First Name",onChange:E,value:L.firstName,errors:z,formControlSx:{mt:.8},required:!0}),Object(N.jsx)(C.d,{name:"lastName",label:"Last Name",onChange:E,value:L.lastName,errors:z,required:!0}),Object(N.jsx)(C.d,{name:"phoneNumber",label:"Phone Number",onChange:E,value:L.phoneNumber,errors:z,required:!0}),!i&&Object(N.jsx)(C.h,{value:L.user,name:"user",onChange:E,label:"Select Driver",showNone:!0,options:t.map((e=>({id:e._id,label:e.email}))),errors:z,required:!0})]}),Object(N.jsx)(C.e,{sx:{mt:2},type:"submit",variant:"contained",loadingText:i?"Updating...":"Saving...",fullWidth:!0,isLoading:u,children:(i?"Update ":"Add ")+"Driver"})]})})})]})]})}));const{edit:P,delete:_}=y.a.getUserPermissionsByDashboardId("drivers");t.default=Object(s.b)((e=>({driver:e.driver})),{getDrivers:d.d,patchDriverLoads:d.e,deleteDriverLoads:d.c,deleteDriver:d.b})((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{deleteDriver:t}=e,{drivers:a=[],loading:i=!1}=Object(s.e)((e=>e.driver),s.c),[u,b]=Object(r.useState)({open:!1,data:{}}),h=Object(s.d)(),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0).stopPropagation(),b({open:!0,data:e})},f=()=>{h(Object(d.d)())};Object(r.useEffect)((()=>{f()}),[]);const p={rowCellPadding:"normal",emptyMessage:"No drivers found",hasDelete:!0,deletePermissions:!!_,deleteMessage:e=>{let{row:t}=e;return"Are you sure you want to delete "+t.firstName+" "+(t.lastName||"")+"?"},onDelete:function(){let e=arguments.length>1?arguments[1]:void 0,{row:a}=arguments.length>2?arguments[2]:void 0;const n="string"!==typeof a.user?a.user._id:a.user;t(n,e)},columns:[{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"phoneNumber",label:"Phone Number"},{id:"delete",renderer:e=>{let{row:t}=e;return Object(N.jsx)(C.i,{title:"Edit",placement:"top",children:Object(N.jsx)(o.a,{disabled:!P,variant:"contained",sx:{mr:2},onClick:j.bind(undefined,t),color:"primary",children:Object(N.jsx)(c.a,{})})})}}]},g=Object(N.jsx)(n.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(D,{})});return Object(N.jsxs)("div",{className:"dashboardRoot",children:[Object(N.jsx)(l.a,{config:p,data:a,loading:i,actions:g}),u.open&&Object(N.jsx)(D,{closeEditForm:()=>{b({open:!1,data:{}})},data:u.data,isEdit:!0,onRefresh:f})]})}))},266:function(e,t,a){"use strict";var n=a(0),o=a(48),r=a(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,c]=Object(n.useState)(!1);return{mutation:async function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;s.queryParams&&(d=d+"?"+Object(r.n)(s.queryParams)),c(!0),i||(i="post");const u=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(i.toLowerCase());if(u)return u({uri:d,callback:t,body:n,showTriggers:a}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{c(!1)}))},loading:i}}},273:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),o=a(1036),r=a(575),s=a(1043),i=a(683),c=a(576),l=a(237),d=a(2);const u=n.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function b(e){const{open:t=!1,config:a,onClose:n,preventBackdropClose:l=!1,className:b}=e,{title:h,onOk:j,okText:f="Save",content:p,onCancel:g}=a,m=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||n()};return Object(d.jsx)("div",{children:Object(d.jsxs)(r.a,{className:b,open:t,TransitionComponent:u,onClose:m,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof h?h({...a}):Object(d.jsx)(c.a,{sx:{fontWeight:550},children:h}),Object(d.jsx)(i.a,{children:"function"===typeof p?p({config:a}):p}),Object(d.jsxs)(s.a,{children:["function"===typeof g?g({config:a,onClose:n}):Object(d.jsx)(o.a,{variant:"outlined",onClick:m,children:"Cancel"}),"function"===typeof f?f({config:a,onOk:j}):Object(d.jsx)(o.a,{variant:"contained",color:f.equalsIgnoreCase("delete")?"error":"primary",onClick:j,children:f})]})]})})}},275:function(e,t,a){"use strict";var n=a(201),o=a(247),r=a(1175),s=a(1164),i=a(1176),c=a(526),l=a(280),d=a.n(l),u=a(1174),b=a(1173),h=a(1040),j=a(200),f=a(88),p=a(1137),g=a(248),m=a(1172),x=a(1148),O=a(295),v=a.n(O),y=a(1171),C=a(257),w=a.n(C),k=a(287),N=a.n(k),S=a(0),D=a.n(S),P=a(13),_=a(1125),F=a(10),L=a(256),R=a(2);const z=Object(F.a)(_.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),A=Object(F.a)(c.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var M=e=>{let{data:t=[],onPageChange:a,page:n=1,count:o=0,limit:r=1,onLimitChange:s,isLoading:i}=e;const[l,d]=Object(S.useState)(0);Object(S.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(R.jsxs)(A,{direction:"row",alignItems:"center",children:[Object(R.jsxs)(f.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",o," entries"]}),Object(R.jsxs)(c.a,{direction:"row",alignItems:"center",children:[Object(R.jsx)(L.h,{disabled:i,name:"pageSize",label:"",value:r,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof s&&s({value:t})}}),Object(R.jsx)(z,{disabled:i,count:Math.ceil(o/r),color:"primary",variant:"contained",page:n,size:"medium",onChange:(e,t)=>{+n!==+t&&"function"===typeof a&&a(e,+t)}})]})]})},I=a(277),E=a(273),q=a(90),T=a(276);const W=Object(F.a)(y.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),H=Object(F.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function U(e){let{columns:t=[],config:a={},role:n,handleRequestSort:o,hasSort:r}=e;const{headerCellSx:s={},hasDelete:i,sortField:c,sortOrder:l,showCheckbox:d}=a,u=Object(S.useMemo)((()=>t.map(((e,t)=>{const{label:a="",id:i="",visible:d=!0,sort:u=!1}=e||{};return(w.a.isFunction(d)?d({column:e,role:n}):d)?Object(R.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s},children:r&&u?Object(R.jsx)(x.a,{onClick:e=>o(e,i),active:i===c,direction:l,sx:{...s},children:a}):a},i||t):null}))),[t,s]);return d&&u.unshift(Object(R.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s}},"checkbox-header")),Object(R.jsxs)(m.a,{children:[u,i&&Object(R.jsx)(W,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s}})]})}const B=e=>{let{columns:t,data:a=[],config:n={},handleRowClick:o,handleDelete:r,...s}=e;return(a||[]).map(((e,a)=>{const{dataKey:i=""}=n;return i&&(e=e[i]),(e=>{let{row:t=[],columns:a={},config:n={},handleRowClick:o,rowIndex:r,handleDelete:s,hasDeletePermission:i,checkboxKey:c,...l}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:b,rowStyleCb:h,showCheckbox:j=!1,rowCellSx:f={}}=n,{role:x,onCheckboxChange:O,checkboxes:v}=l;let y={};h&&(y=h({row:t})||{});const C=Object(R.jsx)(W,{sx:{},padding:"none",component:"th",scope:"row",children:Object(R.jsx)(T.a,{title:"Delete",placement:"top",children:Object(R.jsx)(g.a,{onClick:s.bind(void 0,t._id,t),disabled:!i,children:Object(R.jsx)(H,{color:i?"error":"disabled"})})})}),k=a.map(((e,a)=>{const{id:n="",renderer:o,emptyState:s="--",valueFormatter:i,visible:c=!0,cellPadding:l,isCostCell:d}=e||{};if(!(w.a.isFunction(c)?c({column:e,role:x}):c))return null;let b;return b=d?t[n]?Object(q.e)(t[n]||""):s:i&&w.a.isFunction(i)?i(t[n],t):w.a.isFunction(o)?o({row:t,role:x},r)||s:w.a.get(t,n,s)||s,Object(R.jsx)(W,{padding:l||u||"normal",sx:f,component:"th",scope:"row",children:b},n+a)}));if(j){if(!c)throw new Error("Checkbox key not provided");const e=v.indexOf(t[c])>-1;k.unshift(Object(R.jsx)(W,{onClick:O.bind(void 0,t),sx:f,children:Object(R.jsx)(p.a,{checked:e})},"checkbox-".concat(r)))}return Object(R.jsxs)(m.a,{hover:!!b,onClick:e=>{e.preventDefault(),w.a.isFunction(o)&&o(t)},sx:b?{cursor:"pointer",...y}:{...y},children:[k,d&&C]},r)})({row:e,columns:t,config:n,handleRowClick:o,rowIndex:a,handleDelete:r,...s})}))},J=e=>{let{config:t={},data:a=[],history:l,loading:p=!1,onRefetch:m,isRefetching:x,actions:O,isPaginationLoading:v=!1,...y}=e;a=a||[];const{onCheckboxChange:C,checkboxes:k,checkboxKey:P}=y,[_,F]=Object(S.useState)({}),[L,z]=Object(S.useState)({open:!1,config:{}}),{columns:A=[],columnsBuilder:T,onRowClick:W,hasOnClickUrl:H=!0,onPageChange:J,page:V,count:K,limit:G,onPageSizeChange:Q,onLimitChange:X,size:Y="medium",emptyMessage:Z="",onRowClickDataCallback:$,showRefresh:ee=!1,onDelete:te,deleteMessage:ae,deletePermissions:ne=[],containerHeight:oe="",sortField:re,sortOrder:se="asc",handleSortChange:ie,hasSort:ce=!1}=t,{role:le=""}=Object(q.h)().user,de="boolean"===typeof ne?ne:ne.indexOf(le)>-1||!1,ue=D.a.useRef([]),be="function"===typeof T?T({data:a,columns:A}):A,he=Array.isArray(a)&&a.length,je=Object(S.useMemo)((()=>O&&D.a.isValidElement(O)?O:Object(R.jsx)(R.Fragment,{})),[O]),fe=e=>{if(H&&W){const t=W(e);$&&(e=$(e)),l.push(t,e)}else W&&W(e)},pe=(e,t)=>{ie&&ie({field:t,order:re===t&&"asc"===se?"desc":"asc"})},ge=(e,t,a)=>{a.stopPropagation();const n={title:()=>Object(R.jsxs)(j.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(R.jsx)(N.a,{color:"error"}),Object(R.jsx)(f.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,me,{row:t}),content:()=>Object(R.jsx)(h.a,{sx:{color:"#000"},children:w.a.isFunction(ae)?ae({row:t}):ae||"Are you sure you want to delete the record?"})};z({...L,open:!0,config:n})};function me(){z({...L,open:!1})}const xe=Object(S.useMemo)((()=>he?Object(R.jsxs)(S.Fragment,{children:[Object(R.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(R.jsx)(U,{columns:be,config:t,role:le,handleRequestSort:pe,hasSort:ce})}),Object(R.jsx)(u.a,{children:Object(R.jsx)(B,{role:le,columns:be,data:a,config:t,checkboxes:k,checkboxKey:P,handleRowClick:fe,handleDelete:ge,onCheckboxChange:C,hasDeletePermission:de})})]}):Object(R.jsx)("tbody",{style:{height:300},children:Object(R.jsx)("tr",{children:Object(R.jsx)("td",{style:{textAlign:"center"},children:Object(R.jsx)("h4",{children:Z||"No records found"})})})})),[a,t,k]);return Object(S.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.current)&&void 0!==e&&e.table){const e=ue.current.table.offsetHeight;F({..._,height:e>200?e:void 0})}}),[]),Object(S.useEffect)((()=>{var e;(v||x)&&null!==(e=ue.current)&&void 0!==e&&e.tableContainer&&ue.current.tableContainer.scrollTo(0,0)}),[v,x]),Object(R.jsxs)(n.a,{className:"enhanced-table",sx:{height:he&&!p?oe||"95%":"auto"},children:[Object(R.jsxs)(c.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[je,ee&&Object(R.jsx)(g.a,{title:"Refresh",onClick:m,children:Object(R.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(R.jsxs)(r.a,{component:o.a,className:"tableContainer",ref:e=>ue.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:he&&!p?"calc(100% - 80px)":"auto",position:"relative"},children:[p?(()=>{const e=window.innerHeight-180,t=(_.height?_.height>e?e:_.height:e)||e;return Object(R.jsx)(j.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(R.jsx)(j.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(R.jsx)(I.a,{})})})})():Object(R.jsx)(i.a,{ref:e=>ue.current.table=e,"aria-label":"caption table",size:Y,stickyHeader:!0,children:xe}),Object(R.jsx)(s.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||x||!1,children:Object(R.jsx)(I.a,{sx:{color:"inherit"}})})]}),!p&&a.length>0&&Object(R.jsx)(M,{data:a,onPageChange:J,page:V,count:K,limit:G,onLimitChange:X||Q,isLoading:x||v}),Object(R.jsx)(E.a,{className:"enhancedTable_dialog",open:L.open,config:L.config,onClose:me})]})};t.a=Object(P.withRouter)(Object(S.memo)(J))},278:function(e,t,a){"use strict";var n=a(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(91)),r=a(2),s=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=s},280:function(e,t,a){"use strict";var n=a(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(91)),r=a(2),s=(0,o.default)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=s},315:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return b})),a.d(t,"g",(function(){return h})),a.d(t,"b",(function(){return j}));var n=a(25),o=a.n(n),r=a(28),s=a(3),i=a(48);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async(o,c)=>{o({type:s.S,payload:{isLoadsFetching:!0}});try{const{success:c,data:l}=await Object(i.b)({uri:"/api/load/me?page=".concat(e+1,"&limit=").concat(t,"&module=").concat(a,"&search=").concat(n)});o({type:s.S,payload:{isLoadsFetching:!1}}),c?o({type:s.J,payload:{loads:l,page:e,limit:t,loading:!1}}):Object(r.a)(l.message,"error")}catch(l){o(Object(r.b)(l.message,"error"))}}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async i=>{try{const r="/api/load/me?page=".concat(e+1,"&limit=15&search=").concat(a,"&module=").concat(n),c=await o.a.get(r);i({type:s.nb,payload:{data:c.data,page:e,limit:t,search:a}})}catch(c){i(Object(r.b)(c.message,"error"))}}},d=function(){return async(e,t)=>{e({type:s.lb});const{load:{page:a,rowsPerPage:n}}=t()}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:s.ob,payload:e}},b=(e,t)=>async a=>{try{const{data:n,success:o}=await Object(i.d)({uri:"/api/load",body:e});o?(a({type:s.b,payload:n}),Object(r.a)("Load Created"),t&&t(o,n)):Object(r.a)(n.message,"error")}catch(n){a(Object(r.b)(n.message,"error")),console.log(n)}},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return async(o,s)=>{try{const l=new FormData;for(let t of Object.keys(e))if(["rateConfirmation","proofDelivery"].indexOf(t)<0){const a=e[t],n=Array.isArray(a);let o=n&&!(null===a)?JSON.stringify(a):a;l.append(t,o)}l.append("bucketFiles",JSON.stringify(a));for(let t of["rateConfirmation","proofDelivery","accessorialsFiles"]){const a=e[t];if(a)for(let e of a)l.append(t,e)}const{success:d,data:u}=await Object(i.c)({uri:"/api/load/modify",body:l});if(d){Object(r.a)("Load Updated");const{load:{rowsPerPage:e,page:a}}=s();o(c(a,e,t))}n(d,u)}catch(l){Object(r.a)(l.message,"error")}}},j=(e,t)=>async a=>{try{const{success:n,data:o}=await Object(i.a)({uri:"/api/load",body:{data:{load_id:e}}});Object(r.a)(o.message,n?"success":"error"),n&&a({type:s.w,payload:e}),t&&t(n,o)}catch(n){Object(r.a)(n.message,"error")}}},319:function(e,t,a){"use strict";var n=a(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(91)),r=a(2),s=(0,o.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=s},323:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(25),o=a.n(n),r=a(28),s=a(3);const i=()=>async e=>{try{const t=await o.a.get("/api/drivers/me");Object.assign(t.data,{timestamp:new Date}),e({type:s.H,payload:t.data})}catch(n){var t,a;console.log(n),e({type:s.x,payload:{msg:null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.statusText,status:null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status}})}},c=(e,t)=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},n=await o.a.post("/api/drivers",e,a);Object(r.a)(n.data.message),t(i())}catch(a){let e=a.errors&&Array.isArray(a.errors)&&a.errors.length?a.errors[0].msg:a.message;t(Object(r.b)(e,"error"))}},l=(e,t)=>async(a,n)=>{try{let r=n().driver.drivers;const i=await o.a.patch("/api/drivers/loads?driver_id=".concat(e),{loads:t});let c=r.indexOf(r.find((e=>e._id===i.data._id)));-1!==c&&(r[c]=i.data),a({type:s.cb,payload:r})}catch(r){a({type:s.x,payload:{msg:r.response.statusText,status:r.response.status}})}},d=(e,t)=>async(a,n)=>{try{let i=n().driver.drivers;const c=await o.a.delete("/api/drivers/",{data:{driver_id:e}});let l=i.indexOf(i.find((e=>e._id===c.data._id)));-1!==l&&i.splice(l,1),Object(r.a)("Deleted Successfully"),t&&t(c),a({type:s.u,payload:i})}catch(i){a({type:s.x,payload:{msg:i.response.statusText,status:i.response.status}})}},u=(e,t)=>async(a,n)=>{try{let r=n().driver.drivers;const i=await o.a.delete("/api/drivers/loads",{data:{load_id:t,driver_id:e}});let c=r.indexOf(r.find((e=>e._id===i.data._id)));-1!==c&&(r[c]=i.data),a({type:s.v,payload:r})}catch(r){a({type:s.x,payload:{msg:r.response.statusText,status:r.response.status}})}}},354:function(e,t,a){"use strict";var n=a(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(91)),r=a(2),s=(0,o.default)((0,r.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=s}}]);
//# sourceMappingURL=25.c1a81357.chunk.js.map