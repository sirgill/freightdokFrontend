{"version":3,"sources":["views/businessIntelligence/BIDashboardTabs/tabPanelComponents/Overview.jsx","views/businessIntelligence/BIDashboardTabs/tabPanelComponents/Historical.jsx","views/businessIntelligence/BIDashboardTabs/tabPanelComponents/Financial.jsx","views/businessIntelligence/BIDashboardTabs/BITabs.jsx","components/Atoms/Dialog.js","components/Atoms/table/Pagination.jsx","components/Atoms/table/Table.jsx","layout/Widget.jsx"],"names":["config","rowCellPadding","columns","id","label","valueFormatter","val","_","get","isCostCell","readableDateTime","Overview","_ref","data","loading","isRefetching","presentableDateRange","_jsx","_Fade","in","timeout","children","_Box","_jsxs","Widget","title","titleSx","fontSize","sx","border","_Typography","align","fontWeight","background","boxShadow","height","Table","color","length","tableConfig","headerCellSx","backgroundColor","py","rowCellSx","LoadingHistorical","my","width","_Skeleton","animation","HistoricalPerformance","dateRange","borderRadius","px","pt","mb","EnhancedTable","Historical","startDate","moment","subtract","startOf","endDate","endOf","startDate_2","endDate_2","startDate_3","endDate_3","dispatch","useDispatch","useSelector","state","businessIntelligence","historicalPerformance","useEffect","getHistoricalPerformance","comp","map","item","getPresentableDateRange","loadingComp","Array","from","Grid2","spacing","container","gap","overflow","memo","Expense","value","expenseName","isExpense","isNetExpense","containerSx","borderTop","mt","flex","p","variant","getDollarPrefixedPrice","Financial","_ref2","bgcolor","CustomTabPanel","props","index","other","Box","role","hidden","concat","a11yProps","BITabs","query","search","useLocation","React","useMemo","URLSearchParams","useQuery","financialTab","historicalTab","overviewTab","setValue","useState","history","useHistory","overview","params","append","delete","replace","toString","_Paper","elevation","Tabs","onChange","handleChange","event","newValue","Tab","Transition","ref","Slide","direction","Dialog","open","onClose","preventBackdropClose","className","onOk","okText","content","onCancel","handleClose","e","arguments","undefined","equalsIgnoreCase","MuiDialog","TransitionComponent","DialogTitle","DialogContent","DialogActions","Button","onClick","StyledPagination","styled","Pagination","theme","breakpoints","down","StyledStack","Stack","justifyContent","display","flexWrap","TablePagination","_ref3","onPageChange","page","count","limit","onLimitChange","isLoading","setLength","isArray","alignItems","Typography","Select","disabled","name","options","_ref4","Math","ceil","size","pgNum","Cell","_TableCell","padding","DeleteIcon","_Delete","Headers","handleRequestSort","hasSort","hasDelete","sortField","sortOrder","showCheckbox","headers","column","visible","sort","isFunction","_TableSortLabel","active","unshift","_TableRow","TableData","_ref5","handleRowClick","handleDelete","rest","row","dataKey","rowIndex","hasDeletePermission","checkboxKey","onRowClick","rowStyleCb","onCheckboxChange","checkboxes","rowStyle","deleteCell","component","scope","Tooltip","placement","_IconButton","bind","_id","cell","i","renderer","emptyState","cellPadding","Error","checked","indexOf","_Checkbox","hover","preventDefault","cursor","getTableCell","_ref6","onRefetch","actions","isPaginationLoading","tableState","setTableState","dialog","setDialog","_columns","columnsBuilder","hasOnClickUrl","onPageSizeChange","emptyMessage","onRowClickDataCallback","showRefresh","onDelete","deleteMessage","deletePermissions","containerHeight","handleSortChange","getUserDetail","user","useRef","Actions","isValidElement","_Fragment","url","push","property","field","order","stopPropagation","_Grid","ErrorOutlineIcon","onDialogClose","_DialogContentText","getTableContent","Fragment","_TableHead","_TableBody","style","textAlign","_ref$current","current","table","calculatedHeight","offsetHeight","_ref$current2","tableContainer","scrollTo","_Stack","_Refresh","_TableContainer","el","position","getLoader","innerHeight","window","Spinner","_Table","stickyHeader","_Backdrop","zIndex","drawer","withRouter","Paper","proptype","PropTypes","string","isRequired","element","oneOf","object"],"mappings":"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","file":"static/js/34.8482c41b.chunk.js","sourcesContent":["import {Box, Fade, Typography} from \"@mui/material\";\r\nimport Widget from \"../../../../layout/Widget\";\r\nimport Table from \"../../../../components/Atoms/table/Table\";\r\nimport _ from \"lodash\";\r\nimport {readableDateTime} from \"../../../../utils/utils\";\r\n\r\nconst config = {\r\n    rowCellPadding:'normal',\r\n    columns: [\r\n        {\r\n            id: 'loadNumber',\r\n            label: 'Loads #'\r\n        },\r\n        {\r\n            id: 'pickup',\r\n            label: 'Pickup',\r\n            valueFormatter: (val) => {\r\n                return _.get(val, '[0].pickupCity', '') + `, ` + _.get(val, '[0].pickupState', '')\r\n            }\r\n        },\r\n        {\r\n            id: 'drop',\r\n            label: 'Delivery',\r\n            valueFormatter: (val) => _.get(val, '[0].dropCity', '') + `, ` + _.get(val, '[0].dropState', '')\r\n        },\r\n        {\r\n            id: 'miles',\r\n            label: 'Miles',\r\n        },\r\n        {\r\n            id: 'rate',\r\n            label: 'Rate',\r\n            isCostCell: true\r\n        },\r\n        {\r\n            id: '$/mile',\r\n            label: '$/Mile',\r\n        },\r\n        {\r\n            id: 'updatedAt',\r\n            label: 'Last Updated On',\r\n            valueFormatter: readableDateTime\r\n        }\r\n    ]\r\n}\r\nconst Overview = ({data, loading, isRefetching, presentableDateRange}) => {\r\n    return <Fade in timeout={1000}>\r\n        <Box>\r\n            <Widget title='Recent Loads' titleSx={{fontSize: 16}} sx={{border: 'none'}}>\r\n                <Typography align='right' fontWeight='bold'>Performance metrics ({presentableDateRange})</Typography>\r\n                <Box\r\n                    sx={{\r\n                        background: '#fff',\r\n                        '.enhanced-table': {\r\n                            '.tableContainer': {\r\n                                boxShadow: 'none',\r\n                                border: '1px solid #e5e5e5',\r\n                                height: 400\r\n                            }\r\n                        }\r\n                    }}\r\n                >\r\n                    <Table loading={loading} data={data} config={config} isRefetching={isRefetching}/>\r\n                </Box>\r\n                <Typography color='text.secondary'>Total: {data.length}</Typography>\r\n            </Widget>\r\n        </Box>\r\n    </Fade>\r\n}\r\n\r\nexport default Overview;","import {Box, Skeleton, Typography} from \"@mui/material\";\r\nimport Widget from \"../../../../layout/Widget\";\r\nimport EnhancedTable from \"../../../../components/Atoms/table/Table\";\r\nimport Grid2 from \"@mui/material/Unstable_Grid2\";\r\nimport moment from \"moment/moment\";\r\nimport {getPresentableDateRange} from \"../../../../utils/utils\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {memo, useEffect} from \"react\";\r\nimport {getHistoricalPerformance} from \"../../../../actions/businessIntelligence.action\";\r\n\r\nconst tableConfig = {\r\n    rowCellPadding: 'normal',\r\n    headerCellSx: {\r\n        fontWeight: 'none',\r\n        color: '#606060',\r\n        backgroundColor: 'none',\r\n        border: 'none',\r\n        py: 0\r\n    },\r\n    rowCellSx: {\r\n        border: 'none',\r\n        fontWeight: 'bold'\r\n    },\r\n    columns: [\r\n        {\r\n            id: 'revenue',\r\n            label: 'Revenue',\r\n        },\r\n        {\r\n            id: 'loadCount',\r\n            label: 'Loads'\r\n        },\r\n        {\r\n            id: 'miles',\r\n            label: 'Miles'\r\n        },{\r\n            id: 'averageRate',\r\n            label: 'Avg Rate',\r\n        },\r\n        {\r\n            id: 'rateMile',\r\n            label: 'Rate/Mile',\r\n        }\r\n    ]\r\n}\r\n\r\nfunction LoadingHistorical() {\r\n    return <Box sx={{my: 1, width: '100%'}}>\r\n        <Skeleton width={'100%'} animation=\"wave\"  />\r\n        <Skeleton width={'100%'} animation=\"wave\"  />\r\n    </Box>;\r\n}\r\n\r\nfunction HistoricalPerformance({dateRange, data, loading}) {\r\n    return <Box sx={{width: '100%', border: '1px solid #e5e5e5', borderRadius: '.5rem', px: 2, pt: 1}}>\r\n        <Typography fontWeight='bold' sx={{px: .5}}>{dateRange}</Typography>\r\n        <Box sx={{\r\n            '.enhanced-table': {\r\n                '.tableContainer': {\r\n                    boxShadow: 'none',\r\n                    mb: 0\r\n                }\r\n            }\r\n        }}>\r\n            {loading ? <LoadingHistorical />\r\n                : <EnhancedTable\r\n                config={tableConfig}\r\n                data={data}\r\n            />}\r\n        </Box>\r\n    </Box>;\r\n}\r\n\r\nconst Historical = () => {\r\n    const startDate = moment().subtract(1, 'weeks').startOf('week');\r\n    const endDate = moment().subtract(1, 'weeks').endOf('week')\r\n\r\n    const startDate_2 = moment().subtract(2, 'weeks').startOf('week')\r\n    const endDate_2 = moment().subtract(2, 'weeks').endOf('week')\r\n\r\n    const startDate_3 = moment().subtract(3, 'weeks').startOf('week');\r\n    const endDate_3 = moment().subtract(2, 'weeks').endOf('week')\r\n\r\n    const dispatch = useDispatch();\r\n    const {loading, data= []} = useSelector(state => state.businessIntelligence.historicalPerformance);\r\n\r\n    useEffect(() => {\r\n        if(!data.length){\r\n            dispatch(getHistoricalPerformance([\r\n                {startDate, endDate},\r\n                {startDate: startDate_2, endDate: endDate_2},\r\n                {startDate: startDate_3, endDate: endDate_3}\r\n            ]))\r\n        }\r\n    }, [data]);\r\n\r\n    const comp = data.map(item => {\r\n        const {data, dateRange: {startDate, endDate} = {}} = item;\r\n        return <HistoricalPerformance dateRange={getPresentableDateRange(startDate, endDate)} data={[data]} />\r\n    }) || [];\r\n\r\n    const loadingComp = Array.from({length: 3}, () => <LoadingHistorical />)\r\n\r\n    return <Widget title='Historical Performance' titleSx={{fontSize: 16, mb: 2}} sx={{border: 'none'}}>\r\n        <Grid2 spacing={1} container gap={1} sx={{overflow: 'auto', height: '100%', width: '100%'}}>\r\n            {loading ? loadingComp : comp}\r\n        </Grid2>\r\n    </Widget>\r\n}\r\n\r\nexport default memo(Historical);","import {Box, Typography} from \"@mui/material\";\r\nimport Widget from \"../../../../layout/Widget\";\r\nimport Grid2 from \"@mui/material/Unstable_Grid2\";\r\nimport {getDollarPrefixedPrice} from \"../../../../utils/utils\";\r\n\r\n\r\nfunction Expense({value, expenseName, isExpense, isNetExpense, containerSx={}}) {\r\n    return <Grid2 container sx={{borderTop: isNetExpense ? '1px solid #e3e3e3' : 'none', mt: isNetExpense ? 2 : 0, ...containerSx}}>\r\n        <Grid2 flex={1} p={2}>\r\n            <Typography variant='body1' fontWeight={isNetExpense?'bold': 'normal'}>{expenseName}</Typography>\r\n        </Grid2>\r\n        <Grid2 p={2}>\r\n            <Typography sx={{fontWeight: 'bold', fontSize: '1.2rem'}} color={isNetExpense ? 'success' : (isExpense ? 'error' : 'inherit')}>\r\n                {value ? getDollarPrefixedPrice(value, isExpense) : '--'}\r\n            </Typography>\r\n        </Grid2>\r\n    </Grid2>;\r\n}\r\n\r\nconst Financial = ({presentableDateRange}) => {\r\n    return <Box>\r\n        <Widget title={presentableDateRange} variant={'elevation'} titleSx={{mb: 2}}>\r\n            <Box p={1}>\r\n                <Expense expenseName='Total Revenue' value={3765} containerSx={{bgcolor: '#f9fafb'}}/>\r\n                <Expense expenseName='Dispatch Fee (8%)' isExpense value={301}/>\r\n                <Expense expenseName='EFS Advances' isExpense value={8} containerSx={{bgcolor: '#f9fafb'}}/>\r\n                <Expense expenseName='Net Settlement' isNetExpense value={3455}/>\r\n            </Box>\r\n        </Widget>\r\n    </Box>\r\n}\r\n\r\nexport default Financial;","import React, {useEffect, useState} from 'react';\r\nimport {useHistory, useLocation} from 'react-router'\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\nimport Overview from \"./tabPanelComponents/Overview\";\r\nimport {useSelector} from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport Historical from \"./tabPanelComponents/Historical\";\r\nimport Financial from \"./tabPanelComponents/Financial\";\r\nimport {Fade, Paper} from \"@mui/material\";\r\nimport {getPresentableDateRange} from \"../../../utils/utils\";\r\n\r\nfunction CustomTabPanel(props) {\r\n    const {children, value, index, ...other} = props;\r\n\r\n    return (\r\n        <Box\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`tabpanel-${index}`}\r\n            aria-labelledby={`tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && <Box sx={{p: 1}}>{children}</Box>}\r\n        </Box>\r\n    );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `tab-${index}`,\r\n        'aria-controls': `tabpanel-${index}`,\r\n    };\r\n}\r\n\r\nfunction useQuery() {\r\n    const {search} = useLocation();\r\n\r\n    return React.useMemo(() => new URLSearchParams(search), [search]);\r\n}\r\n\r\nconst BITabs = ({dateRange}) => {\r\n    const query = useQuery().get('tab');\r\n    const {\r\n        financialTab,\r\n        historicalTab,\r\n        overviewTab\r\n    } = useSelector(state => _.get(state, 'auth.userPermissions.permissions.businessIntelligence', {}));\r\n    const [value, setValue] = useState(query || 'overview');\r\n    const history = useHistory();\r\n    const data = useSelector(state => _.get(state, 'businessIntelligence.businessIntelligenceData.data', {}))\r\n    const loading = useSelector(state => _.get(state, 'businessIntelligence.loading', true));\r\n    const isRefetching = useSelector(state => _.get(state, 'businessIntelligence.isRefetching', false));\r\n    const {overview} = data,\r\n        {startDate, endDate} = dateRange,\r\n        presentableDateRange = getPresentableDateRange(startDate, endDate);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const params = new URLSearchParams()\r\n        if (value) {\r\n            params.append(\"tab\", value)\r\n        } else {\r\n            params.delete(\"tab\")\r\n        }\r\n        history.replace({search: params.toString()})\r\n    }, [value, history])\r\n\r\n    return (\r\n        <Fade in timeout={1000}>\r\n            <Paper elevation={0} width={'fit-content'}\r\n                   sx={{boxShadow: '0px 0px 32px #63636326', borderRadius: 5}}>\r\n                <Box sx={{width: '100%', height: 'inherit'}}>\r\n                    <Box sx={{}}>\r\n                        <Tabs value={value} onChange={handleChange} aria-label=\"basic tabs example\">\r\n                            {overviewTab && <Tab label=\"Overview\" {...a11yProps(0)} value='overview'/>}\r\n                            {historicalTab && <Tab label=\"Historical\" {...a11yProps(1)} value='historical'/>}\r\n                            {financialTab && <Tab label=\"Financial\" {...a11yProps(2)} value='financial'/>}\r\n                        </Tabs>\r\n                    </Box>\r\n                    <CustomTabPanel value={value} index={'overview'}>\r\n                        <Overview data={overview} loading={loading} isRefetching={isRefetching}\r\n                                  presentableDateRange={presentableDateRange}/>\r\n                    </CustomTabPanel>\r\n                    <CustomTabPanel value={value} index={'historical'}>\r\n                        <Historical/>\r\n                    </CustomTabPanel>\r\n                    <CustomTabPanel value={value} index={'financial'}>\r\n                        <Financial presentableDateRange={presentableDateRange} />\r\n                    </CustomTabPanel>\r\n                </Box>\r\n            </Paper>\r\n        </Fade>\r\n    )\r\n}\r\n\r\nexport default BITabs;","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport MuiDialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Slide from '@mui/material/Slide';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Dialog(props) {\r\n    const {open = false, config, onClose, preventBackdropClose = false, className} = props,\r\n        {title, onOk, okText = 'Save', content, onCancel} = config;\r\n\r\n    const handleClose = (e, reason = '') => {\r\n        if (preventBackdropClose && reason.equalsIgnoreCase('backdropclick')) {\r\n            return\r\n        }\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <MuiDialog\r\n                className={className}\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                onClose={handleClose}\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                {typeof title === 'function' ? title({...config}) :\r\n                    <DialogTitle sx={{fontWeight: 550}}>{title}</DialogTitle>}\r\n                <DialogContent>\r\n                    {typeof content === 'function' ? content({config}) : content}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {typeof onCancel === 'function' ? onCancel({config, onClose}): <Button variant='outlined' onClick={handleClose}>Cancel</Button>}\r\n                    {typeof okText === 'function' ? okText({config, onOk}) : <Button variant='contained'\r\n                                                                                     color={okText.equalsIgnoreCase('delete') ? 'error' : 'primary'}\r\n                                                                                     onClick={onOk}\r\n                    >\r\n                        {okText}\r\n                    </Button>}\r\n                </DialogActions>\r\n            </MuiDialog>\r\n        </div>\r\n    );\r\n}","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport styled from \"@mui/material/styles/styled\";\r\nimport {Select} from \"../index\";\r\n\r\nconst StyledPagination = styled(Pagination)(({theme}) => ({\r\n    \"& .MuiPaginationItem-root\": {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            height: \"1.8rem\",\r\n            width: \"1rem\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst StyledStack = styled(Stack)(({theme}) => ({\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        justifyContent: 'center'\r\n    },\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexWrap: 'wrap',\r\n        '& .pageSizeSelect': {\r\n        width: 80\r\n        }\r\n}))\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 1, count = 0, limit = 1, onLimitChange, isLoading}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (+page !== +pgNum && typeof onPageChange === 'function') {\r\n            onPageChange(e, +pgNum)\r\n        }\r\n    }\r\n\r\n    const handlePageSize = ({value}) => {\r\n        if(typeof onLimitChange === 'function'){\r\n            onLimitChange({value});\r\n        }\r\n    }\r\n\r\n    if (count <= 5) {\r\n        return null;\r\n    }\r\n    return (\r\n        <StyledStack direction='row' alignItems={'center'}>\r\n            <Typography sx={{color: '#525F7F'}} fontSize={12}>Showing {length} of {count} entries</Typography>\r\n            <Stack direction='row' alignItems='center'>\r\n                <Select\r\n                    disabled={isLoading}\r\n                    name='pageSize'\r\n                    label=''\r\n                    value={limit}\r\n                    options={[\r\n                        {id: 5, label: 5},\r\n                        {id: 10, label: 10},\r\n                        {id: 20, label: 20},\r\n                        {id: 50, label: 50},\r\n                        {id: 100, label: 100},\r\n                    ]}\r\n                    className='pageSizeSelect'\r\n                    onChange={handlePageSize}\r\n                />\r\n                <StyledPagination\r\n                    disabled={isLoading}\r\n                    count={Math.ceil(count / limit)}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    page={page}\r\n                    size=\"medium\"\r\n                    onChange={onChange}\r\n                />\r\n            </Stack>\r\n        </StyledStack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import {\r\n    Backdrop,\r\n    Box,\r\n    Checkbox,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, TableSortLabel, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getDollarPrefixedPrice, getUserDetail} from \"../../../utils/utils\";\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}, role, handleRequestSort, hasSort}) {\r\n    const {headerCellSx = {}, hasDelete, sortField, sortOrder, showCheckbox} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true, sort = false} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>\r\n                    {(hasSort && sort)\r\n                        ? <TableSortLabel onClick={(e) => handleRequestSort(e, id)} active={id === sortField}\r\n                                     direction={sortOrder}\r\n                                     sx={{ ...headerCellSx}}>\r\n                        {label}\r\n                    </TableSortLabel>\r\n                        : label}\r\n                </Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n\r\n    if(showCheckbox){\r\n        headers.unshift(<Cell key='checkbox-header' padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}} />)\r\n    }\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          checkboxKey,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb,\r\n        showCheckbox = false,\r\n        rowCellSx={}\r\n    } = config;\r\n    const {role, onCheckboxChange, checkboxes} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <Tooltip title='Delete' placement='top'>\r\n                <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                    <DeleteIcon color={hasDeletePermission ? 'error' : 'disabled'}/>\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '--', valueFormatter, visible = true, cellPadding, isCostCell} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if(isCostCell){\r\n            cell = row[id] ? getDollarPrefixedPrice(row[id] || '') : emptyState\r\n        }\r\n        else if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id], row);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.get(row, id, emptyState) || emptyState;\r\n        }\r\n        return <Cell key={id + i} padding={cellPadding || rowCellPadding || 'normal'} sx={rowCellSx} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    if(showCheckbox){\r\n        if(!checkboxKey){\r\n            throw new Error('Checkbox key not provided');\r\n        }\r\n        const checked = checkboxes.indexOf(row[checkboxKey]) > -1;\r\n        cell.unshift(<Cell onClick={onCheckboxChange.bind(this, row)} key={`checkbox-${rowIndex}`} sx={rowCellSx}>\r\n            <Checkbox checked={checked} />\r\n        </Cell>)\r\n    }\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {...rowStyle}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching, actions, isPaginationLoading=false, ...rest}) => {\r\n    data = data || [];\r\n    const {onCheckboxChange, checkboxes, checkboxKey} = rest;\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns: _columns = [],\r\n            columnsBuilder,\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            onPageSizeChange,\r\n            onLimitChange,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n            sortField,\r\n            sortOrder = 'asc',\r\n            handleSortChange,\r\n            hasSort = false\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = typeof deletePermissions === 'boolean' ? deletePermissions : deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const columns = typeof columnsBuilder === 'function' ? columnsBuilder({data, columns: _columns}) : _columns;\r\n    const length = Array.isArray(data) && data.length,\r\n        Actions = useMemo(() => {\r\n        if(actions && React.isValidElement(actions)){\r\n            return actions;\r\n        }\r\n        return <></>\r\n    }, [actions]);\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = sortField === property && sortOrder === 'asc';\r\n        // setOrder(isAsc ? 'desc' : 'asc');\r\n        // setOrderBy(property);\r\n        handleSortChange && handleSortChange({field: property, order: isAsc ? 'desc' : 'asc'})\r\n    };\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose, {row}),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{_.isFunction(deleteMessage) ? deleteMessage({row}) : deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config} role={role} handleRequestSort={handleRequestSort} hasSort={hasSort}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    checkboxes={checkboxes}\r\n                    checkboxKey={checkboxKey}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    onCheckboxChange={onCheckboxChange}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config, checkboxes])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if((isPaginationLoading || isRefetching) && ref.current?.tableContainer){\r\n            ref.current.tableContainer.scrollTo(0, 0)\r\n        }\r\n    }, [isPaginationLoading, isRefetching])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        <Stack alignItems='flex-end' justifyContent='flex-end' direction='row' py={1} gap={.5}>\r\n            {Actions}\r\n            {showRefresh && <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>}\r\n        </Stack>\r\n        <TableContainer\r\n            component={Paper}\r\n            className='tableContainer'\r\n            ref={el => ref.current['tableContainer'] = el}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 80px)' : 'auto', position: 'relative'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n            <Backdrop\r\n                sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1, position: 'absolute' }}\r\n                open={isPaginationLoading || isRefetching || false}\r\n            >\r\n                <Spinner sx={{color: 'inherit'}} />\r\n            </Backdrop>\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit} onLimitChange={onLimitChange || onPageSizeChange} isLoading={isRefetching || isPaginationLoading} />}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","import {Paper as MuiPaper, Typography} from \"@mui/material\";\r\nimport styled from \"@mui/material/styles/styled\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Paper = styled(MuiPaper)(({}) => ({\r\n    padding: '8px 16px',\r\n}))\r\nconst Widget = ({title, children, sx={}, titleSx={}, variant='outlined'}) => {\r\n    return <Paper elevation={0} variant={variant} sx={sx}>\r\n        <Typography variant='h6' fontWeight={600} sx={titleSx}>{title}</Typography>\r\n        {children}\r\n    </Paper>\r\n}\r\n\r\n\r\nexport default Widget;\r\n\r\nWidget.proptype = {\r\n    title: PropTypes.string.isRequired,\r\n    children: PropTypes.element.isRequired,\r\n    placement: PropTypes.oneOf(['right', 'left', 'bottom', 'top']),\r\n    sx: PropTypes.object,\r\n    titleSx: PropTypes.object,\r\n    variant: PropTypes.oneOf(['outlined', 'elevation'])\r\n}"],"sourceRoot":""}