{"version":3,"sources":["views/ownerOperator/FormModal.js","views/ownerOperator/OwnerOperator.js","components/Atoms/table/Pagination.jsx","components/layout/Spinner.js","components/Atoms/table/Table.jsx"],"names":["validateForm","_ref","firstName","lastName","phoneNumber","errors","formTemplate","FormModal","props","history","_props$match","match","_props$match2$params","params","_props$match2$params3","id","onCloseUrl","_useState","useState","_useState2","_slicedToArray","users","setUsers","_React$useState","React","_React$useState2","form","setForm","_useState3","_useState4","setErrors","_useMutation","useMutation","mutation","loading","updateForm","e","_e$target","target","_e$target2","name","value","_objectSpread","_defineProperty","ownerops","useMemo","filter","user","role","toLowerCase","useEffect","axios","get","getBaseUrl","then","res","_res$data","data","_res$data2$data","catch","err","notification","message","_","isEmpty","concat","r","console","log","onBlur","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","body","_yield$mutation","success","wrap","_context","prev","next","preventDefault","sent","handleClose","setTimeout","triggerCustomEvent","stop","_x","apply","arguments","push","_jsxs","Dialog","fullWidth","maxWidth","open","onClose","PaperProps","sx","width","children","DialogTitle","color","blue","textAlign","fontWeight","letterSpacing","_jsx","DialogContent","className","InputField","label","onChange","errorText","type","showFirstBlank","options","map","driver","_id","email","Grid","container","spacing","style","marginTop","item","xs","_Button","variant","onClick","disabled","checkObjProperties","OwnerOperator","path","useRouteMatch","row","setRow","setLoading","useHistory","fetchOwnerOp","_r$data","_r$data2$data","addEvent","window","removeEvent","onDelete","stopPropagation","delete","_ref$data","tableConfig","rowCellPadding","emptyMessage","columns","renderer","Fragment","mr","bind","includes","EnhancedTable","config","component","Link","to","position","right","Route","render","TablePagination","onPageChange","_ref$page","page","_ref$count","count","_ref$limit","limit","length","setLength","Array","isArray","Stack","direction","display","justifyContent","p","alignItems","Typography","fontSize","Pagination","Math","ceil","size","pgNum","CircularIndeterminate","_Box","height","marginLeft","CircularProgress","Cell","styled","_TableCell","theme","breakpoints","down","padding","DeleteIcon","_Delete","_ref3","Headers","_ref5","_ref5$columns","_ref5$config","_config$headerCellSx","headerCellSx","hasDelete","headers","column","index","_ref6","_ref6$label","_ref6$id","_ref6$visible","visible","isFunction","_TableRow","TableData","_ref9","_ref9$data","_ref9$config","handleRowClick","handleDelete","rest","_objectWithoutProperties","_excluded2","_config$dataKey","dataKey","_ref7","_ref7$row","_ref7$columns","_ref7$config","rowIndex","hasDeletePermission","_excluded","_config$hasDelete","_config$rowCellPaddin","_config$onRowClick","onRowClick","undefined","rowStyleCb","rowStyle","deleteCell","scope","_IconButton","cell","i","_ref8","_ref8$id","_ref8$emptyState","emptyState","valueFormatter","_ref8$visible","hover","cursor","getTableCell","_ref10","_ref10$config","_ref10$data","_ref10$loading","onRefetch","isRefetching","tableState","setTableState","dialog","setDialog","_config$columns","_config$hasOnClickUrl","hasOnClickUrl","_config$size","_config$emptyMessage","onRowClickDataCallback","_config$showRefresh","showRefresh","deleteMessage","_config$deletePermiss","deletePermissions","_getUserDetail$user$r","getUserDetail","indexOf","ref","useRef","url","title","_Grid","gap","ErrorOutlineIcon","_Typography","okText","onOk","onDialogClose","content","_DialogContentText","getTableContent","_TableHead","backgroundColor","borderTop","_TableBody","Date","now","_ref$current","current","table","calculatedHeight","offsetHeight","_Stack","_Refresh","_TableContainer","_Paper","boxShadow","mb","innerHeight","Spinner","getLoader","_Table","el","withRouter","memo"],"mappings":"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","file":"static/js/24.c1cd204e.chunk.js","sourcesContent":["import DialogTitle from \"@mui/material/DialogTitle\";\r\nimport _ from 'lodash';\r\nimport {blue} from \"../../components/layout/ui/Theme\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport InputField from \"../../components/Atoms/form/InputField\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport React, {useEffect, useMemo, useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {getBaseUrl} from \"../../config\";\r\nimport {notification} from \"../../actions/alert\";\r\nimport {checkObjProperties, triggerCustomEvent} from \"../../utils/utils\";\r\nimport {Button} from \"@mui/material\";\r\nimport useMutation from \"../../hooks/useMutation\";\r\n\r\nconst validateForm = ({firstName, lastName, phoneNumber}) => {\r\n    let errors = {}\r\n    if (!firstName) {\r\n        errors.firstName = 'Please provide the First Name'\r\n    }\r\n    if (!lastName) {\r\n        errors.lastName = 'Please provide the Last Name'\r\n        // return [false, 'Please provide the Last Name', 'lastName']\r\n    }\r\n    if (!phoneNumber) {\r\n        errors.phoneNumber = 'Please provide the Phone Number'\r\n    }\r\n    return errors\r\n}\r\nconst formTemplate = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phoneNumber: \"\",\r\n}\r\n\r\n\r\nconst FormModal = (props) => {\r\n    const {history, match: {params: {id = ''} = {}} = {}, onCloseUrl} = props;\r\n    const [users, setUsers] = useState([])\r\n    const [form, setForm] = React.useState(formTemplate);\r\n    const [errors, setErrors] = useState(formTemplate);\r\n    const {mutation, loading} = useMutation(\"/api/ownerOperator\")\r\n    const updateForm = (e) => {\r\n        const {target: {name, value} = {}} = e\r\n        setForm({...form, [name]: value});\r\n    }\r\n    const ownerops = useMemo(() => {\r\n        return (users || []).filter(user => user.role.toLowerCase() === 'owneroperator')\r\n    }, [users]);\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            axios.get(getBaseUrl() + \"/api/ownerOperator/\" + id)\r\n                .then(res => {\r\n                    const {data: {data = {}} = {}} = res;\r\n                    if (data) {\r\n                        setForm(data);\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    notification(err.message)\r\n                })\r\n        }\r\n        if (_.isEmpty(ownerops)) {\r\n            axios.get(`/api/users?page=${0}&limit=${0}`)\r\n                .then(r => {\r\n                    setUsers(r.data.users)\r\n                })\r\n                .catch(e => {\r\n                    console.log(e.message);\r\n                    notification(e.message, 'error')\r\n                })\r\n        }\r\n    }, [id, ownerops])\r\n\r\n    const onBlur = (name, value) => {\r\n        if (value) {\r\n            setErrors({...errors, [name]: ''});\r\n        }\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const body = {...form};\r\n        const errors = validateForm(body);\r\n        if (_.isEmpty(errors)) {\r\n            const {success, data} = await mutation(body);\r\n            const {message} = data || {};\r\n            if (success) {\r\n                notification(message || 'Owner operator created');\r\n                handleClose();\r\n                setTimeout(() => {\r\n                    triggerCustomEvent('refreshOwnerOp');\r\n                }, 500)\r\n            } else {\r\n                notification(message, 'error');\r\n            }\r\n        } else {\r\n            setErrors({...errors})\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        history.push(onCloseUrl);\r\n    }\r\n    return (\r\n        <Dialog\r\n            fullWidth={false}\r\n            maxWidth={\"md\"}\r\n            open={true}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n            PaperProps={{\r\n                sx: {\r\n                    width: 400\r\n                }\r\n            }}\r\n        >\r\n            <DialogTitle id=\"form-dialog-title\" sx={{\r\n                color: blue,\r\n                textAlign: 'center',\r\n                fontWeight: 400,\r\n                letterSpacing: 1\r\n            }}>\r\n                {id ? \"Edit\" : 'Add'} Owner Operator\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <div className=\"\">\r\n                    <form className={''}>\r\n                        <div>\r\n                            <InputField\r\n                                name={\"firstName\"}\r\n                                label={\"First Name\"}\r\n                                onChange={updateForm}\r\n                                value={form.firstName || ''}\r\n                                errorText={errors['firstName']}\r\n                                onBlur={onBlur}\r\n                            />\r\n                            <InputField\r\n                                name={\"lastName\"}\r\n                                label={\"Last Name\"}\r\n                                onChange={updateForm}\r\n                                value={form.lastName || ''}\r\n                                errorText={errors['lastName']}\r\n                                onBlur={onBlur}\r\n                            />\r\n                            <InputField\r\n                                name={\"phoneNumber\"}\r\n                                label={\"Phone Number\"}\r\n                                onChange={updateForm}\r\n                                value={form.phoneNumber || ''}\r\n                                onBlur={onBlur}\r\n                                errorText={errors['phoneNumber']}\r\n                            />\r\n                            {!id && <InputField\r\n                                value={form.user}\r\n                                name=\"user\"\r\n                                onChange={updateForm}\r\n                                label='Select Owner Operator'\r\n                                type={'select'}\r\n                                showFirstBlank={true}\r\n                                options={ownerops.map(driver => ({id: driver._id, label: driver.email}))}\r\n                            />}\r\n                        </div>\r\n\r\n                        <Grid container spacing={1} style={{marginTop: \"20px\"}}>\r\n                            <Grid item xs={3}/>\r\n                            <Grid item xs={6}>\r\n                                <Button\r\n                                    className=\"\"\r\n                                    type=\"submit\"\r\n                                    variant={'contained'}\r\n                                    onClick={onSubmit}\r\n                                    style={{width: '100%'}}\r\n                                    disabled={!checkObjProperties(form) || loading}\r\n                                >\r\n                                    Save\r\n                                </Button>\r\n                            </Grid>\r\n                            <Grid item xs={3}/>\r\n                        </Grid>\r\n\r\n                    </form>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default FormModal","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport {Button} from \"@mui/material\";\r\nimport {Link, Route, useHistory, useRouteMatch} from \"react-router-dom\";\r\nimport EnhancedTable from \"../../components/Atoms/table/Table\";\r\nimport axios from \"axios\";\r\nimport {getBaseUrl} from \"../../config\";\r\nimport FormModal from \"./FormModal\";\r\nimport {notification} from \"../../actions/alert\";\r\nimport {addEvent, removeEvent} from \"../../utils/utils\";\r\n\r\n\r\nconst OwnerOperator = () => {\r\n  const { path } = useRouteMatch(),\r\n      [row, setRow] = useState([]),\r\n      [loading, setLoading] = useState(false),\r\n    history = useHistory();\r\n\r\n  function fetchOwnerOp() {\r\n      setLoading(true);\r\n      axios.get(getBaseUrl() + '/api/ownerOperator').then(r => {\r\n          const {data: {data = []} = {}} = r;\r\n          setRow(data);\r\n          setLoading(false);\r\n      })\r\n          .catch(err => {\r\n              console.log(err.message)\r\n              setLoading(false);\r\n          })\r\n  }\r\n\r\n  useEffect(() => {\r\n      fetchOwnerOp();\r\n      addEvent(window, 'refreshOwnerOp', fetchOwnerOp)\r\n\r\n      return () => removeEvent(window, 'refreshOwnerOp', fetchOwnerOp)\r\n  }, [])\r\n\r\n    const onDelete = (id, e) => {\r\n      e.stopPropagation();\r\n      axios.delete(getBaseUrl() + \"/api/ownerOperator/\"+id)\r\n          .then(({data = {}}) => {\r\n              notification(data.message)\r\n              fetchOwnerOp()\r\n          })\r\n        .catch(err => console.log(err.message))\r\n    }\r\n\r\n  const tableConfig = {\r\n    rowCellPadding: \"inherit\",\r\n    emptyMessage: \"No Owner Operator Found\",\r\n    columns: [\r\n      {\r\n        id: \"firstName\",\r\n        label: \"First Name\",\r\n      },\r\n      {\r\n        id: \"lastName\",\r\n        label: \"Last Name\",\r\n      },\r\n      {\r\n        id: \"role\",\r\n        label: \"Role\",\r\n        renderer: () => {\r\n          return <Fragment>Owner Operator</Fragment>;\r\n        },\r\n      },\r\n\r\n      {\r\n        id: \"update\",\r\n        renderer: ({ row, role }) => {\r\n          return (\r\n            <Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  history.push(path + `/edit/${row._id}`);\r\n                }}\r\n                sx={{mr: 1}}\r\n              >\r\n                Update\r\n              </Button>\r\n              <Button\r\n                  variant=\"contained\"\r\n                  color={'error'}\r\n                  onClick={onDelete.bind(this, row._id)}\r\n                  disabled={['ownerOperator', 'dispatch',].includes(role)}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </Fragment>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <EnhancedTable\r\n        config={tableConfig}\r\n        data={row}\r\n        loading={loading}\r\n      />\r\n        <Button\r\n            variant='contained'\r\n            component={Link}\r\n            to={path + '/add'}\r\n            className={'addNewOwnerOp'}\r\n            sx={{position: 'absolute', right: 10}}\r\n        >\r\n            Add Owner Operator\r\n        </Button>\r\n      <Route path={path + \"/add\"} render={(props) => <FormModal {...props} onCloseUrl={path} />} />\r\n      <Route path={path + \"/edit/:id\"} render={(props) => <FormModal {...props} onCloseUrl={path} />} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerOperator;\r\n","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 0, count = 0, limit = 1}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (onPageChange) {\r\n            onPageChange(e, pgNum)\r\n        }\r\n    }\r\n\r\n    if (length < 10 && count < 10) {\r\n        return null;\r\n    }\r\n    return (\r\n        <Stack direction='row' sx={{display: 'flex', justifyContent: 'space-between', p: 3}} alignItems={'center'}>\r\n            {count > 10 && <Typography sx={{color: '#525F7F'}} fontSize={13}>Showing {data.length} of {count} entries</Typography>}\r\n            {data.length !== count && <Pagination\r\n                count={Math.ceil(count / limit)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                page={page + 1}\r\n                size=\"large\"\r\n                onChange={onChange}\r\n            />}\r\n        </Stack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport {Box} from \"@mui/material\";\r\n\r\n\r\nexport default function CircularIndeterminate() {\r\n  return (\r\n    <Box sx={{\r\n      height: '100%',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      '& > * + *': {\r\n        marginLeft: 2,\r\n      },\r\n    }}>\r\n      <CircularProgress />\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getUserDetail} from \"../../../utils/utils\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}}) {\r\n    const {headerCellSx = {}, hasDelete} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n            if(!isVisible){\r\n                return null;\r\n            }\r\n            return (\r\n                    <Cell padding={'normal'} sx={{color: '#000', fontWeight: 800, ...headerCellSx}}\r\n                           key={id || index}>{label}</Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({row = [], columns = {}, config = {}, handleRowClick, rowIndex, handleDelete, hasDeletePermission, ...rest}) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb\r\n    } = config;\r\n    const {role} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                <DeleteIcon color={'error'} />\r\n            </IconButton>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '', valueFormatter, visible = true} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n        if(!isVisible){\r\n            return null;\r\n        }\r\n        let cell;\r\n        if(valueFormatter && _.isFunction(valueFormatter)){\r\n            cell = valueFormatter(row[id]);\r\n        }\r\n        else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = row[id] || emptyState;\r\n        }\r\n        return <Cell key={id + i} padding={rowCellPadding || 'normal'} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching}) => {\r\n    data = data || [];\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({ open: false, config: {} }),\r\n        {\r\n            columns = [],\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = []\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{ p: '16px 24px' }} gap={1}>\r\n                <ErrorOutlineIcon color='error' />\r\n                <Typography sx={{ fontSize: '1.25rem', fontWeight: 550 }} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose),\r\n            content: () => <DialogContentText sx={{color: '#000'}}>{deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({ ...dialog, open: true, config });\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({ ...dialog, open: false })\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        const length = Array.isArray(data) && data.length;\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    key={Date.now()}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    return <div>\r\n        {showRefresh && <Stack alignItems='flex-end'>\r\n            <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>\r\n        </Stack>}\r\n        <TableContainer\r\n            component={Paper}\r\n            className={''}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size}>\r\n                    {getTableContent}\r\n                </Table>}\r\n            {!loading && data.length > 0 &&\r\n                <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit}/>}\r\n        </TableContainer>\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose} />\r\n    </div>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n"],"sourceRoot":""}