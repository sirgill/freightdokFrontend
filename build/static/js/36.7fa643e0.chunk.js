(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[36],{1118:function(t,e,a){"use strict";a.r(e);var c=a(526),n=a(201),s=a(248),o=a(280),l=a.n(o),r=a(0),i=a(13),d=a(256),b=a(73),u=a.n(b),j=a(33),O=a(257),p=a.n(O),y=a(584),h=a(57),D=a(2);const f=Object(r.lazy)((()=>a.e(31).then(a.bind(null,1029)))),g=Object(r.lazy)((()=>Promise.all([a.e(0),a.e(5),a.e(37),a.e(34)]).then(a.bind(null,1037))));e.default=Object(i.withRouter)((t=>{const{canViewCards:e}=h.a.getUserPermissionsByDashboardId("businessIntelligence"),a=u()().subtract(1,"weeks").startOf("week"),o=u()().subtract(1,"weeks").endOf("week"),i=Object(j.e)((t=>p.a.get(t,"businessIntelligence.isRefetching",!1))),{match:{path:b=""},history:O}=t,w=Object(j.d)(),[x,S]=Object(r.useState)({startDate:new Date,endDate:new Date,key:"selection"}),k=Object(r.useCallback)((t=>{let{value:e}=t;const{startDate:a,endDate:c}=e;w(Object(y.a)({startDate:u()(a).utc(!0).toISOString(),endDate:u()(c).utc(!0).toISOString()},!0)),S({...x,startDate:new Date(a),endDate:new Date(c)})}),[x]);Object(r.useEffect)((()=>{S({key:"selection",startDate:new Date(a.toDate()),endDate:new Date(o.toDate())})}),[b,O]),Object(r.useEffect)((()=>{v()}),[x]);const v=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(Object(y.a)({startDate:a.toISOString(),endDate:o.toISOString()},t))};return Object(D.jsxs)(c.a,{sx:{height:"100%",pt:2,gap:{xs:2,md:4},overflow:"auto"},className:"dashboardRoot",children:[e&&Object(D.jsxs)(n.a,{sx:{textAlign:"right"},children:[Object(D.jsx)(d.b,{label:"Date Range",value:x,pickerProps:{maxDate:o.toDate()},onChange:k}),Object(D.jsx)(s.a,{title:"Refresh",onClick:v.bind(null,!0),children:Object(D.jsx)(l.a,{className:i?"rotateIcon":void 0})})]}),Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)(d.f,{}),children:Object(D.jsx)(f,{})}),Object(D.jsx)(r.Suspense,{fallback:Object(D.jsx)(d.f,{}),children:Object(D.jsx)(g,{basePath:b,dateRange:x})})]})}))},280:function(t,e,a){"use strict";var c=a(89);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(a(91)),s=a(2),o=(0,n.default)((0,s.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");e.default=o},584:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var c=a(48),n=a(98),s=a(90),o=a(28),l=a(3);const r=(t,e)=>async a=>{try{a(e?{type:l.R,payload:!0}:{type:l.Q,payload:!0});const o="".concat(n.b,"?").concat(Object(s.n)(t)),{data:r,success:i}=await Object(c.b)({uri:o});a({type:l.z,payload:{data:r,success:i}}),a(e?{type:l.R,payload:!1}:{type:l.Q,payload:!1})}catch(r){Object(o.a)(r.message,"error"),a(e?{type:l.R,payload:!1}:{type:l.Q,payload:!1})}},i=t=>async e=>{try{e({type:l.o,payload:!0});const a=t.map((async t=>{let{startDate:e,endDate:a}=t;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e="".concat(n.c,"?").concat(Object(s.n)(t));return Object(c.b)({uri:e})}({startDate:e.utc(!0).toISOString(),endDate:a.utc(!0).toISOString()})}));await Object(s.r)(2e3);const o=(await Promise.all(a)).map(((e,a)=>{const{success:c,data:n}=e;return c&&n?{data:n,dateRange:t[a]}:[]}));e({type:l.n,payload:o})}catch(a){console.log(a)}finally{e({type:l.o,payload:!1})}}}}]);
//# sourceMappingURL=36.7fa643e0.chunk.js.map