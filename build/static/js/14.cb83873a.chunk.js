(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{1006:function(e,t,n){"use strict";var a=n(3),i=n(6),o=n(2),r=n(0),c=n(15),l=n(104),s=n(133),d=n(7),u=n(16),b=n(350),j=n(352),f=n(71),O=n(78);function h(e){return Object(f.a)("MuiLoadingButton",e)}var g=Object(O.a)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),m=n(1),p=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],v=Object(d.a)(b.a,{shouldForwardProp:function(e){return function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e}(e)||"classes"===e},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(e,t){return[t.root,t.startIconLoadingStart&&Object(a.a)({},"& .".concat(g.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&Object(a.a)({},"& .".concat(g.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(e){var t=e.ownerState,n=e.theme;return Object(o.a)(Object(a.a)({},"& .".concat(g.startIconLoadingStart,", & .").concat(g.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&Object(a.a)({transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short})},"&.".concat(g.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&Object(a.a)({},"& .".concat(g.startIconLoadingStart,", & .").concat(g.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&Object(a.a)({},"& .".concat(g.startIconLoadingStart,", & .").concat(g.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}))})),x=Object(d.a)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(e,t){var n=e.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat(Object(c.a)(n.loadingPosition))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})})),y=r.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiLoadingButton"}),a=n.children,r=n.disabled,d=void 0!==r&&r,b=n.id,f=n.loading,O=void 0!==f&&f,g=n.loadingIndicator,y=n.loadingPosition,w=void 0===y?"center":y,C=n.variant,I=void 0===C?"text":C,S=Object(i.a)(n,p),P=Object(l.a)(b),E=null!=g?g:Object(m.jsx)(j.a,{"aria-labelledby":P,color:"inherit",size:16}),L=Object(o.a)({},n,{disabled:d,loading:O,loadingIndicator:E,loadingPosition:w,variant:I}),k=function(e){var t=e.loading,n=e.loadingPosition,a=e.classes,i={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat(Object(c.a)(n))],endIcon:[t&&"endIconLoading".concat(Object(c.a)(n))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat(Object(c.a)(n))]},r=Object(s.a)(i,h,a);return Object(o.a)({},a,r)}(L),R=O?Object(m.jsx)(x,{className:k.loadingIndicator,ownerState:L,children:E}):null;return Object(m.jsxs)(v,Object(o.a)({disabled:d||O,id:P,ref:t},S,{variant:I,classes:k,ownerState:L,children:["end"===L.loadingPosition?a:R,"end"===L.loadingPosition?R:a]}))}));t.a=y},1056:function(e,t,n){"use strict";n.r(t);var a=n(187),i=n(350),o=n(255),r=(n(256),n(0)),c=n(444),l=n(73),s=n(33),d=n(51),u=n(80),b=n(10),j=n(30),f=Object(j.d)().user.orgId,O=function(){return function(){var e=Object(d.a)(Object(s.a)().mark((function e(t){var n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:b.m,payload:{loading:!0,data:{}}}),e.prev=1,e.next=4,Object(u.b)({uri:"/api/organizations?orgId="+f});case 4:n=e.sent,a=n.data,t({type:b.m,payload:{loading:!1,data:a.data}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:b.m,payload:{loading:!1,data:{}}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},h=n(34),g=n(46),m=n(43),p=n(188),v=n(171),x=n(3),y=n(4),w=n(14),C=n(453),I=n(1006),S=n(35),P=n(1),E=function(e){var t=e.onCloseUrl,n=Object(r.useState)({}),c=Object(w.a)(n,2),b=c[0],f=c[1],g=Object(h.useHistory)(),C=Object(r.useState)(!1),E=Object(w.a)(C,2),L=E[0],k=E[1],R=(Object(j.d)().user||{}).id,D=Object(l.d)();Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(Object(s.a)().mark((function e(){var t,n,a,i,o,r,c,l,d,b;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)({uri:"/api/fmcsa/"+R});case 2:t=e.sent,n=t.success,a=t.data,n&&(i=a.data,r=(o=void 0===i?{}:i).autoLiabilityInsurance,c=o.generalLiabilityInsurance,l=o.cargoLiabilityInsurance,d=o.email,b=o.phone,f({autoLiabilityInsurance:r?r.url:"",generalLiabilityInsurance:c?c.url:"",cargoLiabilityInsurance:l?l.url:"",email:d,phone:b}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var M=function(e){var t=e.target,n=t.name,a=t.files;f((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(x.a)({},n,a||null))}))},W=function(e){var t=e.target,n=t.name,a=t.value;f(Object(y.a)(Object(y.a)({},b),{},Object(x.a)({},n,a)))};return Object(P.jsx)(a.a,{component:"form",noValidate:!0,sx:{minWidth:400},onSubmit:function(e){k(!0),e.preventDefault();for(var n=new FormData,a=0,i=Object.keys(b);a<i.length;a++){var o=i[a];if(["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"].indexOf(o)<0){var r=b[o],c=Array.isArray(r)&&!(null===r)?JSON.stringify(r):r;n.append(o,c)}}for(var l=0,s=["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"];l<s.length;l++){var d=s[l],j=b[d];if(j){var f,h=Object(v.a)(j);try{for(h.s();!(f=h.n()).done;){var m=f.value;n.append(d,m)}}catch(p){h.e(p)}finally{h.f()}}}Object(u.d)({uri:"/api/fmcsa",body:n}).then((function(e){Object(S.a)(e.data.message),D(O()),g.push(t)})).catch((function(e){console.log(e),Object(S.a)(e.message,"error")})).finally((function(){return k(!1)}))},children:Object(P.jsxs)(o.a,{spacing:3,children:[Object(P.jsx)(p.a,{type:"email",label:"Email",fullWidth:!0,onChange:W,value:b.email||"",name:"email"}),Object(P.jsx)(p.a,{type:"email",label:"Phone Number",fullWidth:!0,value:b.phone||"",onChange:W,name:"phone"}),Object(P.jsxs)(o.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(P.jsx)(m.a,{children:"General Liability Insurance"}),Object(P.jsxs)("label",{htmlFor:"contained-button-file1",children:[Object(P.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"generalLiabilityInsurance",onChange:M,id:"contained-button-file1"}),Object(P.jsx)(i.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(P.jsxs)(o.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(P.jsx)(m.a,{children:"Auto Liability Insurance"}),Object(P.jsxs)("label",{htmlFor:"contained-button-file2",children:[Object(P.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"autoLiabilityInsurance",onChange:M,id:"contained-button-file2"}),Object(P.jsx)(i.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(P.jsxs)(o.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(P.jsx)(m.a,{children:"Cargo Liability Insurance"}),Object(P.jsxs)("label",{htmlFor:"contained-button-file3",children:[Object(P.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"cargoLiabilityInsurance",onChange:M,id:"contained-button-file3"}),Object(P.jsx)(i.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(P.jsx)(I.a,{loading:L,loadingIndicator:"Updating...",type:"submit",variant:"contained",children:"Update"})]})})},L=function(e){var t=e.onCloseUrl,n={title:"Update Carrier Profile",closeUrl:t,paperProps:{sx:{width:"auto"}}};return Object(P.jsx)(C.a,{config:n,children:Object(P.jsx)(E,{onCloseUrl:t})})},k=n(91),R=(n(202),n(999),n(42)),D={chRobinson:"C.H. Robinson",newtrul:"New Trul"},M=function(e){var t=e.path,n=e._dbData,a=e.list,o=e.refetch;return{rowCellPadding:"normal",showRefresh:!1,columns:[{id:"integrationName",label:"Integrations",valueFormatter:function(e){return D[e]||e}},{id:"code",label:"Key/Code",renderer:function(e){var t=e.row;return t.code||t.clientSecret?"******":"--"}},{id:"email",label:"Email"},{id:"mc",label:"MC#"},{renderer:function(e,r){var c=e.row;return Object(P.jsx)(i.a,{component:g.b,to:{pathname:t+R.g,state:{row:c,rowIndex:r,_dbData:n,list:a,refetch:o}},variant:"contained",children:"Update"})}}]}},W={containerHeight:"auto",rowCellPadding:"normal",showRefresh:!0,columns:[{id:"name",label:"Company Name"},{id:"otherOrgMetaData.carrier.ein",label:"EIN#"},{id:"otherOrgMetaData.carrier.dotNumber",label:"DOT#",emptyState:"--"},{id:"operatingStatus",label:"Operating Status",renderer:function(e){var t=e.row,n=(void 0===t?{}:t).otherOrgMetaData,a=(void 0===n?{}:n).carrier,i=(void 0===a?{}:a).allowedToOperate;return Object(j.b)("Y"===i)}}]},A={title:"Update Integration Details",preventBackdropClick:!0,titleStyles:{}},F=n(97),N=n(450),H=n(222),U=n(198),z=Object(r.memo)((function(e){var t=e.onChange,n=e.form,a=e.onSubmit,i=e.errors,o=e.loading,r=n.password,c=n.email;return Object(P.jsxs)(F.a,{container:!0,spacing:3,direction:"column",sx:{minWidth:350},component:"form",onSubmit:a,noValidate:!0,children:[Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(m.a,{fontWeight:600,color:k.a,children:"Please verify your credentials."})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{readOnly:!0,label:"Email",fullWidth:!0,type:"email",value:c,name:"email",onChange:t,errors:i})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.d,{label:"Password",fullWidth:!0,value:r,name:"password",onChange:t,errors:i})}),Object(P.jsx)(F.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:Object(P.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",loading:o,children:o?"Please wait...":"Verify"})})]})})),T=function(e){var t=e.location.state,n=(void 0===t?{}:t).row,a=n.integrationName.equalsIgnoreCase("chrobinson"),i=D[n.integrationName],o=Object(r.useState)({email:"",mc:"",code:""}),c=Object(w.a)(o,2),l=c[0],s=c[1],d=Object(r.useState)(!1),u=Object(w.a)(d,2),b=u[0],f=u[1],O=Object(r.useState)({email:Object(j.d)().user.email,password:""}),h=Object(w.a)(O,2),g=h[0],p=h[1],v=Object(r.useState)({}),E=Object(w.a)(v,2),L=E[0],k=E[1],R=Object(N.a)(H.a,null,!0),M=R.loading,W=R.mutation,T=Object(N.a)("/api/carrierProfile/secret-manager?update=true",null,!0),_=T.loading,B=T.mutation,V=function(e){var t=e.name,n=e.value;s(Object(y.a)(Object(y.a)({},l),{},Object(x.a)({},t,n))),k(Object(y.a)(Object(y.a)({},L),{},Object(x.a)({},t,"")))};return b?Object(P.jsxs)(C.a,{config:A,children:[Object(P.jsx)(m.a,{align:"center",variant:"h6",fontWeight:550,mb:1,children:i}),Object(P.jsx)(U.a,{config:{open:!0,message:"Data changes will reflect after an hour of saving.",severity:"info"},inStyles:{mb:2}}),Object(P.jsx)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=l.email,i=l.code;if(!Object(j.e)(t)||!t)return k(Object(y.a)(Object(y.a)({},L),{},{email:"Invalid Email"}));var o={mc:l.mc,email:l.email};if(i&&Object.assign(o,{code:i}),a){var r=l.clientId,c=l.clientSecret,s=l.tCode;Object.assign(o,{clientId:r,clientSecret:c,tCode:s})}B(Object(x.a)({},n.integrationName,Object(y.a)({},o))).then((function(e){if(!e.success)return Object(S.a)(e.message,"error");Object(S.a)("Updated Successfully"),Object(j.i)("fetchCarrierProfile"),Object(j.i)("closeModal")}))},children:Object(P.jsxs)(F.a,{container:!0,spacing:3,direction:"column",sx:{minWidth:350},children:[a&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"Client ID",name:"clientId",onChange:V,value:l.clientId||""})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"Client Secret",name:"clientSecret",onChange:V,value:l.clientSecret||"",multiline:!0,rows:3})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"TCode",name:"tCode",onChange:V,value:l.tCode||""})})]}),!a&&Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"Code",name:"code",onChange:V,value:l.code||"",multiline:!0,rows:5})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"Email",onChange:V,name:"email",value:l.email||""})}),Object(P.jsx)(F.a,{item:!0,children:Object(P.jsx)(U.b,{fullWidth:!0,label:"MC#",name:"mc",onChange:V,value:l.mc||""})}),Object(P.jsx)(F.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:Object(P.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",loading:_,children:_?"Updating...":"Update"})})]})})]}):Object(P.jsx)(C.a,{config:A,children:Object(P.jsx)(z,{onChange:function(e){var t=e.name,n=e.value;p(Object(y.a)(Object(y.a)({},g),{},Object(x.a)({},t,n))),k(Object(y.a)(Object(y.a)({},L),{},Object(x.a)({},t,"")))},form:g,onSubmit:function(e){e.preventDefault();var t=g.email,a=g.password;t||k(Object(y.a)(Object(y.a)({},L),{},{email:"Please enter Email"})),a?Object(j.e)(t)?W(g,null).then((function(e){e.token&&(f(!0),s(n))})):k(Object(y.a)(Object(y.a)({},L),{},{email:"Invalid Email"})):k(Object(y.a)(Object(y.a)({},L),{},{password:"Please enter Password"}))},errors:L,loading:M})})},_=n(496);t.default=Object(h.withRouter)((function(e){var t=e.match,n=(void 0===t?{}:t).path,o=Object(h.useRouteMatch)(n+"/updateCarrierProfile"),s=Object(j.d)().user||{},d=s.role,u=void 0===d?"admin":d,b=s.orgId,f=void 0===b?"":b,m=Object(l.e)((function(e){return e.carrierProfile})),p=m.data,v=m.loading,x=Object(l.d)(),y=Object(_.a)("/api/carrierProfile/secret-manager?orgId="+f),w=y.data,C=void 0===w?{}:w,I=y.loading,S=y.refetch,E=y.isRefetching,k=C||{},D=k.data,A=k._dbData;Object(r.useEffect)((function(){return x(O()),Object(j.a)(window,"fetchCarrierProfile",S),function(){return Object(j.g)(window,"fetchCarrierProfile",S)}}),[]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(c.a,{data:p,loading:v,config:W,onRefetch:S,isRefetching:E}),o&&Object(P.jsx)(L,{onCloseUrl:n}),"admin"!==u&&Object(P.jsx)(a.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(P.jsx)(i.a,{variant:"contained",component:g.b,to:n+"/updateCarrierProfile",children:"Update Profile"})}),Object(P.jsx)(a.a,{sx:{mt:4},children:Object(P.jsx)(c.a,{data:D,loading:I,config:M({path:n,data:A,list:D})})}),Object(P.jsx)(h.Route,{component:T,path:n+R.g})]})}))},444:function(e,t,n){"use strict";var a=n(187),i=n(425),o=n(1079),r=n(1080),c=n(255),l=n(465),s=n.n(l),d=n(1078),u=n(1077),b=n(1067),j=n(97),f=n(43),O=n(14),h=n(256),g=n(27),m=n(1076),p=n(4),v=n(477),x=n.n(v),y=n(3),w=n(1075),C=n(119),I=n.n(C),S=n(452),P=n.n(S),E=n(0),L=n.n(E),k=n(34),R=n(1052),D=n(7),M=n(1),W=Object(D.a)(R.a)((function(e){var t=e.theme;return{"& .MuiPaginationItem-root":Object(y.a)({},t.breakpoints.down("md"),{height:"1.8rem",width:"1rem"})}})),A=Object(D.a)(c.a)((function(e){var t,n=e.theme;return t={},Object(y.a)(t,n.breakpoints.down("sm"),{justifyContent:"center"}),Object(y.a)(t,"display","flex"),Object(y.a)(t,"justifyContent","space-between"),Object(y.a)(t,"flexWrap","wrap"),t})),F=function(e){var t=e.data,n=void 0===t?[]:t,a=e.onPageChange,i=e.page,o=void 0===i?0:i,r=e.count,c=void 0===r?0:r,l=e.limit,s=void 0===l?1:l,d=Object(E.useState)(0),u=Object(O.a)(d,2),b=u[0],j=u[1];Object(E.useEffect)((function(){Array.isArray(n)&&j(n.length)}),[n]);return b<10&&c<10?null:Object(M.jsxs)(A,{direction:"row",alignItems:"center",children:[c>10&&Object(M.jsxs)(f.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",n.length," of ",c," entries"]}),n.length!==c&&Object(M.jsx)(W,{count:Math.ceil(c/s),color:"primary",variant:"contained",page:o+1,size:"medium",onChange:function(e,t){a&&a(e,t)}})]})},N=n(352);function H(){return Object(M.jsx)(a.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:2}},children:Object(M.jsx)(N.a,{})})}var U=n(451),z=n(30),T=["row","columns","config","handleRowClick","rowIndex","handleDelete","hasDeletePermission"],_=["columns","data","config","handleRowClick","handleDelete"],B=Object(D.a)(w.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:12,padding:"0 8px"})})),V=Object(D.a)(x.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:14})}));function J(e){var t=e.columns,n=void 0===t?[]:t,a=e.config,i=void 0===a?{}:a,o=i.headerCellSx,r=void 0===o?{}:o,c=i.hasDelete,l=Object(E.useMemo)((function(){return n.map((function(e,t){var n=e||{},a=n.label,i=void 0===a?"":a,o=n.id,c=void 0===o?"":o,l=n.visible,s=void 0===l||l;return(I.a.isFunction(s)?s({column:e}):s)?Object(M.jsx)(B,{padding:"normal",sx:Object(p.a)({color:"#000",bgcolor:"#fafafa",fontWeight:800},r),children:i},c||t):null}))}),[n,r]);return Object(M.jsxs)(m.a,{children:[l,c&&Object(M.jsx)(B,{padding:"none",sx:Object(p.a)({},r)})]})}var q=function(e){var t=e.columns,n=e.data,a=void 0===n?[]:n,i=e.config,o=void 0===i?{}:i,r=e.handleRowClick,c=e.handleDelete,l=Object(g.a)(e,_);return(a||[]).map((function(e,n){var a=o.dataKey,i=void 0===a?"":a;return i&&(e=e[i]),function(e){var t=e.row,n=void 0===t?[]:t,a=e.columns,i=void 0===a?{}:a,o=e.config,r=void 0===o?{}:o,c=e.handleRowClick,l=e.rowIndex,s=e.handleDelete,d=e.hasDeletePermission,u=Object(g.a)(e,T),b=r.hasDelete,j=void 0!==b&&b,f=r.rowCellPadding,O=void 0===f?"none":f,v=r.onRowClick,x=void 0===v?void 0:v,y=r.rowStyleCb,w=u.role,C={};y&&(C=y({row:n})||{});var S=Object(M.jsx)(B,{sx:{},padding:"none",component:"th",scope:"row",children:Object(M.jsx)(h.a,{onClick:s.bind(void 0,n._id,n),disabled:!d,children:Object(M.jsx)(V,{color:"error"})})}),P=i.map((function(e,t){var a,i=e||{},o=i.id,r=void 0===o?"":o,c=i.renderer,s=i.emptyState,d=void 0===s?"":s,u=i.valueFormatter,b=i.visible,j=void 0===b||b;return(I.a.isFunction(j)?j({column:e}):j)?(a=u&&I.a.isFunction(u)?u(n[r]):I.a.isFunction(c)?c({row:n,role:w},l)||d:I.a.isObject(n)?I.a.get(n,r,d):n[r]||d,Object(M.jsx)(B,{padding:O||"normal",component:"th",scope:"row",children:a},r+t)):null}));return Object(M.jsxs)(m.a,{hover:!!x,onClick:function(e){e.preventDefault(),I.a.isFunction(c)&&c(n)},sx:x?Object(p.a)({cursor:"pointer"},C):{},children:[P,j&&S]},l)}(Object(p.a)({row:e,columns:t,config:o,handleRowClick:r,rowIndex:n,handleDelete:c},l))}))},K=function(e){var t=e.config,n=void 0===t?{}:t,l=e.data,g=void 0===l?[]:l,m=e.history,v=e.loading,x=void 0!==v&&v,y=e.onRefetch,w=e.isRefetching;g=g||[];var C=Object(E.useState)({}),I=Object(O.a)(C,2),S=I[0],k=I[1],R=Object(E.useState)({open:!1,config:{}}),D=Object(O.a)(R,2),W=D[0],A=D[1],N=n.columns,T=void 0===N?[]:N,_=n.onRowClick,B=n.hasOnClickUrl,V=void 0===B||B,K=n.onPageChange,G=n.page,Y=n.count,Q=n.limit,X=n.size,Z=void 0===X?"medium":X,$=n.emptyMessage,ee=void 0===$?"":$,te=n.onRowClickDataCallback,ne=n.showRefresh,ae=void 0!==ne&&ne,ie=n.onDelete,oe=n.deleteMessage,re=n.deletePermissions,ce=void 0===re?[]:re,le=n.containerHeight,se=void 0===le?"":le,de=Object(z.d)().user.role,ue=void 0===de?"":de,be=ce.indexOf(ue)>-1||!1,je=L.a.useRef([]),fe=Array.isArray(g)&&g.length,Oe=function(e){if(V&&_){var t=_(e);te&&(e=te(e)),m.push(t,e)}else _&&_(e)},he=function(e,t,n){n.stopPropagation();var a={title:function(){return Object(M.jsxs)(j.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(M.jsx)(P.a,{color:"error"}),Object(M.jsx)(f.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]})},okText:"Delete",onOk:function(){return ie(e,ge)},content:function(){return Object(M.jsx)(b.a,{sx:{color:"#000"},children:oe||"Are you sure you want to delete the record?"})}};A(Object(p.a)(Object(p.a)({},W),{},{open:!0,config:a}))};function ge(){A(Object(p.a)(Object(p.a)({},W),{},{open:!1}))}var me=Object(E.useMemo)((function(){return fe?Object(M.jsxs)(E.Fragment,{children:[Object(M.jsx)(u.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(M.jsx)(J,{columns:T,config:n})}),Object(M.jsx)(d.a,{children:Object(M.jsx)(q,{role:ue,columns:T,data:g,config:n,handleRowClick:Oe,handleDelete:he,hasDeletePermission:be},Date.now())})]}):Object(M.jsx)("tbody",{style:{height:300},children:Object(M.jsx)("tr",{children:Object(M.jsx)("td",{style:{textAlign:"center"},children:Object(M.jsx)("h4",{children:ee||"No records found"})})})})}),[g,n]);return Object(E.useEffect)((function(){var e;if(null!==je&&void 0!==je&&null!==(e=je.current)&&void 0!==e&&e.table){var t=je.current.table.offsetHeight;k(Object(p.a)(Object(p.a)({},S),{},{height:t>200?t:void 0}))}}),[]),Object(M.jsxs)(a.a,{className:"enhanced-table",sx:{height:fe&&!x?se||"95%":"auto"},children:[ae&&Object(M.jsx)(c.a,{alignItems:"flex-end",children:Object(M.jsx)(h.a,{title:"Refresh",onClick:y,children:Object(M.jsx)(s.a,{className:w?"rotateIcon":void 0})})}),Object(M.jsx)(o.a,{component:i.a,className:"",sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:fe&&!x?"calc(100% - 64px)":"auto"},children:x?function(){var e=window.innerHeight-180,t=(S.height?S.height>e?e:S.height:e)||e;return Object(M.jsx)(j.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(M.jsx)(j.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(M.jsx)(H,{})})})}():Object(M.jsx)(r.a,{ref:function(e){return je.current.table=e},"aria-label":"caption table",size:Z,stickyHeader:!0,children:me})}),!x&&g.length>0&&Object(M.jsx)(F,{data:g,onPageChange:K,page:G,count:Y,limit:Q}),Object(M.jsx)(U.a,{className:"enhancedTable_dialog",open:W.open,config:W.config,onClose:ge})]})};t.a=Object(k.withRouter)(Object(E.memo)(K))},447:function(e,t,n){"use strict";var a=n(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(116)),o=n(1),r=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},453:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(689),i=n(408),o=n(14),r=n(4),c=n(27),l=n(0),s=n(119),d=n.n(s),u=n(7),b=n(41),j=n(1072),f=n(1044),O=n(1073),h=n(256),g=n(447),m=n.n(g),p=n(34),v=n(30),x=n(121),y=n(1),w=["children","onClose","showClose","titleStyles"],C=Object(u.a)(j.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),I=function(e){var t=e.children,n=e.onClose,a=e.showClose,i=e.titleStyles,o=Object(c.a)(e,w);return Object(y.jsxs)(f.a,Object(r.a)(Object(r.a)({sx:Object(r.a)({m:0,p:2,textAlign:"center"},i)},o),{},{children:[a?Object(y.jsx)(h.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(y.jsx)(m.a,{})}):null,t]}))};function S(e){var t=e.config,n=void 0===t?{}:t,c=e.children,s=n.title,u=void 0===s?"":s,j=n.closeUrl,f=void 0===j?"":j,h=n.showClose,g=void 0===h||h,m=n.onOk,w=(void 0===m&&d.a.noop(),n.paperProps),S=void 0===w?{}:w,P=n.preventBackdropClick,E=void 0!==P&&P,L=n.titleStyles,k=void 0===L?{}:L,R=l.useState(!1),D=Object(o.a)(R,2),M=D[0],W=D[1],A=Object(b.a)(),F=Object(i.a)(A.breakpoints.down("sm")),N=function(e){E&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||W(!1)};l.useEffect((function(){return W(!0),Object(v.a)(window,"closeModal",N),function(){return Object(v.g)(window,"closeModal",N)}}),[]);var H=Object(l.useMemo)((function(){return l.forwardRef((function(e,t){var n=Object(p.useHistory)();return Object(y.jsx)(a.a,Object(r.a)(Object(r.a)({ref:t},e),{},{onExited:function(){return f?n.push(f||x.a):n.goBack()}}))}))}),[]);return Object(y.jsxs)(C,{onClose:N,"aria-labelledby":u||"customized-dialog-title",open:M,maxWidth:"lg",TransitionComponent:H,PaperProps:S,fullScreen:F,children:[u&&Object(y.jsx)(I,{id:u||"customized-dialog-title",onClose:N,showClose:g,titleStyles:k,children:u}),Object(y.jsx)(O.a,{dividers:!0,sx:{borderTop:"none"},children:c})]})}},496:function(e,t,n){"use strict";var a=n(14),i=n(0),o=n(80);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(i.useState)(null),r=Object(a.a)(n,2),c=r[0],l=r[1],s=Object(i.useState)(!1),d=Object(a.a)(s,2),u=d[0],b=d[1],j=Object(i.useState)(null),f=Object(a.a)(j,2),O=f[0],h=f[1],g=Object(i.useState)(!1),m=Object(a.a)(g,2),p=m[0],v=m[1];function x(){Object(o.b)({uri:e,callback:t,showTriggers:!1}).then((function(e){e.data&&l(e.data)})).finally((function(){b(!1),v(!1)}))}return Object(i.useEffect)((function(){b(!0),l(null),h(null),x()}),[e]),{data:c,loading:u,error:O,refetch:function(){v(!0),x()},isRefetching:p}}},689:function(e,t,n){"use strict";var a=n(2),i=n(6),o=n(0),r=n(184),c=n(41),l=n(47),s=n(28),d=n(1),u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},j=o.forwardRef((function(e,t){var n=Object(c.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},f=e.addEndListener,O=e.appear,h=void 0===O||O,g=e.children,m=e.easing,p=e.in,v=e.onEnter,x=e.onEntered,y=e.onEntering,w=e.onExit,C=e.onExited,I=e.onExiting,S=e.style,P=e.timeout,E=void 0===P?j:P,L=e.TransitionComponent,k=void 0===L?r.a:L,R=Object(i.a)(e,u),D=o.useRef(null),M=Object(s.a)(D,g.ref,t),W=function(e){return function(t){if(e){var n=D.current;void 0===t?e(n):e(n,t)}}},A=W(y),F=W((function(e,t){Object(l.b)(e);var a=Object(l.a)({style:S,timeout:E,easing:m},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),v&&v(e,t)})),N=W(x),H=W(I),U=W((function(e){var t=Object(l.a)({style:S,timeout:E,easing:m},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),w&&w(e)})),z=W(C);return Object(d.jsx)(k,Object(a.a)({appear:h,in:p,nodeRef:D,onEnter:F,onEntered:N,onEntering:A,onExit:U,onExited:z,onExiting:H,addEndListener:function(e){f&&f(D.current,e)},timeout:E},R,{children:function(e,t){return o.cloneElement(g,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||p?void 0:"hidden"},b[e],S,g.props.style),ref:M},t))}}))}));t.a=j},999:function(e,t,n){"use strict";var a=n(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(116)),o=n(1),r=(0,i.default)((0,o.jsx)("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.default=r}}]);
//# sourceMappingURL=14.cb83873a.chunk.js.map