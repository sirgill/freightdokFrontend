(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{1064:function(e,t,n){},1121:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var c=n(13),r=n(1),i=n.n(r),a=n(160),s=n(128),o=n(53),l=n(32),d=n(352),j=n(40),b=n(58),u=(n(16),n(29),n(1046)),h=n(34),x=n(524),O=n(525),p=n(887),v=n(37),m=n(45),f=n(41),g=n(4),y=n(54),C=n(28),S=n(1090),w=n.n(S),F=(n(537),n(1064),n(1038)),N=n(1025),k=n(1109),I=n(1022),A=n(1004),D=n(213),B=n(1092),T=n.n(B),P=n(1091),R=n.n(P),E=n(2),L=[{label:"Detention",cost:"67"},{label:"Loads",cost:"1000"},{label:"Lumper",cost:"786"}],Y=function(e){var t=e.serviceName,n=e.amount,c=e.price,i=e.quantity,a=e.description,s=e.index,o=e.deleteService,l=e.onChangeService,d=function(e){var t=e.target.name,n=e.target.value;l&&l(s,{name:t,value:n})};return Object(E.jsx)(r.Fragment,{children:Object(E.jsxs)("tr",{className:"invoiceServiceRow",children:[Object(E.jsx)("td",{children:t}),Object(E.jsx)("td",{children:Object(E.jsx)(C.a,{name:"description",value:a,onChange:d,className:"serviceInputField",placeholder:"Enter item description"})}),Object(E.jsx)("td",{children:Object(E.jsx)(C.a,{name:"quantity",onChange:function(e){var t=e.target.name,n=parseInt(e.target.value);l(s,{name:t,value:n})},onBlur:function(e){var t=parseInt(e.target.value),c=e.target.name;t<1?l&&(l(s,{name:c,value:1}),l(s,{name:"price",value:parseInt(n)})):l&&(l(s,{name:c,value:t}),l(s,{name:"price",value:parseInt(n)*t}))},className:"serviceInputField",type:"number",value:i})}),Object(E.jsx)("td",{children:Object(E.jsx)(C.a,{name:"price",onChange:d,value:c,className:"serviceInputField"})}),Object(E.jsx)("td",{children:c?"$".concat(parseFloat(c).toFixed(2)):"$0.00"}),Object(E.jsx)("td",{children:Object(E.jsx)(D.a,{onClick:o.bind(null,s),children:Object(E.jsx)(R.a,{color:"error"})})})]})})},W=function(e){var t=e.handleClose,n=e.anchorEl,i=e.onAddNewService,s=Object(r.useState)(L),o=Object(c.a)(s,2),l=o[0],d=o[1],j=function(e){i&&i(e),t()};return Object(E.jsx)(F.b,{id:"jugal",anchorEl:n,open:Boolean(n),onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},children:Object(E.jsxs)(m.a,{sx:{p:2,width:500},children:[Object(E.jsx)(m.a,{children:Object(E.jsx)(C.a,{name:"search",autoFocus:!0,placeholder:"Type on item name",onChange:function(e){var t=e.target.value.toLowerCase();if(t){var n=l.filter((function(e){return e.label.toLowerCase().includes(t)}));d(n)}else d(L)}})}),Object(E.jsx)(m.a,{children:Object(E.jsx)(N.a,{children:l.map((function(e){return Object(E.jsx)(k.a,{onClick:j.bind(null,e),children:Object(E.jsx)(I.a,{disablePadding:!0,secondaryAction:Object(E.jsx)("span",{className:"listButtonPickerCost",children:"$"+e.cost}),children:Object(E.jsx)(A.a,{primary:e.label})})},e.label)}))})}),Object(E.jsx)(m.a,{children:Object(E.jsx)(a.a,{startIcon:Object(E.jsx)(T.a,{}),children:"Create a new Item"})})]})})},M=function(e){var t=e.services,n=e.onAddNewService,s=e.onChangeService,o=e.deleteService,l=i.a.useState(null),d=Object(c.a)(l,2),j=d[0],b=d[1],u=Object(r.useMemo)((function(){return t.map((function(e,t){return Object(E.jsx)(Y,Object(g.a)(Object(g.a)({},e),{},{index:t,onChangeService:s,deleteService:o}))}))}),[t]);return Object(E.jsxs)(i.a.Fragment,{children:[Object(E.jsxs)("table",{className:"invoiceServiceTable",children:[Object(E.jsxs)("tr",{className:"tableHeader",children:[Object(E.jsx)("th",{children:"Services"}),Object(E.jsx)("th",{}),Object(E.jsx)("th",{children:"Quantity"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Amount"}),Object(E.jsx)("th",{})]}),u,Object(E.jsx)("tr",{className:"addNewItemRow",children:Object(E.jsx)("td",{className:"addNewItem",onClick:function(e){b(e.currentTarget)},children:Object(E.jsx)(a.a,{sx:{width:135},startIcon:Object(E.jsx)(T.a,{}),"aria-describedby":"jugal",children:"Add new item"})})})]}),Object(E.jsx)(W,{handleClose:function(){b(null)},anchorEl:j,onAddNewService:n})]})},q=n(51),$=function(e){var t=e.name,n=e.sx,c=void 0===n?{}:n,r=e.variant,i=void 0===r?"body1":r,a=e.children;return Object(E.jsx)(f.a,{sx:Object(g.a)({fontWeight:700},c),variant:i,children:a||t})},_=function(e){var t=e.transition,n=e.handleClose,r=e.open,s=e.data,o=(e.pdf,e.setPdf,e.getTotal),l=e.services,d=e.addService,j=e.onChangeService,b=e.deleteService,u=i.a.useRef(null),h=s||{},g=h.brokerage,S=void 0===g?"":g,F=h.loadNumber,N=void 0===F?"":F,k=h.pickup,I=void 0===k?[]:k,A=h.drop,D=void 0===A?[]:A,B=(h.rate,h.accessorials),T=void 0===B?[]:B,P=h.proofDelivery,R=void 0===P?[]:P,L=h.rateConfirmation,Y=void 0===L?[]:L,W=h.bucketFiles,_=D||[],z=(Object(c.a)(_,1)[0].receiverName,Object(c.a)(I,1)[0]);z.pickupAddress,z.pickupCity,z.pickupState,z.pickupZip;console.log(W);var H=i.a.useMemo((function(){return W&&W.map((function(e){return Object(E.jsx)("div",{className:"bucketImageContainer",children:Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"printThisFull",src:e.fileLocation,alt:e.fileName})})})}))}),[W]),U=i.a.useCallback((function(){return u.current}),[u.current]),G=i.a.useCallback((function(){return Object(E.jsx)(a.a,{className:"printInvoice",variant:"contained",children:"Create Invoice"})}),[]);return Object(E.jsx)(x.a,{class:"printThisFull",PaperProps:{sx:{width:"70%"}},open:r,onClose:n,TransitionComponent:t,maxWidth:"lg",children:Object(E.jsx)(O.a,{sx:{p:0},children:Object(E.jsxs)("div",{ref:u,className:"printArea",children:[Object(E.jsxs)(v.a,{container:!0,direction:"column",sx:{display:"inline-flex"},children:[Object(E.jsx)("style",{type:"text/css",media:"print",children:"               @page { size: landscape; }          "}),Object(E.jsx)(v.a,{item:!0,xs:12,sx:{p:3},children:Object(E.jsxs)(v.a,{container:!0,justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,sx:{flexGrow:1},children:Object(E.jsx)(m.a,{spacing:1,children:Object(E.jsx)(m.a,{children:Object(E.jsx)(f.a,{sx:{textAlign:"left"},variant:"h5",children:"Sunny Freight"})})})}),Object(E.jsx)(v.a,{item:!0,children:Object(E.jsxs)(m.a,{children:[Object(E.jsx)(m.a,{children:Object(E.jsx)(f.a,{variant:"h5",sx:{textAlign:"right"},children:"Invoice"})}),Object(E.jsx)(m.a,{children:Object(E.jsx)(C.a,{label:"Notes",type:"textarea"})})]})})]})}),Object(E.jsx)(p.a,{sx:{borderBottomWidth:"thin",borderColor:y.b}}),Object(E.jsx)(v.a,{xs:12,item:!0,children:Object(E.jsxs)(v.a,{container:!0,justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,children:Object(E.jsxs)(m.a,{spacing:1,sx:{p:3},children:[Object(E.jsx)(m.a,{children:Object(E.jsx)(f.a,{children:"Bill To:"})}),Object(E.jsx)(m.a,{children:Object(E.jsx)($,{sx:{fontWeight:700},children:S})})]})}),Object(E.jsx)(v.a,{item:!0,children:Object(E.jsx)(m.a,{justifyContent:"space-between",sx:{height:"100%"},children:Object(E.jsxs)(m.a,{direction:"row",alignItems:"center",spacing:2,p:3,children:[Object(E.jsx)($,{children:"Load Number: "}),Object(E.jsx)($,{children:N})]})})})]})}),Object(E.jsx)(p.a,{sx:{borderBottomWidth:"thin",borderColor:y.b}}),Object(E.jsxs)(v.a,{item:!0,sx:{p:2},display:"inherit",direction:"column",children:[Object(E.jsx)(m.a,{sx:{textAlign:"right"},children:Object(E.jsxs)($,{children:["Total: ",o()||"- -"]})}),Object(E.jsxs)(v.a,{container:!0,alignItems:"end",justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,xs:12,className:"invoiceServiceWrapperGrid",children:Object(E.jsx)(M,{onChangeService:j,services:l,onAddNewService:d,deleteService:b})}),Object(E.jsx)(v.a,{xs:3,item:!0}),Object(E.jsx)(v.a,{xs:6,item:!0,children:Object(E.jsxs)(m.a,{justifyContent:"center",gap:"10px",className:"stack_Uploaders",children:[Object(E.jsxs)(m.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"rateCon",children:[Object(E.jsx)(f.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Rate Con"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"rateCon",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(q.c)(!!Y.length)})]}),Object(E.jsxs)(m.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"pod",children:[Object(E.jsx)(f.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Proof Of Delivery"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"pod",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(q.c)(!!R.length)})]}),Object(E.jsxs)(m.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"accessorials",children:[Object(E.jsx)(f.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Accessorials"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"accessorials",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(q.c)(!!T.length)})]})]})}),Object(E.jsx)(v.a,{xs:3,item:!0,display:"flex",justifyContent:"end",children:Object(E.jsx)(w.a,{content:U,documentTitle:"Invoice",removeAfterPrint:!0,trigger:G})})]})]})]}),H]})})})},z=function(e){var t=e.match,n=(void 0===t?{}:t).params,a=(void 0===n?{}:n).id,s=void 0===a?"":a,o=(e.history,Object(r.useState)(!1)),d=Object(c.a)(o,2),j=d[0],x=d[1],O=Object(r.useState)(!1),p=Object(c.a)(O,2),v=p[0],m=p[1],f=Object(l.e)((function(e){return e.load.invoices.data}))||[],y=Object(r.useState)([]),C=Object(c.a)(y,2),S=C[0],w=C[1],F=f.find((function(e){return e._id===s}));Object(r.useEffect)((function(){x(!0)}),[]);var N=Object(r.useMemo)((function(){return i.a.forwardRef((function(e,t){var n=Object(b.useHistory)();return Object(E.jsx)(u.a,Object(g.a)(Object(g.a)({ref:t},e),{},{onExited:function(){return n.push("/dashboard")}}))}))}),[]),k=Object(r.useCallback)((function(){return"$"+S.reduce((function(e,t){return parseFloat(t.price)+e}),0).toFixed(2)}),[S]);return Object(E.jsx)("div",{children:Object(E.jsx)(_,{open:j,handleClose:function(e){x(!1)},transition:N,data:F,pdf:v,setPdf:m,services:S,addService:function(e){var t=e.label,n=e.cost,c={serviceName:t,description:"",quantity:1,price:n,amount:n};w([].concat(Object(h.a)(S),[c]))},onChangeService:function(e,t){var n=t.name,c=t.value,r=S[e];r[n]=c;var i=Object(h.a)(S);i[e]=r,w(i)},getTotal:k,deleteService:function(e){var t=S;t.splice(e,1),w(Object(h.a)(t))}})})},H=n(108),U=n.n(H),G=n(351),J=Object(s.a)({TableContainer:{borderBottom:"none"},loadSearchbar:{textAlign:"right",paddingBottom:10}});function V(e){e.setSelectedLoad;var t=e.resetSearchField,n=e.listBarType,i=(e.load_selected,J()),s=Object(l.d)(),u=Object(r.useState)(!0),h=Object(c.a)(u,2),x=(h[0],h[1]),O=Object(l.e)((function(e){return e.load.invoices})),p=O.page,v=O.limit,m=(O.total,Object(l.e)((function(e){return e.load.invoices.data}))),f=Object(r.useState)(!1),g=Object(c.a)(f,2),y=(g[0],g[1],Object(r.useState)({show:!1,data:{}})),C=Object(c.a)(y,2),S=(C[0],C[1],Object(l.e)((function(e){return e.load.loads}))),w=Object(l.e)((function(e){return e.openBoard.chRobinsonLoads}),l.c),F=(w.loads,w.totalCount);Object(r.useEffect)((function(){return setTimeout((function(){x(!1)}),1e3),t(),s(Object(o.l)(n)),s(Object(o.f)()),function(){t(),s(Object(o.l)(n))}}),[]),Object(r.useEffect)((function(){s(Object(o.f)())}),[S]);var N={rowCellPadding:"inherit",headerCellSx:{pt:1,pb:1},emptyMessage:"No Invoices found",page:p,count:F,limit:v,columns:[{id:"loadNumber",label:"Load Number"},{id:"country",label:"Pickup City/State",renderer:function(e){var t=e.row;return Object(E.jsxs)(r.Fragment,{children:[t.pickup[0].pickupCity,", ",t.pickup[0].pickupState]})}},{id:"pickupDate",label:"Pickup Date",renderer:function(e){var t=e.row,n="";return U()(t.pickUpByDate).isValid()&&(n=U()(t.pickUpByDate).format("M/DD/YYYY")),Object(E.jsx)(r.Fragment,{children:n})}},{id:"deliveryCountry",label:"Delivery City/State",renderer:function(e){var t=e.row;return Object(E.jsxs)(r.Fragment,{children:[t.drop[0].dropCity,", ",t.drop[0].dropState]})}},{id:"deliveryDate",label:"Delivery Date",renderer:function(e){var t=e.row,n="";return U()(t.deliverBy).isValid()&&(n=U()(t.deliverBy).format("M/DD/YYYY")),Object(E.jsx)(r.Fragment,{children:n})}},{id:"equipment",label:"Equipment",renderer:function(e){var t=e.row,n=Object(G.g)(t)||{},c=n.modesString,i=void 0===c?"":c,a=n.standard,s=void 0===a?"":a;return Object(E.jsxs)(r.Fragment,{children:[i," ",s]})}},{id:"weight",label:"Weight",renderer:function(e){var t=(e.row||{}).weight,n=(void 0===t?{}:t).pounds,c=void 0===n?"":n;return c&&(c+=" lbs"),Object(E.jsx)(r.Fragment,{children:c})}},{id:"company",label:"Company",renderer:function(){return"C.H Robinson"}},{id:"rate",label:"Rate",emptyState:"--"},{id:"",label:"Invoice",renderer:function(e){var t=e.row;return Object(E.jsx)(a.a,{component:j.b,to:"/dashboard/invoice/"+t._id,variant:"outlined",color:"primary",children:"Create Invoice"})}}]};return Object(E.jsx)("div",{className:i.table,children:Object(E.jsxs)(r.Fragment,{children:[Object(E.jsx)(d.a,{config:N,data:m}),Object(E.jsx)(b.Route,{path:"/dashboard/invoice/:id",component:z})]})})}}}]);
//# sourceMappingURL=9.2293e66e.chunk.js.map