(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[22],{1002:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),i=(0,o.default)((0,c.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.default=i},1110:function(e,t,n){"use strict";n.r(t);var a=n(201),o=n(1005),c=n(0),i=n.n(c),r=n(72),s=n(13),l=n(88),d=n(247),u=n(10),b=n(2);const j=Object(u.a)(d.a)((e=>{let{theme:t}=e;return{padding:"8px 16px"}}));var p=e=>{let{title:t,children:n,sx:a={}}=e;return Object(b.jsxs)(j,{elevation:0,variant:"outlined",sx:a,children:[Object(b.jsx)(l.a,{variant:"h6",fontWeight:600,children:t}),n]})},h=n(277),m=n(248),f=n(90),g=n(73),x=n(345),O=n.n(x);const v=e=>{let{path:t,editOpCosts:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columnsBuilder:e=>{let{data:t,columns:n}=e,a=6;return t.forEach((e=>{const{additionalCosts:t}=e;for(let o in t){n.findIndex((e=>e.id===o))<0&&(n.splice(a,0,{id:o,label:o,valueFormatter:(e,t)=>Object(f.e)(t.additionalCosts[o])}),a++)}})),n},columns:[{id:"ownerOperatorId.name",label:"Owner Operator"},{id:"lease",label:"Lease (%)",valueFormatter:e=>e+"%"},{id:"truckInsurance",label:"Truck Insurance",valueFormatter:e=>Object(f.e)(e)},{id:"trailerInsurance",label:"Trailer Insurance",valueFormatter:e=>Object(f.e)(e)},{id:"eld",label:"ELD",valueFormatter:e=>Object(f.e)(e)},{id:"parking",label:"Parking",valueFormatter:e=>Object(f.e)(e)},{id:"total",label:"Total",valueFormatter:e=>Object(f.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(b.jsx)(m.a,{color:"primary",component:r.b,to:t+g.g+"/".concat(n._id),children:Object(b.jsx)(O.a,{})})}}]}},w=e=>{let{path:t,editEfsTransactionRates:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columns:[{id:"AmountRange",label:"Amount Range",renderer:e=>{let{row:t}=e;const{maxAmount:n,minAmount:a}=t||{};return"$".concat(a,"-").concat(n)}},{id:"transactionCost",label:"Transaction Cost",valueFormatter:e=>Object(f.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(b.jsx)(m.a,{color:"primary",component:r.b,to:t+g.a+"/".concat(n._id),children:Object(b.jsx)(O.a,{})})}}]}};var C=n(285),y=n(97),k=n(200),S=n(1136),E=n(265),R=n(255),P=n(264),I=n(28),A=n(384);const T=e=>{let{id:t,data:n}=e;const a=Object(s.useHistory)(),{mutation:o,loading:i}=Object(P.a)(y.f+"/".concat(t)),{mutation:r,loading:l}=Object(P.a)(y.f),[d,u]=Object(c.useState)({maxAmount:null===n||void 0===n?void 0:n.maxAmount,minAmount:null===n||void 0===n?void 0:n.minAmount,transactionCost:null===n||void 0===n?void 0:n.transactionCost}),j=e=>{let{name:t,value:n}=e;u({...d,[t]:n})},p=e=>{let{success:t,data:n}=e;t?(Object(I.a)(n.message),Object(f.o)("refetchEfsTransactionCosts"),a.replace(g.b+"/serviceCosts")):Object(I.a)(n.message,"error")};return Object(b.jsxs)(k.a,{container:!0,spacing:3,component:"form",sx:{width:{xs:"auto",sm:"350px"}},onSubmit:e=>{e.preventDefault(),t?o(d,"put",p):r(d,null,p)},children:[Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"minAmount",value:d.minAmount,onChange:j,label:"Min Amount",type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"maxAmount",value:d.maxAmount,onChange:j,label:"Max  Amount",type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"transactionCost",value:d.transactionCost,onChange:j,label:"Transaction Cost",type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{xs:12,item:!0,children:Object(b.jsx)(R.d,{fullWidth:!0,isLoading:i||l,type:"submit",children:i||l?t?"Updating...":"Saving...":t?"Update":"Save"})})]})};var M=e=>{const{match:{params:{id:t}}={}}=e,{data:n,loading:a}=Object(A.a)(y.f+"/".concat(t),{lazyFetchCondition:()=>"new"!==t});return a?Object(b.jsx)(R.b,{}):Object(b.jsx)(E.a,{config:{title:"Edit EFS Transaction Cost"},children:Object(b.jsx)(T,{id:"new"===t?null:t,data:null===n||void 0===n?void 0:n.data})})},z=n(57),F=n(1002),D=n.n(F),L=n(1153),_=n(1007),G=n(235),N=n(293);const q=Object(u.a)((e=>Object(b.jsx)(_.a,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(G.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function W(e){let{data:t=[],onRefetch:n}=e;const[r,s]=i.a.useState(null),d=Boolean(r),u=()=>{s(null)},j=e=>{let{success:t}=e;t&&n&&n(),u()},p=e=>{Object(N.c)({message:Object(b.jsxs)(a.a,{children:[Object(b.jsx)(l.a,{variant:"h6",children:"Are you sure you want to delete column ".concat(e,"?")}),Object(b.jsx)(l.a,{variant:"subtitle2",color:"text.secondary",align:"center",sx:{mt:2},children:"This will remove the column from every record."})]}),uri:y.h,afterSuccessCb:j,body:{key:e}})()},h=Object(c.useMemo)((()=>{const e=[];return t.forEach((t=>{const{additionalCosts:n}=t||{};for(let a in n)e.includes(a)||e.push(a)})),e.map((e=>Object(b.jsx)(L.a,{onClick:p.bind(this,e),disableRipple:!0,children:e},e)))}),[t]);return Object(b.jsxs)(a.a,{sx:{display:h.length?"flex":"none"},children:[Object(b.jsx)(o.a,{id:"demo-customized-button","aria-controls":d?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,variant:"contained",disableElevation:!0,color:"error",onClick:e=>{s(e.currentTarget)},endIcon:Object(b.jsx)(D.a,{}),children:"Delete"}),Object(b.jsx)(q,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:r,open:d,onClose:u,children:h})]})}const B=e=>{let{visible:t,onRefetch:n,data:i}=e;const[r,s]=Object(c.useState)(""),{mutation:l,loading:d}=Object(P.a)(y.b),u=Object(c.useCallback)((e=>{e.preventDefault(),l({category:r},"post").then((e=>{let{success:t,data:a}=e;t?(Object(I.a)(a.message),n(),s("")):Object(I.a)(a.message,"error")}))}),[r,l,n]);return t?Object(b.jsxs)(a.a,{sx:{display:"flex",gap:1},component:"form",onSubmit:u,children:[Object(b.jsx)(R.c,{isCapitalize:!0,label:"Add Category",value:r,onChange:e=>{let{value:t}=e;return s(t)}}),Object(b.jsx)(o.a,{variant:"contained",type:"submit",disabled:d,children:"Add"}),Object(b.jsx)(W,{data:i,onRefetch:n})]}):null};var $=Object(c.memo)(B),H=n(1),U=n(4),K=n(102),V=n(233),J=n(186),Q=n(196),X=n(324),Y=n(188),Z=n(58),ee=n(240),te=n(199);const ne=(e,t,n)=>{const a=e.keys[0];if(Array.isArray(t))t.forEach(((t,a)=>{n(((t,n)=>{a<=e.keys.length-1&&(0===a?Object.assign(t,n):t[e.up(e.keys[a])]=n)}),t)}));else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(o=e.keys,c=Object.keys(t),o.filter((e=>c.includes(e))))).forEach((o=>{if(-1!==e.keys.indexOf(o)){const c=t[o];void 0!==c&&n(((t,n)=>{a===o?Object.assign(t,n):t[e.up(o)]=n}),c)}}))}else"number"!==typeof t&&"string"!==typeof t||n(((e,t)=>{Object.assign(e,t)}),t);var o,c};function ae(e){return e?"Level".concat(e):""}function oe(e){return e.unstable_level>0&&e.container}function ce(e){return function(t){return"var(--Grid-".concat(t,"Spacing").concat(ae(e.unstable_level),")")}}function ie(e){return function(t){return 0===e.unstable_level?"var(--Grid-".concat(t,"Spacing)"):"var(--Grid-".concat(t,"Spacing").concat(ae(e.unstable_level-1),")")}}function re(e){return 0===e.unstable_level?"var(--Grid-columns)":"var(--Grid-columns".concat(ae(e.unstable_level-1),")")}const se=e=>{let{theme:t,ownerState:n}=e;const a=ce(n),o={};return ne(t.breakpoints,n.gridSize,((e,t)=>{let c={};!0===t&&(c={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(c={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / ").concat(re(n)).concat(oe(n)?" + ".concat(a("column")):"",")")}),e(o,c)})),o},le=e=>{let{theme:t,ownerState:n}=e;const a={};return ne(t.breakpoints,n.gridOffset,((e,t)=>{let o={};"auto"===t&&(o={marginLeft:"auto"}),"number"===typeof t&&(o={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / ").concat(re(n),")")}),e(a,o)})),a},de=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=oe(n)?{["--Grid-columns".concat(ae(n.unstable_level))]:re(n)}:{"--Grid-columns":12};return ne(t.breakpoints,n.columns,((e,t)=>{e(a,{["--Grid-columns".concat(ae(n.unstable_level))]:t})})),a},ue=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=ie(n),o=oe(n)?{["--Grid-rowSpacing".concat(ae(n.unstable_level))]:a("row")}:{};return ne(t.breakpoints,n.rowSpacing,((e,a)=>{var c;e(o,{["--Grid-rowSpacing".concat(ae(n.unstable_level))]:"string"===typeof a?a:null==(c=t.spacing)?void 0:c.call(t,a)})})),o},be=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=ie(n),o=oe(n)?{["--Grid-columnSpacing".concat(ae(n.unstable_level))]:a("column")}:{};return ne(t.breakpoints,n.columnSpacing,((e,a)=>{var c;e(o,{["--Grid-columnSpacing".concat(ae(n.unstable_level))]:"string"===typeof a?a:null==(c=t.spacing)?void 0:c.call(t,a)})})),o},je=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a={};return ne(t.breakpoints,n.direction,((e,t)=>{e(a,{flexDirection:t})})),a},pe=e=>{let{ownerState:t}=e;const n=ce(t),a=ie(t);return Object(H.a)({minWidth:0,boxSizing:"border-box"},t.container&&Object(H.a)({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},{margin:"calc(".concat(n("row")," / -2) calc(").concat(n("column")," / -2)")},t.disableEqualOverflow&&{margin:"calc(".concat(n("row")," * -1) 0px 0px calc(").concat(n("column")," * -1)")}),(!t.container||oe(t))&&Object(H.a)({padding:"calc(".concat(a("row")," / 2) calc(").concat(a("column")," / 2)")},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:"".concat(a("row")," 0px 0px ").concat(a("column"))}))},he=e=>{const t=[];return Object.entries(e).forEach((e=>{let[n,a]=e;!1!==a&&void 0!==a&&t.push("grid-".concat(n,"-").concat(String(a)))})),t},me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach((e=>{let[a,o]=e;n(o)&&t.push("spacing-".concat(a,"-").concat(String(o)))})),t}return[]},fe=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map((e=>{let[t,n]=e;return"direction-".concat(t,"-").concat(n)})):["direction-xs-".concat(String(e))],ge=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],xe=Object(te.a)(),Oe=Object(X.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function ve(e){return Object(Y.a)({props:e,name:"MuiGrid",defaultTheme:xe})}var we=n(12);const Ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=Oe,useThemeProps:n=ve,componentName:a="MuiGrid"}=e,o=c.createContext(void 0),i=t(de,be,ue,se,je,pe,le),r=c.forwardRef((function(e,t){var r,s,l,d,u,j,p,h;const m=Object(Z.a)(),f=n(e),g=Object(ee.a)(f),x=c.useContext(o),{className:O,children:v,columns:w=12,container:C=!1,component:y="div",direction:k="row",wrap:S="wrap",spacing:E=0,rowSpacing:R=E,columnSpacing:P=E,disableEqualOverflow:I,unstable_level:A=0}=g,T=Object(U.a)(g,ge);let M=I;A&&void 0!==I&&(M=e.disableEqualOverflow);const z={},F={},D={};Object.entries(T).forEach((e=>{let[t,n]=e;void 0!==m.breakpoints.values[t]?z[t]=n:void 0!==m.breakpoints.values[t.replace("Offset","")]?F[t.replace("Offset","")]=n:D[t]=n}));const L=null!=(r=e.columns)?r:A?void 0:w,_=null!=(s=e.spacing)?s:A?void 0:E,G=null!=(l=null!=(d=e.rowSpacing)?d:e.spacing)?l:A?void 0:R,N=null!=(u=null!=(j=e.columnSpacing)?j:e.spacing)?u:A?void 0:P,q=Object(H.a)({},g,{level:A,columns:L,container:C,direction:k,wrap:S,spacing:_,rowSpacing:G,columnSpacing:N,gridSize:z,gridOffset:F,disableEqualOverflow:null!=(p=null!=(h=M)?h:x)&&p,parentDisableEqualOverflow:x}),W=((e,t)=>{const{container:n,direction:o,spacing:c,wrap:i,gridSize:r}=e,s={root:["root",n&&"container","wrap"!==i&&"wrap-xs-".concat(String(i)),...fe(o),...he(r),...n?me(c,t.breakpoints.keys[0]):[]]};return Object(V.a)(s,(e=>Object(J.a)(a,e)),{})})(q,m);let B=Object(b.jsx)(i,Object(H.a)({ref:t,as:y,ownerState:q,className:Object(K.a)(W.root,O)},D,{children:c.Children.map(v,(e=>{var t;return c.isValidElement(e)&&Object(Q.a)(e,["Grid"])?c.cloneElement(e,{unstable_level:null!=(t=e.props.unstable_level)?t:A+1}):e}))}));return void 0!==M&&M!==(null!=x&&x)&&(B=Object(b.jsx)(o.Provider,{value:M,children:B})),B}));return r.muiName="Grid",r}({createStyledComponent:Object(u.a)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>Object(we.a)({props:e,name:"MuiGrid2"})});var ye=Ce;const ke=e=>{let{id:t,data:n}=e;const[a,o]=Object(c.useState)(n),i=Object(s.useHistory)(),[r,l]=Object(c.useState)(n.additionalCosts),{mutation:d,loading:u}=Object(P.a)(y.g+"/".concat(t)),{additionalCosts:j}=n,p=Object(c.useMemo)((()=>{const e=[];for(let t in j)e.push(Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:t,value:r[t],type:"number",label:t,onChange:h,onBlur:m,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}));return e}),[r,j]);function h(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n})))}function m(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n||0})))}const x=e=>{let{name:t,value:n}=e;o({...a,[t]:n})};function O(e){let{name:t,value:n}=e;o({...a,[t]:parseFloat(n)||0})}return Object(b.jsxs)(ye,{spacing:2,container:!0,sx:{maxWidth:{xs:"auto",sm:350}},component:"form",onSubmit:e=>{e.preventDefault();const{lease:t,truckInsurance:n,trailerInsurance:o,eld:c,parking:s}=a,l=Object(f.j)({lease:t,truckInsurance:n,trailerInsurance:o,eld:c,parking:s,additionalCosts:r});d(l,"put").then((e=>{let{success:t,data:n}=e;t?(i.replace(g.b+"/serviceCosts"),Object(I.a)(n.message),Object(f.o)("refetchServiceCosts")):Object(I.a)(n.message,"error")}))},children:[Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:"lease",value:null===a||void 0===a?void 0:a.lease,type:"number",label:"Lease (%)",autoFocus:!0,onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"%"})}})}),Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:"truckInsurance",value:null===a||void 0===a?void 0:a.truckInsurance,type:"number",label:"Truck Insurance",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:"trailerInsurance",value:null===a||void 0===a?void 0:a.trailerInsurance,type:"number",label:"Trailer Insurance",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:"eld",value:null===a||void 0===a?void 0:a.eld,type:"number",label:"ELD",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.c,{name:"parking",value:null===a||void 0===a?void 0:a.parking,type:"number",label:"Parking",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),p,Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.d,{type:"submit",fullWidth:!0,isLoading:u,loadingText:"Updating...",children:"Update"})})]})};var Se=e=>{let{match:t}=e;const{params:{id:n}}=t,{data:a,loading:o}=Object(C.a)(y.g+"/".concat(n));return o?Object(b.jsx)(R.b,{}):Object(b.jsx)(E.a,{config:{title:"Edit Service Cost"},children:Object(b.jsx)(ke,{id:n,data:(null===a||void 0===a?void 0:a.data)||{}})})};t.default=e=>{const{viewEfsTransactionRates:t,editEfsTransactionRates:n,addEfsTransactionRates:i,viewOpCosts:l,addOpCosts:d,editOpCosts:u}=z.a.getUserPermissionsByDashboardId("serviceCosts"),{match:{path:j}={}}=e,{data:m={},loading:x,refetch:O,isRefetching:k}=Object(C.a)(y.g),{data:S={},loading:E,refetch:R,isRefetching:P}=Object(C.a)(y.f),I=Object(c.useMemo)((()=>i&&Object(b.jsx)(o.a,{component:r.b,to:j+"/efs/new",variant:"contained",children:"Add"})),[i,j]);return Object(c.useEffect)((()=>(Object(f.a)(window,"refetchEfsTransactionCosts",R),Object(f.a)(window,"refetchServiceCosts",O),()=>{Object(f.l)(window,"refetchEfsTransactionCosts",R),Object(f.l)(window,"refetchServiceCosts",R)})),[]),Object(b.jsxs)(a.a,{sx:{height:"100%"},className:"dashboardRoot",children:[l&&Object(b.jsx)(p,{title:"Owner Operator Costs",sx:{mt:2},children:Object(b.jsx)(h.a,{data:m.data,config:v({path:j,editOpCosts:u}),onRefetch:O,loading:x,actions:Object(b.jsx)($,{visible:d,onRefetch:O,data:m.data}),isRefetching:k})}),t&&Object(b.jsx)(p,{title:"EFS Transaction Costs",sx:{mt:2},children:Object(b.jsx)(h.a,{data:S.data,config:w({path:j,editEfsTransactionRates:n}),isRefetching:P,onRefetch:R,loading:E,actions:I})}),Object(b.jsx)(s.Route,{path:j+"/efs/:id",component:M}),Object(b.jsx)(s.Route,{path:j+"".concat(g.g,"/:id"),component:Se})]})}},264:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[r,s]=Object(a.useState)(!1);return{mutation:async function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;i.queryParams&&(d=d+"?"+Object(c.m)(i.queryParams)),s(!0),r||(r="post");const u=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(r.toLowerCase());if(u)return u({uri:d,callback:t,body:a,showTriggers:n}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{s(!1)}))},loading:r}}},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(355),o=n(236),c=n(0),i=n.n(c),r=n(10),s=n(34),l=n(552),d=n(553),u=n(655),b=n(248),j=n(273),p=n.n(j),h=n(13),m=n(90),f=n(73),g=n(2);const x=Object(r.a)(l.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),O=e=>{const{children:t,onClose:n,showClose:a,titleStyles:o,...c}=e;return Object(g.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...o},...c,children:[a?Object(g.jsx)(b.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(g.jsx)(p.a,{})}):null,t]})};function v(e){const{config:t={},children:n,closeCallback:r}=e,{title:l="",closeUrl:d="",showClose:b=!0,paperProps:j={},preventBackdropClick:p=!1,titleStyles:v={}}=t,[w,C]=i.a.useState(!1),y=Object(s.a)(),k=Object(o.a)(y.breakpoints.down("sm")),S=function(e){p&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||C(!1)};i.a.useEffect((()=>(C(!0),Object(m.a)(window,"closeModal",S),()=>Object(m.l)(window,"closeModal",S))),[]);const E=Object(c.useMemo)((()=>i.a.forwardRef((function(e,t){const n=Object(h.useHistory)();return Object(g.jsx)(a.a,{ref:t,...e,onExited:()=>r?r():d?n.push(d||f.b):n.goBack()})}))),[]);return Object(g.jsxs)(x,{onClose:S,"aria-labelledby":l||"customized-dialog-title",open:w,maxWidth:"lg",TransitionComponent:E,PaperProps:j,fullScreen:k,children:[l&&Object(g.jsx)(O,{id:l||"customized-dialog-title",onClose:S,showClose:b,titleStyles:v,children:l}),Object(g.jsx)(u.a,{dividers:!0,sx:{borderTop:"none"},children:n})]})}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(1005),c=n(552),i=n(1009),r=n(655),s=n(553),l=n(237),d=n(2);const u=a.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function b(e){const{open:t=!1,config:n,onClose:a,preventBackdropClose:l=!1,className:b}=e,{title:j,onOk:p,okText:h="Save",content:m,onCancel:f}=n,g=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||a()};return Object(d.jsx)("div",{children:Object(d.jsxs)(c.a,{className:b,open:t,TransitionComponent:u,onClose:g,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof j?j({...n}):Object(d.jsx)(s.a,{sx:{fontWeight:550},children:j}),Object(d.jsx)(r.a,{children:"function"===typeof m?m({config:n}):m}),Object(d.jsxs)(i.a,{children:["function"===typeof f?f({config:n,onClose:a}):Object(d.jsx)(o.a,{variant:"outlined",onClick:g,children:"Cancel"}),"function"===typeof h?h({config:n,onOk:p}):Object(d.jsx)(o.a,{variant:"contained",color:h.equalsIgnoreCase("delete")?"error":"primary",onClick:p,children:h})]})]})})}},273:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),i=(0,o.default)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=i},277:function(e,t,n){"use strict";var a=n(201),o=n(247),c=n(1160),i=n(1149),r=n(1161),s=n(510),l=n(295),d=n.n(l),u=n(1159),b=n(1158),j=n(1006),p=n(200),h=n(88),m=n(1121),f=n(248),g=n(1157),x=n(1132),O=n(294),v=n.n(O),w=n(1156),C=n(258),y=n.n(C),k=n(287),S=n.n(k),E=n(0),R=n.n(E),P=n(13),I=n(1111),A=n(10),T=n(255),M=n(2);const z=Object(A.a)(I.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),F=Object(A.a)(s.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var D=e=>{let{data:t=[],onPageChange:n,page:a=1,count:o=0,limit:c=1,onLimitChange:i,isLoading:r}=e;const[l,d]=Object(E.useState)(0);Object(E.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(M.jsxs)(F,{direction:"row",alignItems:"center",children:[Object(M.jsxs)(h.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",o," entries"]}),Object(M.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(M.jsx)(T.f,{disabled:r,name:"pageSize",label:"",value:c,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof i&&i({value:t})}}),Object(M.jsx)(z,{disabled:r,count:Math.ceil(o/c),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},L=n(280),_=n(272),G=n(90),N=n(274);const q=Object(A.a)(w.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),W=Object(A.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function B(e){let{columns:t=[],config:n={},role:a,handleRequestSort:o,hasSort:c}=e;const{headerCellSx:i={},hasDelete:r,sortField:s,sortOrder:l,showCheckbox:d}=n,u=Object(E.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:r="",visible:d=!0,sort:u=!1}=e||{};return(y.a.isFunction(d)?d({column:e,role:a}):d)?Object(M.jsx)(q,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...i},children:c&&u?Object(M.jsx)(x.a,{onClick:e=>o(e,r),active:r===s,direction:l,sx:{...i},children:n}):n},r||t):null}))),[t,i]);return d&&u.unshift(Object(M.jsx)(q,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...i}},"checkbox-header")),Object(M.jsxs)(g.a,{children:[u,r&&Object(M.jsx)(q,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...i}})]})}const $=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:o,handleDelete:c,...i}=e;return(n||[]).map(((e,n)=>{const{dataKey:r=""}=a;return r&&(e=e[r]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:o,rowIndex:c,handleDelete:i,hasDeletePermission:r,checkboxKey:s,...l}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:b,rowStyleCb:j,showCheckbox:p=!1}=a,{role:h,onCheckboxChange:x,checkboxes:O}=l;let v={};j&&(v=j({row:t})||{});const w=Object(M.jsx)(q,{sx:{},padding:"none",component:"th",scope:"row",children:Object(M.jsx)(N.a,{title:"Delete",placement:"top",children:Object(M.jsx)(f.a,{onClick:i.bind(void 0,t._id,t),disabled:!r,children:Object(M.jsx)(W,{color:r?"error":"disabled"})})})}),C=n.map(((e,n)=>{const{id:a="",renderer:o,emptyState:i="--",valueFormatter:r,visible:s=!0,cellPadding:l}=e||{};if(!(y.a.isFunction(s)?s({column:e,role:h}):s))return null;let d;return d=r&&y.a.isFunction(r)?r(t[a],t):y.a.isFunction(o)?o({row:t,role:h},c)||i:y.a.get(t,a,i)||i,Object(M.jsx)(q,{padding:l||u||"normal",component:"th",scope:"row",children:d},a+n)}));if(p){if(!s)throw new Error("Checkbox key not provided");const e=O.indexOf(t[s])>-1;C.unshift(Object(M.jsx)(q,{onClick:x.bind(void 0,t),children:Object(M.jsx)(m.a,{checked:e})},"checkbox-".concat(c)))}return Object(M.jsxs)(g.a,{hover:!!b,onClick:e=>{e.preventDefault(),y.a.isFunction(o)&&o(t)},sx:b?{cursor:"pointer",...v}:{...v},children:[C,d&&w]},c)})({row:e,columns:t,config:a,handleRowClick:o,rowIndex:n,handleDelete:c,...i})}))},H=e=>{let{config:t={},data:n=[],history:l,loading:m=!1,onRefetch:g,isRefetching:x,actions:O,isPaginationLoading:v=!1,...w}=e;n=n||[];const{onCheckboxChange:C,checkboxes:k,checkboxKey:P}=w,[I,A]=Object(E.useState)({}),[T,z]=Object(E.useState)({open:!1,config:{}}),{columns:F=[],columnsBuilder:N,onRowClick:q,hasOnClickUrl:W=!0,onPageChange:H,page:U,count:K,limit:V,onPageSizeChange:J,onLimitChange:Q,size:X="medium",emptyMessage:Y="",onRowClickDataCallback:Z,showRefresh:ee=!1,onDelete:te,deleteMessage:ne,deletePermissions:ae=[],containerHeight:oe="",sortField:ce,sortOrder:ie="asc",handleSortChange:re,hasSort:se=!1}=t,{role:le=""}=Object(G.g)().user,de="boolean"===typeof ae?ae:ae.indexOf(le)>-1||!1,ue=R.a.useRef([]),be="function"===typeof N?N({data:n,columns:F}):F,je=Array.isArray(n)&&n.length,pe=Object(E.useMemo)((()=>O&&R.a.isValidElement(O)?O:Object(M.jsx)(M.Fragment,{})),[O]),he=e=>{if(W&&q){const t=q(e);Z&&(e=Z(e)),l.push(t,e)}else q&&q(e)},me=(e,t)=>{re&&re({field:t,order:ce===t&&"asc"===ie?"desc":"asc"})},fe=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(M.jsxs)(p.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(M.jsx)(S.a,{color:"error"}),Object(M.jsx)(h.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,ge,{row:t}),content:()=>Object(M.jsx)(j.a,{sx:{color:"#000"},children:y.a.isFunction(ne)?ne({row:t}):ne||"Are you sure you want to delete the record?"})};z({...T,open:!0,config:a})};function ge(){z({...T,open:!1})}const xe=Object(E.useMemo)((()=>je?Object(M.jsxs)(E.Fragment,{children:[Object(M.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(M.jsx)(B,{columns:be,config:t,role:le,handleRequestSort:me,hasSort:se})}),Object(M.jsx)(u.a,{children:Object(M.jsx)($,{role:le,columns:be,data:n,config:t,checkboxes:k,checkboxKey:P,handleRowClick:he,handleDelete:fe,onCheckboxChange:C,hasDeletePermission:de})})]}):Object(M.jsx)("tbody",{style:{height:300},children:Object(M.jsx)("tr",{children:Object(M.jsx)("td",{style:{textAlign:"center"},children:Object(M.jsx)("h4",{children:Y||"No records found"})})})})),[n,t,k]);return Object(E.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.current)&&void 0!==e&&e.table){const e=ue.current.table.offsetHeight;A({...I,height:e>200?e:void 0})}}),[]),Object(E.useEffect)((()=>{var e;(v||x)&&null!==(e=ue.current)&&void 0!==e&&e.tableContainer&&ue.current.tableContainer.scrollTo(0,0)}),[v,x]),Object(M.jsxs)(a.a,{className:"enhanced-table",sx:{height:je&&!m?oe||"95%":"auto"},children:[Object(M.jsxs)(s.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[pe,ee&&Object(M.jsx)(f.a,{title:"Refresh",onClick:g,children:Object(M.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(M.jsxs)(c.a,{component:o.a,className:"tableContainer",ref:e=>ue.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:je&&!m?"calc(100% - 80px)":"auto",position:"relative"},children:[m?(()=>{const e=window.innerHeight-180,t=(I.height?I.height>e?e:I.height:e)||e;return Object(M.jsx)(p.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(M.jsx)(p.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(M.jsx)(L.a,{})})})})():Object(M.jsx)(r.a,{ref:e=>ue.current.table=e,"aria-label":"caption table",size:X,stickyHeader:!0,children:xe}),Object(M.jsx)(i.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||x||!1,children:Object(M.jsx)(L.a,{sx:{color:"inherit"}})})]}),!m&&n.length>0&&Object(M.jsx)(D,{data:n,onPageChange:H,page:U,count:K,limit:V,onLimitChange:Q||J,isLoading:x||v}),Object(M.jsx)(_.a,{className:"enhancedTable_dialog",open:T.open,config:T.config,onClose:ge})]})};t.a=Object(P.withRouter)(Object(E.memo)(H))},285:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[i,r]=Object(a.useState)(void 0),[s,l]=Object(a.useState)(!1),[d,u]=Object(a.useState)(null),[b,j]=Object(a.useState)(!1);function p(){let a=e;n.queryParams&&(a="".concat(a,"?").concat(Object(c.m)(n.queryParams))),Object(o.b)({uri:a,callback:t,showTriggers:!1}).then((e=>{e.data&&r(e.data)})).finally((()=>{l(!1),j(!1)}))}return Object(a.useEffect)((()=>{l(!0),u(null),p()}),[e]),{data:i,loading:s,error:d,refetch:function(){j(!0),p()},isRefetching:b}}},345:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),i=(0,o.default)((0,c.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=i},355:function(e,t,n){"use strict";var a=n(1),o=n(4),c=n(0),i=n(135),r=n(34),s=n(41),l=n(24),d=n(2);const u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},j=c.forwardRef((function(e,t){const n=Object(r.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:p,appear:h=!0,children:m,easing:f,in:g,onEnter:x,onEntered:O,onEntering:v,onExit:w,onExited:C,onExiting:y,style:k,timeout:S=j,TransitionComponent:E=i.a}=e,R=Object(o.a)(e,u),P=c.useRef(null),I=Object(l.a)(P,m.ref,t),A=e=>t=>{if(e){const n=P.current;void 0===t?e(n):e(n,t)}},T=A(v),M=A(((e,t)=>{Object(s.b)(e);const a=Object(s.a)({style:k,timeout:S,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),x&&x(e,t)})),z=A(O),F=A(y),D=A((e=>{const t=Object(s.a)({style:k,timeout:S,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),w&&w(e)})),L=A(C);return Object(d.jsx)(E,Object(a.a)({appear:h,in:g,nodeRef:P,onEnter:M,onEntered:z,onEntering:T,onExit:D,onExited:L,onExiting:F,addEndListener:e=>{p&&p(P.current,e)},timeout:S},R,{children:(e,t)=>c.cloneElement(m,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden"},b[e],k,m.props.style),ref:I},t))}))}));t.a=j},384:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{showPagination:i=!0,page:r,limit:s,lazyFetchCondition:l}=t,[d,u]=Object(a.useState)(void 0),[b,j]=Object(a.useState)({page:r||1,limit:s||10}),[p,h]=Object(a.useState)(!1),[m,f]=Object(a.useState)(!1),[g,x]=Object(a.useState)(!1);function O(a){const{page:r,limit:s}=a||{};let l=e;i&&(r&&s&&j({page:r,limit:s}),l="".concat(l,"?page=").concat(r||b.page,"&limit=").concat(s||b.limit)),t.queryParams&&(l="".concat(l,"&").concat(Object(c.m)(t.queryParams))),Object(o.b)({uri:l,callback:n,showTriggers:!1}).then((e=>{e.data&&u(e.data)})).finally((()=>{h(!1),f(!1),x(!1)}))}const v=()=>{h(!0),O()};return Object(a.useEffect)((()=>{("function"===typeof l?l():l)&&v()}),[]),{lazyFetch:v,data:d,loading:p,refetch:function(){f(!0),O({page:r,limit:b.limit})},isRefetching:m,onLimitChange:e=>{let{value:t}=e;x(!0),O({limit:t,page:b.page})},onPageChange:(e,t)=>{x(!0),O({page:t,limit:b.limit})},isPaginationLoading:g,...b}}}}]);
//# sourceMappingURL=22.80602c51.chunk.js.map