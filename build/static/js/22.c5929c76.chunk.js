(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[22],{1002:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),r=(0,o.default)((0,c.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.default=r},1110:function(e,t,n){"use strict";n.r(t);var a=n(201),o=n(1005),c=n(0),r=n.n(c),i=n(72),s=n(13),l=n(88),d=n(247),u=n(10),b=n(2);const j=Object(u.a)(d.a)((e=>{let{theme:t}=e;return{padding:"8px 16px"}}));var m=e=>{let{title:t,children:n,sx:a={}}=e;return Object(b.jsxs)(j,{elevation:0,variant:"outlined",sx:a,children:[Object(b.jsx)(l.a,{variant:"h6",fontWeight:600,children:t}),n]})},p=n(277),h=n(248),f=n(90),g=n(73),x=n(345),O=n.n(x);const v=e=>{let{path:t,editOpCosts:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columnsBuilder:e=>{let{data:t,columns:n}=e,a=6;return t.forEach((e=>{const{additionalCosts:t}=e;for(let o in t){n.findIndex((e=>e.id===o))<0&&(n.splice(a,0,{id:o,label:o,valueFormatter:(e,t)=>Object(f.e)(t.additionalCosts[o])}),a++)}})),n},columns:[{id:"ownerOperatorId",label:"Owner Operator",valueFormatter(e){const{firstName:t,lastName:n,name:a}=e||{};return a||t+" "+(n||"")}},{id:"lease",label:"Lease (%)",valueFormatter:e=>e+"%"},{id:"truckInsurance",label:"Truck Insurance",valueFormatter:e=>Object(f.e)(e)},{id:"trailerInsurance",label:"Trailer Insurance",valueFormatter:e=>Object(f.e)(e)},{id:"eld",label:"ELD",valueFormatter:e=>Object(f.e)(e)},{id:"parking",label:"Parking",valueFormatter:e=>Object(f.e)(e)},{id:"total",label:"Total",valueFormatter:e=>Object(f.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(b.jsx)(h.a,{color:"primary",component:i.b,to:t+g.g+"/".concat(n._id),children:Object(b.jsx)(O.a,{})})}}]}},C=e=>{let{path:t,editEfsTransactionRates:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columns:[{id:"AmountRange",label:"Amount Range",renderer:e=>{let{row:t}=e;const{maxAmount:n,minAmount:a}=t||{};return"$".concat(a,"-").concat(n)}},{id:"transactionCost",label:"Transaction Cost",valueFormatter:e=>Object(f.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(b.jsx)(h.a,{color:"primary",component:i.b,to:t+g.a+"/".concat(n._id),children:Object(b.jsx)(O.a,{})})}}]}};var w=n(285),y=n(97),k=n(200),S=n(1136),E=n(265),R=n(255),A=n(264),P=n(28),I=n(384);const T=e=>{let{id:t,data:n}=e;const a=Object(s.useHistory)(),{mutation:o,loading:r}=Object(A.a)(y.f+"/".concat(t)),{mutation:i,loading:l}=Object(A.a)(y.f),[d,u]=Object(c.useState)({maxAmount:null===n||void 0===n?void 0:n.maxAmount,minAmount:null===n||void 0===n?void 0:n.minAmount,transactionCost:null===n||void 0===n?void 0:n.transactionCost}),[j,m]=Object(c.useState)({}),p=e=>{let{name:t,value:n}=e;u({...d,[t]:n}),m({...j,[t]:""})},h=e=>{let{success:t,data:n}=e;t?(Object(P.a)(n.message),Object(f.o)("refetchEfsTransactionCosts"),a.replace(g.b+"/serviceCosts")):Object(P.a)(n.message,"error")};return Object(b.jsxs)(k.a,{container:!0,spacing:3,component:"form",sx:{width:{xs:"auto"}},onSubmit:e=>{e.preventDefault();const{valid:n,errors:a}=function(e){let{minAmount:t,maxAmount:n,transactionCost:a}=e,o=!0,c={};return t||(o=!1,c.minAmount="Enter Minimum Amount"),n||(o=!1,c.maxAmount="Enter Maximum Amount"),a||(o=!1,c.transactionCost="Enter Transaction Cost"),{valid:o,errors:c}}(d);if(!n)return m(a);t?o(d,"put",h):i(d,null,h)},children:[Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"minAmount",value:d.minAmount,onChange:p,label:"Minimum Amount",errors:j,type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"maxAmount",value:d.maxAmount,onChange:p,label:"Maximum  Amount",errors:j,type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{item:!0,xs:12,children:Object(b.jsx)(R.c,{name:"transactionCost",value:d.transactionCost,onChange:p,label:"Transaction Cost",errors:j,type:"number",InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(k.a,{xs:12,item:!0,children:Object(b.jsx)(R.d,{fullWidth:!0,isLoading:r||l,type:"submit",children:r||l?t?"Updating...":"Saving...":t?"Update":"Save"})})]})};var M=e=>{const{match:{params:{id:t}}={}}=e,{data:n,loading:a}=Object(I.a)(y.f+"/".concat(t),{lazyFetchCondition:()=>"new"!==t});return a?Object(b.jsx)(R.b,{}):Object(b.jsx)(E.a,{config:{title:"Edit EFS Transaction Cost",preventBackdropClick:!0,maxWidth:"sm"},children:Object(b.jsx)(T,{id:"new"===t?null:t,data:null===n||void 0===n?void 0:n.data})})},z=n(57),F=n(1002),D=n.n(F),L=n(1153),_=n(1007),G=n(235),N=n(293);const W=Object(u.a)((e=>Object(b.jsx)(_.a,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(G.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function q(e){let{data:t=[],onRefetch:n}=e;const[i,s]=r.a.useState(null),d=Boolean(i),u=()=>{s(null)},j=e=>{let{success:t}=e;t&&n&&n(),u()},m=e=>{Object(N.c)({message:Object(b.jsxs)(a.a,{children:[Object(b.jsx)(l.a,{variant:"h6",children:"Are you sure you want to delete column ".concat(e,"?")}),Object(b.jsx)(l.a,{variant:"subtitle2",color:"text.secondary",align:"center",sx:{mt:2},children:"This will remove the column from every record."})]}),uri:y.h,afterSuccessCb:j,body:{key:e}})()},p=Object(c.useMemo)((()=>{const e=[];return t.forEach((t=>{const{additionalCosts:n}=t||{};for(let a in n)e.includes(a)||e.push(a)})),e.map((e=>Object(b.jsx)(L.a,{onClick:m.bind(this,e),disableRipple:!0,children:e},e)))}),[t]);return Object(b.jsxs)(a.a,{sx:{display:p.length?"flex":"none"},children:[Object(b.jsx)(o.a,{id:"demo-customized-button","aria-controls":d?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,variant:"contained",disableElevation:!0,color:"error",onClick:e=>{s(e.currentTarget)},endIcon:Object(b.jsx)(D.a,{}),children:"Delete"}),Object(b.jsx)(W,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:i,open:d,onClose:u,children:p})]})}const B=e=>{let{visible:t,onRefetch:n,data:r,showAlert:i,onCloseAlert:s}=e;const[l,d]=Object(c.useState)(""),u=Object(c.useRef)(null),{mutation:j,loading:m}=Object(A.a)(y.b),p=Object(c.useCallback)((e=>{e.preventDefault();let t=!0;if(r.forEach((e=>{const{additionalCosts:n}=e||{};n.hasOwnProperty(l)&&(t=!1)})),!t)return u.current.focus(),i({message:l+" is already present as a Cost. Please check the Category provided."});j({category:l},"post").then((e=>{let{success:t,data:a}=e;s(),t?(Object(P.a)(a.message),n(),d("")):i({message:a.message})}))}),[l,j,n]);return t?Object(b.jsxs)(a.a,{sx:{display:"flex",gap:1.5},component:"form",onSubmit:p,children:[Object(b.jsx)(R.c,{isCapitalize:!0,label:"Add Category",value:l,onChange:e=>{let{value:t}=e;return d(t)},inputRef:u}),Object(b.jsx)(o.a,{variant:"contained",type:"submit",disabled:m||l.length<3,children:"Add"}),Object(b.jsx)(q,{data:r,onRefetch:n})]}):null};var $=Object(c.memo)(B),H=n(1),U=n(4),K=n(102),V=n(233),J=n(186),Q=n(196),X=n(324),Y=n(188),Z=n(58),ee=n(240),te=n(199);const ne=(e,t,n)=>{const a=e.keys[0];if(Array.isArray(t))t.forEach(((t,a)=>{n(((t,n)=>{a<=e.keys.length-1&&(0===a?Object.assign(t,n):t[e.up(e.keys[a])]=n)}),t)}));else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(o=e.keys,c=Object.keys(t),o.filter((e=>c.includes(e))))).forEach((o=>{if(-1!==e.keys.indexOf(o)){const c=t[o];void 0!==c&&n(((t,n)=>{a===o?Object.assign(t,n):t[e.up(o)]=n}),c)}}))}else"number"!==typeof t&&"string"!==typeof t||n(((e,t)=>{Object.assign(e,t)}),t);var o,c};function ae(e){return e?"Level".concat(e):""}function oe(e){return e.unstable_level>0&&e.container}function ce(e){return function(t){return"var(--Grid-".concat(t,"Spacing").concat(ae(e.unstable_level),")")}}function re(e){return function(t){return 0===e.unstable_level?"var(--Grid-".concat(t,"Spacing)"):"var(--Grid-".concat(t,"Spacing").concat(ae(e.unstable_level-1),")")}}function ie(e){return 0===e.unstable_level?"var(--Grid-columns)":"var(--Grid-columns".concat(ae(e.unstable_level-1),")")}const se=e=>{let{theme:t,ownerState:n}=e;const a=ce(n),o={};return ne(t.breakpoints,n.gridSize,((e,t)=>{let c={};!0===t&&(c={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(c={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(c={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / ").concat(ie(n)).concat(oe(n)?" + ".concat(a("column")):"",")")}),e(o,c)})),o},le=e=>{let{theme:t,ownerState:n}=e;const a={};return ne(t.breakpoints,n.gridOffset,((e,t)=>{let o={};"auto"===t&&(o={marginLeft:"auto"}),"number"===typeof t&&(o={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / ").concat(ie(n),")")}),e(a,o)})),a},de=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=oe(n)?{["--Grid-columns".concat(ae(n.unstable_level))]:ie(n)}:{"--Grid-columns":12};return ne(t.breakpoints,n.columns,((e,t)=>{e(a,{["--Grid-columns".concat(ae(n.unstable_level))]:t})})),a},ue=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=re(n),o=oe(n)?{["--Grid-rowSpacing".concat(ae(n.unstable_level))]:a("row")}:{};return ne(t.breakpoints,n.rowSpacing,((e,a)=>{var c;e(o,{["--Grid-rowSpacing".concat(ae(n.unstable_level))]:"string"===typeof a?a:null==(c=t.spacing)?void 0:c.call(t,a)})})),o},be=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=re(n),o=oe(n)?{["--Grid-columnSpacing".concat(ae(n.unstable_level))]:a("column")}:{};return ne(t.breakpoints,n.columnSpacing,((e,a)=>{var c;e(o,{["--Grid-columnSpacing".concat(ae(n.unstable_level))]:"string"===typeof a?a:null==(c=t.spacing)?void 0:c.call(t,a)})})),o},je=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a={};return ne(t.breakpoints,n.direction,((e,t)=>{e(a,{flexDirection:t})})),a},me=e=>{let{ownerState:t}=e;const n=ce(t),a=re(t);return Object(H.a)({minWidth:0,boxSizing:"border-box"},t.container&&Object(H.a)({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},{margin:"calc(".concat(n("row")," / -2) calc(").concat(n("column")," / -2)")},t.disableEqualOverflow&&{margin:"calc(".concat(n("row")," * -1) 0px 0px calc(").concat(n("column")," * -1)")}),(!t.container||oe(t))&&Object(H.a)({padding:"calc(".concat(a("row")," / 2) calc(").concat(a("column")," / 2)")},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:"".concat(a("row")," 0px 0px ").concat(a("column"))}))},pe=e=>{const t=[];return Object.entries(e).forEach((e=>{let[n,a]=e;!1!==a&&void 0!==a&&t.push("grid-".concat(n,"-").concat(String(a)))})),t},he=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach((e=>{let[a,o]=e;n(o)&&t.push("spacing-".concat(a,"-").concat(String(o)))})),t}return[]},fe=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map((e=>{let[t,n]=e;return"direction-".concat(t,"-").concat(n)})):["direction-xs-".concat(String(e))],ge=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],xe=Object(te.a)(),Oe=Object(X.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function ve(e){return Object(Y.a)({props:e,name:"MuiGrid",defaultTheme:xe})}var Ce=n(12);const we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=Oe,useThemeProps:n=ve,componentName:a="MuiGrid"}=e,o=c.createContext(void 0),r=t(de,be,ue,se,je,me,le),i=c.forwardRef((function(e,t){var i,s,l,d,u,j,m,p;const h=Object(Z.a)(),f=n(e),g=Object(ee.a)(f),x=c.useContext(o),{className:O,children:v,columns:C=12,container:w=!1,component:y="div",direction:k="row",wrap:S="wrap",spacing:E=0,rowSpacing:R=E,columnSpacing:A=E,disableEqualOverflow:P,unstable_level:I=0}=g,T=Object(U.a)(g,ge);let M=P;I&&void 0!==P&&(M=e.disableEqualOverflow);const z={},F={},D={};Object.entries(T).forEach((e=>{let[t,n]=e;void 0!==h.breakpoints.values[t]?z[t]=n:void 0!==h.breakpoints.values[t.replace("Offset","")]?F[t.replace("Offset","")]=n:D[t]=n}));const L=null!=(i=e.columns)?i:I?void 0:C,_=null!=(s=e.spacing)?s:I?void 0:E,G=null!=(l=null!=(d=e.rowSpacing)?d:e.spacing)?l:I?void 0:R,N=null!=(u=null!=(j=e.columnSpacing)?j:e.spacing)?u:I?void 0:A,W=Object(H.a)({},g,{level:I,columns:L,container:w,direction:k,wrap:S,spacing:_,rowSpacing:G,columnSpacing:N,gridSize:z,gridOffset:F,disableEqualOverflow:null!=(m=null!=(p=M)?p:x)&&m,parentDisableEqualOverflow:x}),q=((e,t)=>{const{container:n,direction:o,spacing:c,wrap:r,gridSize:i}=e,s={root:["root",n&&"container","wrap"!==r&&"wrap-xs-".concat(String(r)),...fe(o),...pe(i),...n?he(c,t.breakpoints.keys[0]):[]]};return Object(V.a)(s,(e=>Object(J.a)(a,e)),{})})(W,h);let B=Object(b.jsx)(r,Object(H.a)({ref:t,as:y,ownerState:W,className:Object(K.a)(q.root,O)},D,{children:c.Children.map(v,(e=>{var t;return c.isValidElement(e)&&Object(Q.a)(e,["Grid"])?c.cloneElement(e,{unstable_level:null!=(t=e.props.unstable_level)?t:I+1}):e}))}));return void 0!==M&&M!==(null!=x&&x)&&(B=Object(b.jsx)(o.Provider,{value:M,children:B})),B}));return i.muiName="Grid",i}({createStyledComponent:Object(u.a)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>Object(Ce.a)({props:e,name:"MuiGrid2"})});var ye=we;const ke=e=>{let{id:t,data:n}=e;const[a,o]=Object(c.useState)(n),r=Object(s.useHistory)(),[i,l]=Object(c.useState)(n.additionalCosts),{mutation:d,loading:u}=Object(A.a)(y.g+"/".concat(t)),{additionalCosts:j}=n,m=Object(c.useMemo)((()=>{const e=[];for(let t in j)e.push(Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:t,value:i[t],type:"number",label:t,onChange:p,onBlur:h,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})},t));return e}),[i,j]);function p(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n})))}function h(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n||0})))}const x=e=>{let{name:t,value:n}=e;o({...a,[t]:n})};function O(e){let{name:t,value:n}=e;o({...a,[t]:parseFloat(n)||0})}return Object(b.jsxs)(ye,{spacing:2,container:!0,sx:{maxWidth:{xs:"auto",sm:"auto"}},component:"form",onSubmit:e=>{e.preventDefault();const{lease:t,truckInsurance:n,trailerInsurance:o,eld:c,parking:s}=a,l=Object(f.j)({lease:t,truckInsurance:n,trailerInsurance:o,eld:c,parking:s,additionalCosts:i});d(l,"put").then((e=>{let{success:t,data:n}=e;t?(r.replace(g.b+"/serviceCosts"),Object(P.a)(n.message),Object(f.o)("refetchServiceCosts")):Object(P.a)(n.message,"error")}))},children:[Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:"lease",value:null===a||void 0===a?void 0:a.lease,type:"number",label:"Lease (%)",autoFocus:!0,onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"%"})}})}),Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:"truckInsurance",value:null===a||void 0===a?void 0:a.truckInsurance,type:"number",label:"Truck Insurance",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:"trailerInsurance",value:null===a||void 0===a?void 0:a.trailerInsurance,type:"number",label:"Trailer Insurance",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:"eld",value:null===a||void 0===a?void 0:a.eld,type:"number",label:"ELD",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),Object(b.jsx)(ye,{xs:12,md:6,children:Object(b.jsx)(R.c,{name:"parking",value:null===a||void 0===a?void 0:a.parking,type:"number",label:"Parking",onChange:x,onBlur:O,InputProps:{startAdornment:Object(b.jsx)(S.a,{position:"start",children:"$"})}})}),m,Object(b.jsx)(ye,{xs:12,children:Object(b.jsx)(R.d,{type:"submit",fullWidth:!0,isLoading:u,loadingText:"Updating...",children:"Update"})})]})};var Se=e=>{let{match:t}=e;const{params:{id:n}}=t,{data:a,loading:o}=Object(w.a)(y.g+"/".concat(n));return o?Object(b.jsx)(R.b,{}):Object(b.jsx)(E.a,{config:{title:"Edit Service Cost",preventBackdropClick:!0,maxWidth:"sm"},children:Object(b.jsx)(ke,{id:n,data:(null===a||void 0===a?void 0:a.data)||{}})})};t.default=e=>{const{viewEfsTransactionRates:t,editEfsTransactionRates:n,addEfsTransactionRates:r,viewOpCosts:l,addOpCosts:d,editOpCosts:u}=z.a.getUserPermissionsByDashboardId("serviceCosts"),{match:{path:j}={}}=e,[h,x]=Object(c.useState)({open:!1,message:"",severity:"error"}),{data:O={},loading:k,refetch:S,isRefetching:E}=Object(w.a)(y.g),{data:A={},loading:P,refetch:I,isRefetching:T}=Object(w.a)(y.f),F=Object(c.useMemo)((()=>r&&Object(b.jsx)(o.a,{component:i.b,to:j+"/efs/new",variant:"contained",children:"Add"})),[r,j]);Object(c.useEffect)((()=>(Object(f.a)(window,"refetchEfsTransactionCosts",I),Object(f.a)(window,"refetchServiceCosts",S),()=>{Object(f.l)(window,"refetchEfsTransactionCosts",I),Object(f.l)(window,"refetchServiceCosts",I)})),[]);const D=Object(c.useCallback)((e=>{let{message:t,severity:n="error"}=e;x({open:!0,message:t,severity:n})}),[h]),L=Object(c.useCallback)((()=>{x({...h,open:!1})}),[h]);return Object(b.jsxs)(a.a,{sx:{height:"100%"},className:"dashboardRoot",children:[Object(b.jsx)(R.a,{config:h,onClose:L,inStyles:{width:"fit-content",margin:"auto",mt:1}}),l&&Object(b.jsx)(m,{title:"Owner Operator Costs",sx:{mt:2},children:Object(b.jsx)(p.a,{data:O.data,config:v({path:j,editOpCosts:u}),onRefetch:S,loading:k,actions:Object(b.jsx)($,{visible:d,onRefetch:S,data:O.data,showAlert:D,onCloseAlert:L}),isRefetching:E})}),t&&Object(b.jsx)(m,{title:"EFS Transaction Costs",sx:{mt:2},children:Object(b.jsx)(p.a,{data:A.data,config:C({path:j,editEfsTransactionRates:n}),isRefetching:T,onRefetch:I,loading:P,actions:F})}),Object(b.jsx)(s.Route,{path:j+"/efs/:id",component:M}),Object(b.jsx)(s.Route,{path:j+"".concat(g.g,"/:id"),component:Se})]})}},264:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,s]=Object(a.useState)(!1);return{mutation:async function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;r.queryParams&&(d=d+"?"+Object(c.m)(r.queryParams)),s(!0),i||(i="post");const u=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(i.toLowerCase());if(u)return u({uri:d,callback:t,body:a,showTriggers:n}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{s(!1)}))},loading:i}}},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(355),o=n(236),c=n(0),r=n.n(c),i=n(10),s=n(34),l=n(552),d=n(553),u=n(655),b=n(248),j=n(273),m=n.n(j),p=n(13),h=n(90),f=n(73),g=n(2);const x=Object(i.a)(l.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),O=e=>{const{children:t,onClose:n,showClose:a,titleStyles:o,...c}=e;return Object(g.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...o},...c,children:[a?Object(g.jsx)(b.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(g.jsx)(m.a,{})}):null,t]})};function v(e){const{config:t={},children:n,closeCallback:i}=e,{title:l="",closeUrl:d="",showClose:b=!0,paperProps:j={},preventBackdropClick:m=!1,titleStyles:v={},maxWidth:C="md"}=t,[w,y]=r.a.useState(!1),k=Object(s.a)(),S=Object(o.a)(k.breakpoints.down("sm")),E=function(e){m&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||y(!1)};r.a.useEffect((()=>(y(!0),Object(h.a)(window,"closeModal",E),()=>Object(h.l)(window,"closeModal",E))),[]);const R=Object(c.useMemo)((()=>r.a.forwardRef((function(e,t){const n=Object(p.useHistory)();return Object(g.jsx)(a.a,{ref:t,...e,onExited:()=>i?i():d?n.push(d||f.b):n.goBack()})}))),[]);return Object(g.jsxs)(x,{onClose:E,"aria-labelledby":l||"customized-dialog-title",open:w,maxWidth:C,TransitionComponent:R,PaperProps:j,fullScreen:S,children:[l&&Object(g.jsx)(O,{id:l||"customized-dialog-title",onClose:E,showClose:b,titleStyles:v,children:l}),Object(g.jsx)(u.a,{dividers:!0,sx:{borderTop:"none"},children:n})]})}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(1005),c=n(552),r=n(1009),i=n(655),s=n(553),l=n(237),d=n(2);const u=a.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function b(e){const{open:t=!1,config:n,onClose:a,preventBackdropClose:l=!1,className:b}=e,{title:j,onOk:m,okText:p="Save",content:h,onCancel:f}=n,g=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||a()};return Object(d.jsx)("div",{children:Object(d.jsxs)(c.a,{className:b,open:t,TransitionComponent:u,onClose:g,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof j?j({...n}):Object(d.jsx)(s.a,{sx:{fontWeight:550},children:j}),Object(d.jsx)(i.a,{children:"function"===typeof h?h({config:n}):h}),Object(d.jsxs)(r.a,{children:["function"===typeof f?f({config:n,onClose:a}):Object(d.jsx)(o.a,{variant:"outlined",onClick:g,children:"Cancel"}),"function"===typeof p?p({config:n,onOk:m}):Object(d.jsx)(o.a,{variant:"contained",color:p.equalsIgnoreCase("delete")?"error":"primary",onClick:m,children:p})]})]})})}},273:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),r=(0,o.default)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},277:function(e,t,n){"use strict";var a=n(201),o=n(247),c=n(1160),r=n(1149),i=n(1161),s=n(510),l=n(295),d=n.n(l),u=n(1159),b=n(1158),j=n(1006),m=n(200),p=n(88),h=n(1121),f=n(248),g=n(1157),x=n(1132),O=n(294),v=n.n(O),C=n(1156),w=n(258),y=n.n(w),k=n(287),S=n.n(k),E=n(0),R=n.n(E),A=n(13),P=n(1111),I=n(10),T=n(255),M=n(2);const z=Object(I.a)(P.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),F=Object(I.a)(s.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var D=e=>{let{data:t=[],onPageChange:n,page:a=1,count:o=0,limit:c=1,onLimitChange:r,isLoading:i}=e;const[l,d]=Object(E.useState)(0);Object(E.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(M.jsxs)(F,{direction:"row",alignItems:"center",children:[Object(M.jsxs)(p.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",o," entries"]}),Object(M.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(M.jsx)(T.f,{disabled:i,name:"pageSize",label:"",value:c,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof r&&r({value:t})}}),Object(M.jsx)(z,{disabled:i,count:Math.ceil(o/c),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},L=n(280),_=n(272),G=n(90),N=n(274);const W=Object(I.a)(C.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),q=Object(I.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function B(e){let{columns:t=[],config:n={},role:a,handleRequestSort:o,hasSort:c}=e;const{headerCellSx:r={},hasDelete:i,sortField:s,sortOrder:l,showCheckbox:d}=n,u=Object(E.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:i="",visible:d=!0,sort:u=!1}=e||{};return(y.a.isFunction(d)?d({column:e,role:a}):d)?Object(M.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r},children:c&&u?Object(M.jsx)(x.a,{onClick:e=>o(e,i),active:i===s,direction:l,sx:{...r},children:n}):n},i||t):null}))),[t,r]);return d&&u.unshift(Object(M.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}},"checkbox-header")),Object(M.jsxs)(g.a,{children:[u,i&&Object(M.jsx)(W,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}})]})}const $=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:o,handleDelete:c,...r}=e;return(n||[]).map(((e,n)=>{const{dataKey:i=""}=a;return i&&(e=e[i]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:o,rowIndex:c,handleDelete:r,hasDeletePermission:i,checkboxKey:s,...l}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:b,rowStyleCb:j,showCheckbox:m=!1}=a,{role:p,onCheckboxChange:x,checkboxes:O}=l;let v={};j&&(v=j({row:t})||{});const C=Object(M.jsx)(W,{sx:{},padding:"none",component:"th",scope:"row",children:Object(M.jsx)(N.a,{title:"Delete",placement:"top",children:Object(M.jsx)(f.a,{onClick:r.bind(void 0,t._id,t),disabled:!i,children:Object(M.jsx)(q,{color:i?"error":"disabled"})})})}),w=n.map(((e,n)=>{const{id:a="",renderer:o,emptyState:r="--",valueFormatter:i,visible:s=!0,cellPadding:l}=e||{};if(!(y.a.isFunction(s)?s({column:e,role:p}):s))return null;let d;return d=i&&y.a.isFunction(i)?i(t[a],t):y.a.isFunction(o)?o({row:t,role:p},c)||r:y.a.get(t,a,r)||r,Object(M.jsx)(W,{padding:l||u||"normal",component:"th",scope:"row",children:d},a+n)}));if(m){if(!s)throw new Error("Checkbox key not provided");const e=O.indexOf(t[s])>-1;w.unshift(Object(M.jsx)(W,{onClick:x.bind(void 0,t),children:Object(M.jsx)(h.a,{checked:e})},"checkbox-".concat(c)))}return Object(M.jsxs)(g.a,{hover:!!b,onClick:e=>{e.preventDefault(),y.a.isFunction(o)&&o(t)},sx:b?{cursor:"pointer",...v}:{...v},children:[w,d&&C]},c)})({row:e,columns:t,config:a,handleRowClick:o,rowIndex:n,handleDelete:c,...r})}))},H=e=>{let{config:t={},data:n=[],history:l,loading:h=!1,onRefetch:g,isRefetching:x,actions:O,isPaginationLoading:v=!1,...C}=e;n=n||[];const{onCheckboxChange:w,checkboxes:k,checkboxKey:A}=C,[P,I]=Object(E.useState)({}),[T,z]=Object(E.useState)({open:!1,config:{}}),{columns:F=[],columnsBuilder:N,onRowClick:W,hasOnClickUrl:q=!0,onPageChange:H,page:U,count:K,limit:V,onPageSizeChange:J,onLimitChange:Q,size:X="medium",emptyMessage:Y="",onRowClickDataCallback:Z,showRefresh:ee=!1,onDelete:te,deleteMessage:ne,deletePermissions:ae=[],containerHeight:oe="",sortField:ce,sortOrder:re="asc",handleSortChange:ie,hasSort:se=!1}=t,{role:le=""}=Object(G.g)().user,de="boolean"===typeof ae?ae:ae.indexOf(le)>-1||!1,ue=R.a.useRef([]),be="function"===typeof N?N({data:n,columns:F}):F,je=Array.isArray(n)&&n.length,me=Object(E.useMemo)((()=>O&&R.a.isValidElement(O)?O:Object(M.jsx)(M.Fragment,{})),[O]),pe=e=>{if(q&&W){const t=W(e);Z&&(e=Z(e)),l.push(t,e)}else W&&W(e)},he=(e,t)=>{ie&&ie({field:t,order:ce===t&&"asc"===re?"desc":"asc"})},fe=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(M.jsxs)(m.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(M.jsx)(S.a,{color:"error"}),Object(M.jsx)(p.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,ge,{row:t}),content:()=>Object(M.jsx)(j.a,{sx:{color:"#000"},children:y.a.isFunction(ne)?ne({row:t}):ne||"Are you sure you want to delete the record?"})};z({...T,open:!0,config:a})};function ge(){z({...T,open:!1})}const xe=Object(E.useMemo)((()=>je?Object(M.jsxs)(E.Fragment,{children:[Object(M.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(M.jsx)(B,{columns:be,config:t,role:le,handleRequestSort:he,hasSort:se})}),Object(M.jsx)(u.a,{children:Object(M.jsx)($,{role:le,columns:be,data:n,config:t,checkboxes:k,checkboxKey:A,handleRowClick:pe,handleDelete:fe,onCheckboxChange:w,hasDeletePermission:de})})]}):Object(M.jsx)("tbody",{style:{height:300},children:Object(M.jsx)("tr",{children:Object(M.jsx)("td",{style:{textAlign:"center"},children:Object(M.jsx)("h4",{children:Y||"No records found"})})})})),[n,t,k]);return Object(E.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.current)&&void 0!==e&&e.table){const e=ue.current.table.offsetHeight;I({...P,height:e>200?e:void 0})}}),[]),Object(E.useEffect)((()=>{var e;(v||x)&&null!==(e=ue.current)&&void 0!==e&&e.tableContainer&&ue.current.tableContainer.scrollTo(0,0)}),[v,x]),Object(M.jsxs)(a.a,{className:"enhanced-table",sx:{height:je&&!h?oe||"95%":"auto"},children:[Object(M.jsxs)(s.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[me,ee&&Object(M.jsx)(f.a,{title:"Refresh",onClick:g,children:Object(M.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(M.jsxs)(c.a,{component:o.a,className:"tableContainer",ref:e=>ue.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:je&&!h?"calc(100% - 80px)":"auto",position:"relative"},children:[h?(()=>{const e=window.innerHeight-180,t=(P.height?P.height>e?e:P.height:e)||e;return Object(M.jsx)(m.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(M.jsx)(m.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(M.jsx)(L.a,{})})})})():Object(M.jsx)(i.a,{ref:e=>ue.current.table=e,"aria-label":"caption table",size:X,stickyHeader:!0,children:xe}),Object(M.jsx)(r.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||x||!1,children:Object(M.jsx)(L.a,{sx:{color:"inherit"}})})]}),!h&&n.length>0&&Object(M.jsx)(D,{data:n,onPageChange:H,page:U,count:K,limit:V,onLimitChange:Q||J,isLoading:x||v}),Object(M.jsx)(_.a,{className:"enhancedTable_dialog",open:T.open,config:T.config,onClose:ge})]})};t.a=Object(A.withRouter)(Object(E.memo)(H))},285:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i]=Object(a.useState)(void 0),[s,l]=Object(a.useState)(!1),[d,u]=Object(a.useState)(null),[b,j]=Object(a.useState)(!1);function m(){let a=e;n.queryParams&&(a="".concat(a,"?").concat(Object(c.m)(n.queryParams))),Object(o.b)({uri:a,callback:t,showTriggers:!1}).then((e=>{e.data&&i(e.data)})).finally((()=>{l(!1),j(!1)}))}return Object(a.useEffect)((()=>{l(!0),u(null),m()}),[e]),{data:r,loading:s,error:d,refetch:function(){j(!0),m()},isRefetching:b}}},345:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),c=n(2),r=(0,o.default)((0,c.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=r},355:function(e,t,n){"use strict";var a=n(1),o=n(4),c=n(0),r=n(135),i=n(34),s=n(41),l=n(24),d=n(2);const u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},j=c.forwardRef((function(e,t){const n=Object(i.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:m,appear:p=!0,children:h,easing:f,in:g,onEnter:x,onEntered:O,onEntering:v,onExit:C,onExited:w,onExiting:y,style:k,timeout:S=j,TransitionComponent:E=r.a}=e,R=Object(o.a)(e,u),A=c.useRef(null),P=Object(l.a)(A,h.ref,t),I=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},T=I(v),M=I(((e,t)=>{Object(s.b)(e);const a=Object(s.a)({style:k,timeout:S,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),x&&x(e,t)})),z=I(O),F=I(y),D=I((e=>{const t=Object(s.a)({style:k,timeout:S,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),C&&C(e)})),L=I(w);return Object(d.jsx)(E,Object(a.a)({appear:p,in:g,nodeRef:A,onEnter:M,onEntered:z,onEntering:T,onExit:D,onExited:L,onExiting:F,addEndListener:e=>{m&&m(A.current,e)},timeout:S},R,{children:(e,t)=>c.cloneElement(h,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden"},b[e],k,h.props.style),ref:P},t))}))}));t.a=j},384:function(e,t,n){"use strict";var a=n(0),o=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{showPagination:r=!0,page:i,limit:s,lazyFetchCondition:l}=t,[d,u]=Object(a.useState)(void 0),[b,j]=Object(a.useState)({page:i||1,limit:s||10}),[m,p]=Object(a.useState)(!1),[h,f]=Object(a.useState)(!1),[g,x]=Object(a.useState)(!1);function O(a){const{page:i,limit:s}=a||{};let l=e;r&&(i&&s&&j({page:i,limit:s}),l="".concat(l,"?page=").concat(i||b.page,"&limit=").concat(s||b.limit)),t.queryParams&&(l="".concat(l,"&").concat(Object(c.m)(t.queryParams))),Object(o.b)({uri:l,callback:n,showTriggers:!1}).then((e=>{e.data&&u(e.data)})).finally((()=>{p(!1),f(!1),x(!1)}))}const v=()=>{p(!0),O()};return Object(a.useEffect)((()=>{("function"===typeof l?l():l)&&v()}),[]),{lazyFetch:v,data:d,loading:m,refetch:function(){f(!0),O({page:i,limit:b.limit})},isRefetching:h,onLimitChange:e=>{let{value:t}=e;x(!0),O({limit:t,page:b.page})},onPageChange:(e,t)=>{x(!0),O({page:t,limit:b.limit})},isPaginationLoading:g,...b}}}}]);
//# sourceMappingURL=22.c5929c76.chunk.js.map