(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(1049),i=n(13),r=n(4),o=n(10),c=n(1),l=n(61),s=n.n(l),u=n(15),d=n(528),b=n(522),j=n(529),p=n(213),f=n(143),O=n.n(f),m=n(58),h=n(2),v=["children","onClose","showClose"],y=Object(u.a)(d.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),g=function(e){var t=e.children,n=e.onClose,a=e.showClose,i=Object(o.a)(e,v);return Object(h.jsxs)(b.a,Object(r.a)(Object(r.a)({sx:{m:0,p:2,textAlign:"center"}},i),{},{children:[a?Object(h.jsx)(p.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(h.jsx)(O.a,{})}):null,t]}))};function x(e){var t=e.config,n=void 0===t?{}:t,o=e.children,l=n.title,u=void 0===l?"":l,d=n.closeUrl,b=void 0===d?"":d,p=(n.okButtonText,n.showClose),f=void 0===p||p,O=n.onOk,v=(void 0===O&&s.a.noop(),n.paperProps),x=void 0===v?{}:v,C=n.maxWidth,w=void 0===C?"xl":C,I=c.useState(!1),L=Object(i.a)(I,2),E=L[0],S=L[1],k=function(){S(!1)};c.useEffect((function(){S(!0)}),[]);var P=Object(c.useMemo)((function(){return c.forwardRef((function(e,t){var n=Object(m.useHistory)();return Object(h.jsx)(a.a,Object(r.a)(Object(r.a)({ref:t},e),{},{onExited:function(){return n.push(b||"/dashboard")}}))}))}),[]);return Object(h.jsxs)(y,{onClose:k,"aria-labelledby":"customized-dialog-title",open:E,maxWidth:w,TransitionComponent:P,PaperProps:x,children:[u&&Object(h.jsx)(g,{id:"customized-dialog-title",onClose:k,showClose:f,children:u}),Object(h.jsx)(j.a,{dividers:!0,sx:{borderTop:"none"},children:o})]})}},1049:function(e,t,n){"use strict";var a=n(3),i=n(11),r=n(1),o=n(210),c=n(80),l=n(102),s=n(55),u=n(2),d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},j=r.forwardRef((function(e,t){var n=Object(c.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},p=e.addEndListener,f=e.appear,O=void 0===f||f,m=e.children,h=e.easing,v=e.in,y=e.onEnter,g=e.onEntered,x=e.onEntering,C=e.onExit,w=e.onExited,I=e.onExiting,L=e.style,E=e.timeout,S=void 0===E?j:E,k=e.TransitionComponent,P=void 0===k?o.a:k,A=Object(i.a)(e,d),H=r.useRef(null),U=Object(s.a)(H,m.ref,t),T=function(e){return function(t){if(e){var n=H.current;void 0===t?e(n):e(n,t)}}},M=T(x),N=T((function(e,t){Object(l.b)(e);var a=Object(l.a)({style:L,timeout:S,easing:h},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),y&&y(e,t)})),R=T(g),D=T(I),F=T((function(e){var t=Object(l.a)({style:L,timeout:S,easing:h},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),C&&C(e)})),W=T(w);return Object(u.jsx)(P,Object(a.a)({appear:O,in:v,nodeRef:H,onEnter:N,onEntered:R,onEntering:M,onExit:F,onExited:W,onExiting:D,addEndListener:function(e){p&&p(H.current,e)},timeout:S},A,{children:function(e,t){return r.cloneElement(m,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||v?void 0:"hidden"},b[e],L,m.props.style),ref:U},t))}}))}));t.a=j},1074:function(e,t,n){"use strict";var a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(79)),r=n(2),o=(0,i.default)((0,r.jsx)("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.default=o},1120:function(e,t,n){"use strict";n.r(t);var a=n(160),i=n(45),r=n(213),o=n(1),c=n(354),l=n(32),s=n(16),u=n(28),d=n(67),b=n(14),j=function(){return function(){var e=Object(u.a)(Object(s.a)().mark((function e(t){var n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:b.m,payload:{loading:!0,data:{}}}),e.prev=1,e.next=4,Object(d.b)({uri:"/api/fmcsa"});case 4:n=e.sent,a=n.data,t({type:b.m,payload:{loading:!1,data:a.data}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:b.m,payload:{loading:!1,data:{}}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=n(58),f=n(40),O=n(50),m=n(177),h=n(41),v=n(138),y=n(190),g=n(5),x=n(4),C=n(13),w=n(1043),I=n(1030),L=n(27),E=n(2),S=function(e){var t=e.onCloseUrl,n=Object(o.useState)({}),r=Object(C.a)(n,2),c=r[0],b=r[1],f=Object(p.useHistory)(),w=Object(o.useState)(!1),S=Object(C.a)(w,2),k=S[0],P=S[1],A=(Object(O.d)().user||{}).id,H=Object(l.d)();Object(o.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(s.a)().mark((function e(){var t,n,a,i,r,o,c,l,u,j;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.b)({uri:"/api/fmcsa/"+A});case 2:t=e.sent,n=t.success,a=t.data,n&&(i=a.data,o=(r=void 0===i?{}:i).autoLiabilityInsurance,c=r.generalLiabilityInsurance,l=r.cargoLiabilityInsurance,u=r.email,j=r.phone,b({autoLiabilityInsurance:o?o.url:"",generalLiabilityInsurance:c?c.url:"",cargoLiabilityInsurance:l?l.url:"",email:u,phone:j}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var U=function(e){var t=e.target,n=t.name,a=t.files;b((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(g.a)({},n,a||null))}))},T=function(e){var t=e.target,n=t.name,a=t.value;b(Object(x.a)(Object(x.a)({},c),{},Object(g.a)({},n,a)))};return Object(E.jsx)(m.a,{component:"form",noValidate:!0,sx:{minWidth:400},onSubmit:function(e){P(!0),e.preventDefault();for(var n=new FormData,a=0,i=Object.keys(c);a<i.length;a++){var r=i[a];if(["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"].indexOf(r)<0){var o=c[r],l=Array.isArray(o)&&!(null===o)?JSON.stringify(o):o;n.append(r,l)}}for(var s=0,u=["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"];s<u.length;s++){var b=u[s],p=c[b];if(p){var O,m=Object(y.a)(p);try{for(m.s();!(O=m.n()).done;){var h=O.value;n.append(b,h)}}catch(v){m.e(v)}finally{m.f()}}}Object(d.d)({uri:"/api/fmcsa",body:n}).then((function(e){Object(L.a)(e.data.message),H(j()),f.push(t)})).catch((function(e){console.log(e),Object(L.a)(e.message,"error")})).finally((function(){return P(!1)}))},children:Object(E.jsxs)(i.a,{spacing:3,children:[Object(E.jsx)(v.a,{type:"email",label:"Email",fullWidth:!0,onChange:T,value:c.email||"",name:"email"}),Object(E.jsx)(v.a,{type:"email",label:"Phone Number",fullWidth:!0,value:c.phone||"",onChange:T,name:"phone"}),Object(E.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(h.a,{children:"General Liability Insurance"}),Object(E.jsxs)("label",{htmlFor:"contained-button-file1",children:[Object(E.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"generalLiabilityInsurance",onChange:U,id:"contained-button-file1"}),Object(E.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(E.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(h.a,{children:"Auto Liability Insurance"}),Object(E.jsxs)("label",{htmlFor:"contained-button-file2",children:[Object(E.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"autoLiabilityInsurance",onChange:U,id:"contained-button-file2"}),Object(E.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(E.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(E.jsx)(h.a,{children:"Cargo Liability Insurance"}),Object(E.jsxs)("label",{htmlFor:"contained-button-file3",children:[Object(E.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"cargoLiabilityInsurance",onChange:U,id:"contained-button-file3"}),Object(E.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(E.jsx)(I.a,{loading:k,loadingIndicator:"Updating...",type:"submit",variant:"contained",children:"Update"})]})})},k=function(e){var t=e.onCloseUrl,n={title:"Update Carrier Profile",closeUrl:t,paperProps:{sx:{width:"auto"}}};return Object(E.jsx)(w.a,{config:n,children:Object(E.jsx)(S,{onCloseUrl:t})})},P=n(54),A=n(364),H=n.n(A),U=n(1074),T=n.n(U);t.default=Object(p.withRouter)((function(e){var t=e.match,n=(void 0===t?{}:t).path,s=Object(p.useRouteMatch)(n+"/updateCarrierProfile"),u=(Object(O.d)().user||{}).role,d=void 0===u?"admin":u,b=Object(l.e)((function(e){return e.carrierProfile})),m=b.data,h=b.loading,v=Object(l.d)();Object(o.useEffect)((function(){v(j())}),[v]);var y=function(e){var t=e.url;return Object(E.jsxs)(i.a,{direction:"row",alignItems:"center",children:[Object(E.jsx)(H.a,{style:{color:P.d}}),Object(E.jsx)(r.a,{onClick:function(){return window.open(t)},children:Object(E.jsx)(T.a,{style:{color:P.a,fontSize:30}})})]})},g={rowCellPadding:"normal",columns:[{id:"companyName",label:"Company Name"},{id:"ein",label:"EIN#"},{id:"dotNumber",label:"DOT#"},{id:"operatingStatus",label:"Operating Status",renderer:function(e){var t=e.row,n=(void 0===t?{}:t).operatingStatus;return Object(O.c)("Y"===n)}},{id:"generalLiabilityInsurance",label:"General Liability",renderer:function(e){var t=e.row.generalLiabilityInsurance.url;return t?Object(E.jsx)(y,{url:t}):"--"}},{id:"autoLiabilityInsurance",label:"Auto Liability",renderer:function(e){var t=e.row.autoLiabilityInsurance.url;return t?Object(E.jsx)(y,{url:t}):"--"}},{id:"cargoLiabilityInsurance",label:"Cargo Liability",renderer:function(e){var t=e.row.cargoLiabilityInsurance.url;return t?Object(E.jsx)(y,{url:t}):"--"}}]};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(c.a,{data:m,loading:h,config:g}),s&&Object(E.jsx)(k,{onCloseUrl:n}),"admin"!==d&&Object(E.jsx)(a.a,{variant:"contained",component:f.b,to:n+"/updateCarrierProfile",sx:{position:"absolute",right:10,"&.MuiButton-contained:hover":{color:"#fff"}},children:"Update Profile"})]})}))}}]);
//# sourceMappingURL=7.f12d1d57.chunk.js.map