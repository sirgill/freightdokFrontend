{"version":3,"sources":["components/invoices/InvoiceService.js","components/invoices/NewInvoice.js","components/invoices/MoveToMyLoads.js","components/invoices/InvoicesList.js","components/Atoms/table/Pagination.jsx","components/layout/Spinner.js","components/Atoms/table/Table.jsx","components/Atoms/form/InputField.js","actions/load.js"],"names":["LOOKUP_DATA","label","cost","InvoiceService","_ref","serviceName","amount","price","quantity","description","index","deleteService","onChangeService","handleChange","e","name","target","value","_jsx","Fragment","children","_jsxs","className","InputField","onChange","placeholder","parseInt","onBlur","type","concat","parseFloat","toFixed","_IconButton","onClick","bind","DeleteOutlineIcon","color","LookUp","_ref3","handleClose","anchorEl","onAddNewService","list","setList","useState","handleClick","selected","_Popover","id","open","Boolean","onClose","anchorOrigin","vertical","horizontal","transformOrigin","_Stack","sx","p","width","autoFocus","val","toLowerCase","filtered","filter","item","includes","_List","map","data","_ListItemButton","_ListItem","disablePadding","secondaryAction","_ListItemText","primary","_Button","startIcon","AddCircleOutlineIcon","InvoiceServiceWrapper","_ref4","services","setAnchorEl","React","servicesComp","useMemo","s","event","currentTarget","Title","variant","_Typography","fontWeight","DialogComponent","_ref2","transition","pdf","setPdf","getTotal","addService","ref","useRef","brokerage","loadNumber","pickup","drop","rate","accessorials","proofDelivery","rateConfirmation","bucketFiles","receiverName","pickupAddress","pickupCity","pickupState","pickupZip","console","log","docFileViewer","doc","src","fileLocation","alt","fileName","reactToPrintContent","useCallback","current","reactToPrintTrigger","_Dialog","PaperProps","TransitionComponent","maxWidth","_DialogContent","_Grid","container","direction","display","media","xs","justifyContent","flexGrow","spacing","textAlign","_Divider","borderBottomWidth","borderColor","blue","height","alignItems","gap","htmlFor","background","borderRadius","cursor","accept","style","getCheckStatusIcon","length","ReactToPrint","content","documentTitle","removeAfterPrint","trigger","Invoice","match","params","history","setOpen","invoices","useSelector","state","load","setServices","find","invoice","_id","useEffect","Transition","forwardRef","props","useHistory","_Zoom","onExited","goBack","reduce","acc","service","obj","row","clone","splice","config","title","preventBackdropClick","Container","styled","theme","breakpoints","down","up","MoveToMyLoads","onCloseUrl","getInvoices","setValue","mutation","loading","useMutation","statuses","LOAD_STATUSES","status","equalsIgnoreCase","disabled","Modal","component","onSubmit","preventDefault","replace","Select","options","showNone","LoadingButton","fullWidth","isLoading","loadingText","InvoicesList","listBarType","dispatch","useDispatch","path","useRouteMatch","role","_state$auth","auth","user","page","limit","loads","resetLoadsSearch","getInvoiceLoads","rowCellPadding","headerCellSx","pt","pb","emptyMessage","showRefresh","columns","renderer","date","moment","pickUpByDate","isValid","format","dropCity","dropState","_ref5","deliverBy","_ref6","modesString","standard","getParsedLoadEquipment","_ref7","weight","pounds","_ref8","emptyState","visible","_ref9","Link","to","DescriptionIcon","_ref10","ReplayIcon","_Box","mt","EnhancedTable","onRefetch","Route","render","exact","StyledPagination","Pagination","StyledStack","Stack","flexWrap","TablePagination","onPageChange","count","setLength","Array","isArray","Typography","fontSize","Math","ceil","size","pgNum","CircularIndeterminate","marginLeft","CircularProgress","Cell","_TableCell","padding","DeleteIcon","_Delete","Headers","hasDelete","headers","column","_","isFunction","bgcolor","_TableRow","TableData","handleRowClick","handleDelete","rest","dataKey","rowIndex","hasDeletePermission","onRowClick","rowStyleCb","rowStyle","deleteCell","scope","cell","i","valueFormatter","isObject","get","hover","getTableCell","isRefetching","tableState","setTableState","dialog","setDialog","hasOnClickUrl","onRowClickDataCallback","onDelete","deleteMessage","deletePermissions","containerHeight","getUserDetail","indexOf","url","push","stopPropagation","ErrorOutlineIcon","okText","onOk","onDialogClose","_DialogContentText","getTableContent","_TableHead","backgroundColor","borderTop","_TableBody","Date","now","_ref$current","table","calculatedHeight","offsetHeight","undefined","_Refresh","_TableContainer","_Paper","boxShadow","mb","getLoader","innerHeight","window","position","Spinner","_Table","el","stickyHeader","Dialog","withRouter","memo","InputPure","labelKey","valueKey","onChangeSelect","showFirstBlank","cloneDeep","error","opts","opt","unshift","Input","arguments","multiple","labelStyle","formGrpStyle","errorText","FormGroup","marginRight","values","l","getLoads","module","async","success","requestGet","uri","GET_LOADS","payload","notification","message","err","setAlert","search","INVOICE_LOAD_FETCHED","response","axios","total","totalPages","searchLoads","res","RETURNED_SEARCHED_LOADS","getState","RESET_SEARCHED_LOADS","rowsPerPage","selectLoad","input","SELECT_LOAD","addLoad","formData","callback","post","ADD_LOAD","updateLoad","form","FormData","key","Object","keys","dataToSend","JSON","stringify","append","files","file","requestPatch","body","query","deleteLoad","load_id","requestDelete","DELETE_LOAD"],"mappings":"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","file":"static/js/21.577b748c.chunk.js","sourcesContent":["import React, { useMemo, Fragment, useState } from \"react\";\r\nimport './styles.css'\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\nimport { Button, IconButton, List, Popover, Stack, ListItem, ListItemText, ListItemButton } from \"@mui/material\";\r\nimport InputField from \"../Atoms/form/InputField\";\r\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\r\n\r\nconst LOOKUP_DATA = [\r\n    { label: \"Detention\", cost: '67' },\r\n    { label: \"Loads\", cost: '1000' },\r\n    { label: \"Lumper\", cost: '786' },\r\n]\r\n\r\nconst InvoiceService = ({ serviceName, amount, price, quantity, description, index, deleteService, onChangeService }) => {\r\n    const handleChange = (e) => {\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        if (onChangeService) {\r\n            onChangeService(index, { name, value })\r\n        }\r\n    }\r\n\r\n    const handleQuantity = (e) => {\r\n        const name = e.target.name\r\n        const value = parseInt(e.target.value)\r\n        onChangeService(index, { name, value })\r\n    }\r\n\r\n    const onBlur = (e) => {\r\n        const value = parseInt(e.target.value)\r\n        const name = e.target.name\r\n        if (value < 1) {\r\n            if (onChangeService) {\r\n                onChangeService(index, { name, value: 1 })\r\n                onChangeService(index, { name: 'price', value: parseInt(amount) });\r\n\r\n            }\r\n        } else {\r\n            if (onChangeService) {\r\n                onChangeService(index, { name, value });\r\n                onChangeService(index, { name: 'price', value: parseInt(amount) * value });\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <tr className='invoiceServiceRow'>\r\n                <td>{serviceName}</td>\r\n                <td><InputField name={'description'} value={description} onChange={handleChange} className='serviceInputField'\r\n                    placeholder={'Enter item description'} /></td>\r\n                <td><InputField name={'quantity'} onChange={handleQuantity} onBlur={onBlur} className='serviceInputField' type='number' value={quantity} /></td>\r\n                <td><InputField name={'price'} onChange={handleChange} value={price} className='serviceInputField' /></td>\r\n                <td>{price ? `$${parseFloat(price).toFixed(2)}` : '$0.00'}</td>\r\n                <td><IconButton onClick={deleteService.bind(null, index)}>\r\n                    <DeleteOutlineIcon color={'error'} />\r\n                </IconButton></td>\r\n            </tr>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n\r\nconst InvoiceDataTableRows = ({ price = 99 }) => {\r\n    return (<Fragment>\r\n        <tr className='InvoiceDataTableRows'>\r\n            <td>9</td>\r\n            <td>a</td>\r\n            <td>b</td>\r\n            <td>c</td>\r\n            <td>{price ? `$${parseFloat(price).toFixed(2)}` : '$0.00'}</td>\r\n        </tr>\r\n    </Fragment>)\r\n}\r\n\r\nconst LookUp = ({ handleClose, anchorEl, onAddNewService }) => {\r\n    const [list, setList] = useState(LOOKUP_DATA)\r\n    const onChange = (e) => {\r\n        const val = e.target.value.toLowerCase();\r\n        if (val) {\r\n            const filtered = list.filter(item => item.label.toLowerCase().includes(val));\r\n            setList(filtered)\r\n        } else setList(LOOKUP_DATA)\r\n    }\r\n\r\n    const handleClick = (selected) => {\r\n        if (onAddNewService) {\r\n            onAddNewService(selected)\r\n        }\r\n        handleClose()\r\n    }\r\n\r\n    return <Popover\r\n        id={'jugal'}\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'center',\r\n            horizontal: 'left',\r\n        }}\r\n    >\r\n        <Stack sx={{ p: 2, width: 500 }}>\r\n            <Stack>\r\n                <InputField name={'search'} autoFocus placeholder='Type on item name' onChange={onChange} />\r\n            </Stack>\r\n            <Stack>\r\n                <List>\r\n                    {list.map(data => {\r\n                        return <ListItemButton key={data.label} onClick={handleClick.bind(null, data)}>\r\n                            <ListItem disablePadding secondaryAction={<span\r\n                                className={'listButtonPickerCost'}>{\"$\" + data.cost}</span>}>\r\n                                <ListItemText primary={data.label} />\r\n                            </ListItem>\r\n                        </ListItemButton>\r\n                    })}\r\n                </List>\r\n            </Stack>\r\n            <Stack>\r\n                <Button startIcon={<AddCircleOutlineIcon />}>\r\n                    Create a new Item\r\n                </Button>\r\n            </Stack>\r\n        </Stack>\r\n    </Popover>\r\n}\r\n\r\nconst InvoiceServiceWrapper = ({ services, onAddNewService, onChangeService, deleteService }) => {\r\n    // console.log('services', services)\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const servicesComp = useMemo(() => {\r\n        return services.map((s, index) => {\r\n            return <InvoiceService {...s} index={index} onChangeService={onChangeService}\r\n                deleteService={deleteService} />\r\n        })\r\n    }, [services])\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <table className='invoiceServiceTable'>\r\n                <tr className='tableHeader'>\r\n                    <th>Services</th>\r\n                    <th />\r\n                    <th>Quantity</th>\r\n                    <th>Price</th>\r\n                    <th>Amount</th>\r\n                    <th />\r\n                </tr>\r\n                {servicesComp}\r\n                <tr className='addNewItemRow'>\r\n                    <td className='addNewItem' onClick={handleClick}>\r\n                        <Button sx={{ width: 135 }} startIcon={<AddCircleOutlineIcon />} aria-describedby={'jugal'}>\r\n                            Add new item\r\n                        </Button>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <LookUp handleClose={handleClose} anchorEl={anchorEl} onAddNewService={onAddNewService} />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default InvoiceServiceWrapper;","import {\r\n    Button,\r\n    Dialog,\r\n    DialogContent,\r\n    Divider,\r\n    Grid,\r\n    Stack,\r\n    Typography,\r\n    Zoom,\r\n} from \"@mui/material\";\r\nimport React, { useEffect, useState, useMemo, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { blue } from \"../layout/ui/Theme\";\r\nimport InputField from \"../Atoms/form/InputField\";\r\nimport ReactToPrint from \"react-to-print\";\r\nimport \"../../App.css\";\r\nimport \"./styles.css\";\r\nimport InvoiceServiceWrapper from \"./InvoiceService\";\r\nimport { getCheckStatusIcon } from \"../../utils/utils\";\r\n\r\nconst Title = ({ name, sx = {}, variant = \"body1\", children }) => {\r\n    return (\r\n        <Typography sx={{ fontWeight: 700, ...sx }} variant={variant}>\r\n            {children || name}\r\n        </Typography>\r\n    );\r\n};\r\n\r\nconst config = {\r\n    rowCellPadding: \"inherit\",\r\n    columns: [\r\n        {\r\n            id: 'serviceName',\r\n            label: 'Service'\r\n        },\r\n        {\r\n            id: 'quantity',\r\n            label: 'Quanity'\r\n        },\r\n        {\r\n            id: 'price',\r\n            label: 'Price'\r\n        },\r\n        {\r\n            id: 'amount',\r\n            label: 'Amount'\r\n        },\r\n    ]\r\n}\r\n\r\nconst DialogComponent = ({\r\n    transition,\r\n    handleClose,\r\n    open,\r\n    data,\r\n    pdf,\r\n    setPdf,\r\n    getTotal,\r\n    services,\r\n    addService,\r\n    onChangeService,\r\n    deleteService\r\n}) => {\r\n    const ref = React.useRef(null);\r\n    const {\r\n        brokerage = \"\",\r\n        loadNumber = \"\",\r\n        pickup = [],\r\n        drop = [],\r\n        rate = \"\",\r\n        accessorials = [],\r\n        proofDelivery = [],\r\n        rateConfirmation = [],\r\n        bucketFiles\r\n    } = data || {},\r\n        [{ receiverName = \"\" }] = drop || [],\r\n        [{ pickupAddress, pickupCity, pickupState, pickupZip }] = pickup;\r\n    console.log(bucketFiles)\r\n\r\n    const docFileViewer = React.useMemo(() => {\r\n        return bucketFiles && bucketFiles.map(doc => {\r\n            return (<div className=\"bucketImageContainer\">\r\n                <div>\r\n                    <img className=\"printThisFull\" src={doc.fileLocation} alt={doc.fileName} />\r\n                </div>\r\n            </div>)\r\n        })\r\n    }, [bucketFiles])\r\n\r\n\r\n\r\n    const reactToPrintContent = React.useCallback(() => {\r\n        return ref.current;\r\n    }, [ref.current]);\r\n\r\n\r\n    const reactToPrintTrigger = React.useCallback(() => {\r\n        // NOTE: could just as easily return <SomeComponent />. Do NOT pass an `onClick` prop\r\n        // to the root node of the returned component as it will be overwritten.\r\n\r\n        // Bad: the `onClick` here will be overwritten by `react-to-print`\r\n        // return <button onClick={() => alert('This will not work')}>Print this out!</button>;\r\n\r\n        // Good\r\n        return (\r\n            <Button className='printInvoice' variant={'contained'}>\r\n                Create Invoice\r\n            </Button>\r\n        );\r\n    }, []);\r\n\r\n    return (\r\n        <Dialog\r\n            className=\"printThisFull\"\r\n            PaperProps={{\r\n                sx: { width: \"70%\" },\r\n            }}\r\n            open={open}\r\n            onClose={handleClose}\r\n            TransitionComponent={transition}\r\n            maxWidth={\"lg\"}\r\n        >\r\n            <DialogContent sx={{ p: 0 }}>\r\n                <div ref={ref} className=\"printArea\">\r\n                    <Grid\r\n                        container\r\n                        direction=\"column\"\r\n                        sx={{ display: pdf ? \"inline-flex\" : \"inline-flex\" }}\r\n                    >\r\n                        <style type=\"text/css\" media=\"print\">{\"\\\r\n               @page {\\ size: landscape;\\ }\\\r\n          \"}</style>\r\n                        <Grid item xs={12} sx={{ p: 3 }}>\r\n                            <Grid container justifyContent={\"space-between\"}>\r\n                                <Grid item sx={{ flexGrow: 1 }}>\r\n                                    <Stack spacing={1}>\r\n                                        <Stack>\r\n                                            <Typography sx={{ textAlign: \"left\" }} variant=\"h5\">\r\n                                                {'Sunny Freight'}\r\n                                            </Typography>\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Stack>\r\n                                        <Stack>\r\n                                            <Typography variant=\"h5\" sx={{ textAlign: \"right\" }}>\r\n                                                Invoice\r\n                                            </Typography>\r\n                                        </Stack>\r\n                                        <Stack>\r\n                                            <InputField label=\"Notes\" type=\"textarea\" />\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Divider sx={{ borderBottomWidth: \"thin\", borderColor: blue }} />\r\n                        <Grid xs={12} item>\r\n                            <Grid container justifyContent={\"space-between\"}>\r\n                                <Grid item>\r\n                                    <Stack spacing={1} sx={{ p: 3 }}>\r\n                                        <Stack>\r\n                                            <Typography>Bill To:</Typography>\r\n                                        </Stack>\r\n                                        <Stack>\r\n                                            <Title sx={{ fontWeight: 700 }}>{brokerage}</Title>\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                </Grid>\r\n                                <Grid item>\r\n                                    <Stack justifyContent={\"space-between\"} sx={{ height: \"100%\" }}>\r\n                                        <Stack direction={\"row\"} alignItems={\"center\"} spacing={2} p={3}>\r\n                                            <Title>Load Number: </Title>\r\n                                            <Title>{loadNumber}</Title>\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Divider sx={{ borderBottomWidth: \"thin\", borderColor: blue }} />\r\n\r\n                        <Grid item sx={{ p: 2 }} display={\"inherit\"} direction=\"column\">\r\n                            <Stack sx={{ textAlign: \"right\" }}>\r\n                                <Title>Total: {getTotal() || '- -'}</Title>\r\n                            </Stack>\r\n                            <Grid container alignItems={\"end\"} justifyContent={\"space-between\"}>\r\n                                <Grid item xs={12} className='invoiceServiceWrapperGrid'>\r\n                                    <InvoiceServiceWrapper\r\n                                        onChangeService={onChangeService} services={services} onAddNewService={addService}\r\n                                        deleteService={deleteService}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid xs={3} item>\r\n                                    {/* <Button variant={\"contained\"} size={\"small\"} className={'addServicesInvoice'}\r\n                                  onClick={addService}>\r\n                                  Add Services\r\n                              </Button> */}\r\n                                </Grid>\r\n                                <Grid xs={6} item>\r\n                                    <Stack justifyContent={\"center\"} gap={\"10px\"} className='stack_Uploaders'>\r\n                                        <Stack direction={\"row\"} justifyContent={'center'} gap={'10px'}>\r\n                                            <label htmlFor={'rateCon'}>\r\n                                                <Typography textAlign={'center'} sx={{\r\n                                                    width: 150,\r\n                                                    background: 'rgb(0, 123, 255)',\r\n                                                    color: '#FFF',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer'\r\n                                                }}>\r\n                                                    Rate Con\r\n                                                </Typography>\r\n                                                <input type={'file'} accept={'pdf'} id={'rateCon'} style={{ display: 'none' }} />\r\n                                            </label>\r\n                                            <div>\r\n                                                {getCheckStatusIcon(!!rateConfirmation.length)}\r\n                                            </div>\r\n                                        </Stack>\r\n                                        <Stack direction={\"row\"} justifyContent={'center'} gap={'10px'}>\r\n                                            <label htmlFor={'pod'}>\r\n                                                <Typography textAlign={'center'} sx={{\r\n                                                    width: 150,\r\n                                                    background: 'rgb(0, 123, 255)',\r\n                                                    color: '#FFF',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer'\r\n                                                }}>\r\n                                                    Proof Of Delivery\r\n                                                </Typography>\r\n                                                <input type={'file'} accept={'pdf'} id={'pod'} style={{ display: 'none' }} />\r\n                                            </label>\r\n                                            <div>\r\n                                                {getCheckStatusIcon(!!proofDelivery.length)}\r\n                                            </div>\r\n                                        </Stack>\r\n                                        <Stack direction={\"row\"} justifyContent={'center'} gap={'10px'}>\r\n                                            <label htmlFor={'accessorials'}>\r\n                                                <Typography textAlign={'center'} sx={{\r\n                                                    width: 150,\r\n                                                    background: 'rgb(0, 123, 255)',\r\n                                                    color: '#FFF',\r\n                                                    borderRadius: '4px',\r\n                                                    cursor: 'pointer'\r\n                                                }}>Accessorials</Typography>\r\n                                                <input type={'file'} accept={'pdf'} id={'accessorials'} style={{ display: 'none' }} />\r\n                                            </label>\r\n                                            <div>\r\n                                                {getCheckStatusIcon(!!accessorials.length)}\r\n                                            </div>\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                </Grid>\r\n                                <Grid xs={3} item display={\"flex\"} justifyContent={\"end\"}>\r\n                                    <ReactToPrint\r\n                                        content={reactToPrintContent}\r\n                                        documentTitle=\"Invoice\"\r\n                                        // onBeforeGetContent={handleOnBeforeGetContent}\r\n                                        // onBeforePrint={handleBeforePrint}\r\n                                        removeAfterPrint\r\n                                        trigger={reactToPrintTrigger}\r\n                                    />\r\n\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                    {docFileViewer}\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog >\r\n    );\r\n};\r\n\r\nconst Invoice = ({ match: { params: { id = \"\" } = {} } = {}, history }) => {\r\n    const [open, setOpen] = useState(false);\r\n    const [pdf, setPdf] = useState(false);\r\n    const invoices = useSelector((state) => state.load.invoices.data) || [],\r\n        [services, setServices] = useState([]),\r\n        data = invoices.find((invoice) => invoice._id === id);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        handleClickOpen();\r\n    }, []);\r\n\r\n    const handleClose = (e, reason = \"\") => {\r\n        // if (reason === 'backdropClick') return\r\n        setOpen(false);\r\n    };\r\n\r\n    const addService = (service) => {\r\n        const { label, cost } = service;\r\n        let obj = {\r\n            serviceName: label,\r\n            description: '',\r\n            quantity: 1,\r\n            price: cost,\r\n            amount: cost\r\n        }\r\n        setServices([...services, obj])\r\n    }\r\n\r\n    const onChangeService = (index, { name, value }) => {\r\n        const row = services[index];\r\n        row[name] = value;\r\n        const clone = [...services];\r\n        clone[index] = row\r\n        setServices(clone);\r\n    }\r\n\r\n    const Transition = useMemo(() => {\r\n        return React.forwardRef(function Transition(props, ref) {\r\n            const history = useHistory();\r\n            return (\r\n                <Zoom\r\n                    ref={ref}\r\n                    {...props}\r\n                    onExited={() => {\r\n                        return history.goBack();\r\n                    }}\r\n                />\r\n            );\r\n        });\r\n    }, []);\r\n\r\n    const getTotal = useCallback(() => {\r\n        const total = services.reduce((acc, service) => parseFloat(service.price) + acc, 0)\r\n        return \"$\" + total.toFixed(2)\r\n    }, [services])\r\n\r\n    const deleteService = (index) => {\r\n        const data = services\r\n        data.splice(index, 1)\r\n        setServices([...data])\r\n    }\r\n\r\n    const createInvoice = async () => {\r\n        // const blob = await pdf(\r\n        //     <Document>\r\n        //         <Page size=\"A4\">\r\n        //             <View>\r\n        //                 jugal\r\n        //             </View>\r\n        //         </Page>\r\n        //     </Document>\r\n        // ).toBlob()\r\n        // console.log(blob)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <DialogComponent\r\n                open={open}\r\n                handleClose={handleClose}\r\n                transition={Transition}\r\n                data={data}\r\n                pdf={pdf}\r\n                setPdf={setPdf}\r\n                services={services}\r\n                addService={addService}\r\n                onChangeService={onChangeService}\r\n                getTotal={getTotal}\r\n                deleteService={deleteService}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Invoice;\r\n","import Modal from \"../Atoms/Modal\";\r\nimport { Grid, Typography } from \"@mui/material\";\r\nimport Select from \"../Atoms/form/Select\";\r\nimport {LOAD_STATUSES} from \"../constants\";\r\nimport {useState} from \"react\";\r\nimport useMutation from \"../../hooks/useMutation\";\r\nimport {LoadingButton} from \"../Atoms\";\r\nimport {styled} from \"@mui/material/styles\";\r\n\r\nconst config = {\r\n    title: 'Move Invoice to My Loads',\r\n    preventBackdropClick: true\r\n}\r\n\r\nconst Container = styled(Grid)(({theme}) => ({\r\n    [theme.breakpoints.down('sm')]: {\r\n        width: 'auto'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n        width: 300\r\n    }\r\n}))\r\n\r\nconst MoveToMyLoads = (props) => {\r\n    const {onCloseUrl, getInvoices, match: {params: {id} = {}} = {}, history} = props,\r\n        [value, setValue] = useState(),\r\n        {mutation, loading} = useMutation('/api/invoice/moveBackToMyLoads'),\r\n        statuses = LOAD_STATUSES.map(status => {\r\n            if(status.id.equalsIgnoreCase('delivered')){\r\n                return {...status, disabled: true}\r\n            }\r\n            return status;\r\n        });\r\n\r\n    const onChange = ({value}) => {\r\n        setValue(value)\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        mutation({id, status: value}, null, () => {\r\n            getInvoices();\r\n            history.replace(onCloseUrl);\r\n        });\r\n    }\r\n\r\n    return <Modal config={config}>\r\n        <Container container component='form' spacing={2} onSubmit={onSubmit}>\r\n            <Grid item>\r\n                <Typography>Select a load status</Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Select\r\n                    label='Status'\r\n                    name='status'\r\n                    options={statuses}\r\n                    onChange={onChange}\r\n                    value={value}\r\n                    showNone={true}\r\n                />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <LoadingButton type='submit' fullWidth disabled={!value} isLoading={loading} loadingText='Moving...'>\r\n                    Move\r\n                </LoadingButton>\r\n            </Grid>\r\n        </Container>\r\n    </Modal>\r\n}\r\n\r\nexport default MoveToMyLoads;","import React, { useEffect, Fragment } from 'react';\r\nimport {Box, Button} from \"@mui/material\";\r\nimport { resetLoadsSearch } from '../../actions/load.js';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getInvoiceLoads } from \"../../actions/load\";\r\nimport EnhancedTable from \"../Atoms/table/Table\";\r\nimport { Link, Route, useRouteMatch } from \"react-router-dom\";\r\nimport Invoice from \"./NewInvoice\";\r\nimport moment from \"moment\";\r\nimport { getParsedLoadEquipment } from \"../../views/openBoard/constants\";\r\nimport MoveToMyLoads from \"./MoveToMyLoads\";\r\nimport ReplayIcon from '@mui/icons-material/Replay';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\n\r\n\r\nexport default function InvoicesList({ listBarType }) {\r\n    const dispatch = useDispatch();\r\n    const {path} = useRouteMatch();\r\n    const { role } = useSelector(state => state.auth?.user) || {};\r\n    const {data = [], page, limit, loading} = useSelector(state => state.load.invoices);\r\n    const loads = useSelector(state => state.load.loads);\r\n\r\n    useEffect(() => {\r\n        dispatch(resetLoadsSearch(listBarType));\r\n        getInvoices();\r\n        // dispatch(getCHLoads(true));\r\n        return () => {\r\n            dispatch(resetLoadsSearch(listBarType));\r\n        }\r\n    }, []);\r\n\r\n    const getInvoices = () => {\r\n        dispatch(getInvoiceLoads());\r\n    }\r\n\r\n    useEffect(() => {\r\n        getInvoices();\r\n    }, [loads]);\r\n\r\n    const config = {\r\n        rowCellPadding: \"normal\",\r\n        headerCellSx: { pt: 1, pb: 1 },\r\n        emptyMessage: 'No Invoices found',\r\n        showRefresh:true,\r\n        page,\r\n        limit,\r\n        columns: [\r\n            {\r\n                id: 'loadNumber',\r\n                label: 'Load Number',\r\n            },\r\n            {\r\n                id: \"country\",\r\n                label: \"Pickup City/State\",\r\n                renderer: ({ row }) => {\r\n                    return (\r\n                        <Fragment>\r\n                            {row.pickup[0].pickupCity}, {row.pickup[0].pickupState}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"pickupDate\",\r\n                label: \"Pickup Date\",\r\n                renderer: ({ row }) => {\r\n                    let date = \"\";\r\n                    if (moment(row.pickUpByDate).isValid()) {\r\n                        date = moment(row.pickUpByDate).format(\"M/DD/YYYY\");\r\n                    }\r\n                    return <Fragment>{date}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"deliveryCountry\",\r\n                label: \"Delivery City/State\",\r\n                renderer: ({ row }) => {\r\n                    return (\r\n                        <Fragment>\r\n                            {row.drop[0].dropCity}, {row.drop[0].dropState}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"deliveryDate\",\r\n                label: \"Delivery Date\",\r\n                renderer: ({ row }) => {\r\n                    let date = \"\";\r\n                    if (moment(row.deliverBy).isValid()) {\r\n                        date = moment(row.deliverBy).format(\"M/DD/YYYY\");\r\n                    }\r\n                    return <Fragment>{date}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"equipment\",\r\n                label: \"Equipment\",\r\n                renderer: ({ row }) => {\r\n                    const { modesString = '', standard = '' } = getParsedLoadEquipment(row) || {}\r\n                    return (\r\n                        <Fragment>\r\n                            {modesString} {standard}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"weight\",\r\n                label: \"Weight\",\r\n                renderer: ({ row }) => {\r\n                    let { weight: { pounds = \"\" } = {} } = row || {};\r\n                    if (pounds) pounds = pounds + \" lbs\";\r\n                    return <Fragment>{pounds}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"company\",\r\n                label: \"Company\",\r\n                renderer: ({ row }) => {\r\n                    return row?.brokerage\r\n                },\r\n                emptyState: '--'\r\n            },\r\n            {\r\n                id: 'rate',\r\n                label: 'Rate',\r\n                emptyState: '--'\r\n            },\r\n            {\r\n                id: '',\r\n                label: 'Invoice',\r\n                visible: ['driver', 'admin', 'superAdmin', 'ownerOperator'].includes(role),\r\n                renderer: ({ row }) => {\r\n                    return <Button\r\n                        component={Link}\r\n                        to={path + '/' + row._id}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        startIcon={<DescriptionIcon />}\r\n                    >\r\n                        Create Invoice\r\n                    </Button>\r\n                }\r\n            },\r\n            {\r\n                id: '',\r\n                label: 'Move',\r\n                visible: ['driver', 'admin', 'superAdmin', 'ownerOperator'].includes(role),\r\n                renderer: ({ row }) => {\r\n                    return <Button\r\n                        component={Link}\r\n                        to={path + '/moveToMyLoads/' + row._id}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                        startIcon={<ReplayIcon />}\r\n                    >\r\n                        My loads\r\n                    </Button>\r\n                }\r\n            },\r\n        ]\r\n    }\r\n\r\n    return (\r\n        <Box sx={{mt: 3}}>\r\n            <Fragment>\r\n                <EnhancedTable config={config} data={data} loading={loading} onRefetch={getInvoices} />\r\n                <Route path={path + '/moveToMyLoads/:id'} render={(props) => <MoveToMyLoads onCloseUrl={path} getInvoices={getInvoices} {...props} />} />\r\n                <Route path={path + '/:id'} exact component={Invoice} onCloseUrl={path} />\r\n            </Fragment>\r\n        </Box>\r\n    )\r\n}","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport styled from \"@mui/material/styles/styled\";\r\n\r\nconst StyledPagination = styled(Pagination)(({theme}) => ({\r\n    \"& .MuiPaginationItem-root\": {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            height: \"1.8rem\",\r\n            width: \"1rem\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst StyledStack = styled(Stack)(({theme}) => ({\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        justifyContent: 'center'\r\n    },\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexWrap: 'wrap'\r\n}))\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 0, count = 0, limit = 1}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (onPageChange) {\r\n            onPageChange(e, pgNum)\r\n        }\r\n    }\r\n\r\n    if (length < 10 && count < 10) {\r\n        return null;\r\n    }\r\n    return (\r\n        <StyledStack direction='row' alignItems={'center'}>\r\n            {count > 10 &&\r\n            <Typography sx={{color: '#525F7F'}} fontSize={12}>Showing {data.length} of {count} entries</Typography>}\r\n            {data.length !== count && <StyledPagination\r\n                count={Math.ceil(count / limit)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                page={page + 1}\r\n                size=\"medium\"\r\n                onChange={onChange}\r\n            />}\r\n        </StyledStack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport {Box} from \"@mui/material\";\r\n\r\n\r\nexport default function CircularIndeterminate() {\r\n  return (\r\n    <Box sx={{\r\n      height: '100%',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      '& > * + *': {\r\n        marginLeft: 2,\r\n      },\r\n    }}>\r\n      <CircularProgress />\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n    Box,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getUserDetail} from \"../../../utils/utils\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}, role}) {\r\n    const {headerCellSx = {}, hasDelete} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>{label}</Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb\r\n    } = config;\r\n    const {role} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                <DeleteIcon color={'error'}/>\r\n            </IconButton>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '', valueFormatter, visible = true} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id]);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.isObject(row) ? _.get(row, id, emptyState) : (row[id] || emptyState);\r\n        }\r\n        return <Cell key={id + i} padding={rowCellPadding || 'normal'} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {...rowStyle}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching}) => {\r\n    data = data || [];\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns = [],\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const length = Array.isArray(data) && data.length;\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config} role={role} />\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    key={Date.now()}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        {showRefresh && <Stack alignItems='flex-end'>\r\n            <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>\r\n        </Stack>}\r\n        <TableContainer\r\n            component={Paper}\r\n            className={''}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 64px)' : 'auto'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit}/>}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","import React from \"react\";\r\nimport _ from 'lodash';\r\nimport {FormGroup, Input} from \"reactstrap\";\r\nimport {Typography} from \"@mui/material\";\r\n\r\nconst InputPure = (props) => {\r\n    const {\r\n        label = '',\r\n        type = 'text',\r\n        options = [],\r\n        labelKey = 'label',\r\n        valueKey = 'id',\r\n        onChangeSelect,\r\n        showFirstBlank = false,\r\n        onBlur\r\n    } = props;\r\n    props = _.cloneDeep(props);\r\n    delete props.showFirstBlank;\r\n\r\n    if (type.toLowerCase() === 'select') {\r\n        if (!Array.isArray(options) || !options.length) {\r\n            console.error('Options are mandatory in array format');\r\n        }\r\n        const opts = (options || []).map((opt) => {\r\n            return <option value={opt[valueKey]} key={opt[valueKey]}>{opt[labelKey]}</option>\r\n        })\r\n        if (showFirstBlank) opts.unshift(<option value=''>{'Select an option'}</option>)\r\n        return <Input\r\n            {...props}\r\n            onChange={onChangeSelect}\r\n            id={label}\r\n            type={type}\r\n        >{opts}</Input>\r\n    }\r\n    return <Input\r\n        id={label}\r\n        type={type}\r\n        {...props}\r\n        onBlur={onBlur}\r\n    />\r\n}\r\nconst InputField = (props = {}) => {\r\n    const {\r\n        label = '',\r\n        type = 'text',\r\n        multiple = false,\r\n        onChange,\r\n        labelStyle = {},\r\n        direction = 'column',\r\n        formGrpStyle = {},\r\n        errorText = '',\r\n        onBlur\r\n    } = props;\r\n\r\n    const onChangeSelect = (e) => {\r\n        if (type.toLowerCase() === 'select' && multiple) {\r\n            const {options, name} = e.target;\r\n            const values = [];\r\n            for (let i = 0, l = options.length; i < l; i++) {\r\n                if (options[i].selected) {\r\n                    values.push(options[i].value);\r\n                }\r\n            }\r\n            if (onChange) onChange(e, values, name)\r\n        } else if (onChange) onChange(e)\r\n    }\r\n\r\n    const handleBlur = (e) => {\r\n        if (onBlur) {\r\n            onBlur(e.target.name, e.target.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FormGroup\r\n            style={direction === 'row' ? {display: 'flex', alignItems: 'center', ...formGrpStyle} : {...formGrpStyle}}>\r\n            {label && <label\r\n                className=\"form-control-label\"\r\n                htmlFor={label}\r\n                style={{color: '#525F7F', marginRight: 8, ...labelStyle}}\r\n            >\r\n                {label}\r\n            </label>}\r\n            <InputPure {...props} onChangeSelect={onChangeSelect} onBlur={handleBlur}/>\r\n            {errorText &&\r\n                <Typography variant='subtitle2' sx={{color: 'red', fontSize: '0.75em'}}>{errorText}</Typography>}\r\n        </FormGroup>\r\n    )\r\n}\r\n\r\nexport default InputField;","import axios from \"axios\";\r\nimport { notification, setAlert } from \"./alert\";\r\nimport {\r\n  GET_LOADS,\r\n  GET_LOAD,\r\n  LOAD_ERROR,\r\n  ADD_LOAD,\r\n  PATCH_PICKUP,\r\n  PICKUP_ERROR,\r\n  PATCH_DROP,\r\n  DROP_ERROR,\r\n  DELETE_LOAD,\r\n  DELETE_LOAD_ERROR,\r\n  UPDATE_LOAD,\r\n  UPDATE_LOAD_ERROR,\r\n  LOAD_DOC_DELETE,\r\n  LOAD_DOC_UPLOAD,\r\n  RETURNED_SEARCHED_LOADS,\r\n  RESET_SEARCHED_LOADS,\r\n  INVOICE_CREATED,\r\n  SELECT_LOAD,\r\n  INVOICE_LOAD_FETCHED,\r\n  MERGE_LOAD_DOCS,\r\n  RESET_INVOICE_GENERATED,\r\n} from \"./types\";\r\nimport { requestDelete, requestGet, requestPatch } from \"../utils/request\";\r\n\r\n// import { proxy } from \"../../package.json\";\r\n\r\nexport const SERVER_ADDRESS = \"https://api.freightdok.io\";\r\n// Get current users loads\r\nexport const getLoads =\r\n  (page = 0, limit = 15, module = \"\") =>\r\n    async (dispatch) => {\r\n      try {\r\n        const { success, data } = await requestGet({\r\n          uri: `/api/load/me?page=${page + 1\r\n            }&limit=${limit}&module=${module}`\r\n        });\r\n        if (success) {\r\n          dispatch({\r\n            type: GET_LOADS,\r\n            payload: { loads: data, page, limit },\r\n          });\r\n        } else {\r\n          notification(data.message, 'error');\r\n        }\r\n      } catch (err) {\r\n        dispatch(setAlert(err.message, \"error\"));\r\n      }\r\n    };\r\n\r\nexport const getInvoiceLoads =\r\n  (page = 0, limit = 5, search = \"\") =>\r\n    async (dispatch) => {\r\n      dispatch({\r\n        type: INVOICE_LOAD_FETCHED,\r\n        payload: { data: [], loading: true },\r\n      });\r\n\r\n      try {\r\n        const url = `/api/load/invoice_loads?page=${page + 1\r\n          }&limit=${limit}&search=${search}`;\r\n        const response = await axios.get(url);\r\n        const { loads, total, totalPages } = response.data;\r\n        dispatch({\r\n          type: INVOICE_LOAD_FETCHED,\r\n          payload: { data: loads, page, limit, search, total, totalPages, loading: false },\r\n        });\r\n      } catch (err) {\r\n        dispatch(setAlert(err.message, \"error\"));\r\n      }\r\n    };\r\n\r\nexport const deleteLoadDocument =\r\n  (load_id, doc_type, doc_name) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/remove/doc/${load_id}/${doc_type}/${doc_name}`;\r\n      await axios.delete(url);\r\n      dispatch({\r\n        type: LOAD_DOC_DELETE,\r\n        payload: { load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const uploadLoadDocument =\r\n  (load_id, doc_type, documents) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/upload/load/${load_id}/${doc_type}`;\r\n      const form = new FormData();\r\n      for (let doc of documents) form.append(doc_type, doc);\r\n      const response = await axios.patch(url, form);\r\n      const { file_data } = response.data;\r\n      dispatch({\r\n        type: LOAD_DOC_UPLOAD,\r\n        payload: { file_data, load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const generateInvoice = (load_id, data) => async (dispatch) => {\r\n  try {\r\n    await axios.post(\"/api/invoice\", {\r\n      load_id,\r\n      ...data,\r\n    });\r\n    dispatch({\r\n      type: INVOICE_CREATED,\r\n      payload: { load_id },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const searchLoads = (page = 0, limit = 15, search = \"\", module = \"\") => async (dispatch) => {\r\n  try {\r\n    const url = `/api/load/me?page=${page + 1\r\n      }&limit=15&search=${search}&module=${module}`;\r\n    const res = await axios.get(url);\r\n    dispatch({\r\n      type: RETURNED_SEARCHED_LOADS,\r\n      payload: { data: res.data, page, limit, search },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetLoadsSearch =\r\n  (listBarType = \"\") =>\r\n    async (dispatch, getState) => {\r\n      dispatch({ type: RESET_SEARCHED_LOADS });\r\n      const {\r\n        load: { page, rowsPerPage },\r\n      } = getState();\r\n      // dispatch(getLoads(+page, +rowsPerPage, listBarType));\r\n    };\r\n\r\nexport const selectLoad = (input = null) => ({\r\n  type: SELECT_LOAD,\r\n  payload: input,\r\n});\r\n\r\n// Get post\r\nexport const getLoad = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/loads/${id}`);\r\n\r\n    dispatch({\r\n      type: GET_LOAD,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addLoad = (formData, callback) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const res = await axios.post(\"/api/load\", formData, config);\r\n\r\n    dispatch({\r\n      type: ADD_LOAD,\r\n      payload: res.data,\r\n    });\r\n\r\n    notification(\"Load Created\")\r\n    if (callback) {\r\n      callback(res.status === 200, res.data)\r\n    }\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const updateLoad = (formData, module = \"\", bucketFiles = {}, callback) => async (dispatch, getState) => {\r\n  try {\r\n    const form = new FormData();\r\n    for (let key of Object.keys(formData)) {\r\n      if ([\"rateConfirmation\", \"proofDelivery\"].indexOf(key) < 0) {\r\n        const data = formData[key];\r\n        const isArray = Array.isArray(data);\r\n        const isNull = data === null;\r\n        let dataToSend = isArray && !isNull ? JSON.stringify(data) : data;\r\n        form.append(key, dataToSend);\r\n      }\r\n    }\r\n    form.append('bucketFiles', JSON.stringify(bucketFiles))\r\n    for (let key of [\"rateConfirmation\", \"proofDelivery\", \"accessorialsFiles\"]) {\r\n      const files = formData[key];\r\n      if (files) for (let file of files) form.append(key, file);\r\n    }\r\n\r\n    const { success, data } = await requestPatch({ uri: \"/api/load/modify\", body: form })\r\n    if (success) {\r\n      notification('Load Updated')\r\n    }\r\n    const {\r\n      load: {\r\n        search: { page, limit, query },\r\n      },\r\n    } = getState();\r\n    if (!query) dispatch(getLoads(0, 5, module));\r\n    else dispatch(searchLoads(page, limit, query));\r\n    callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, \"error\");\r\n  }\r\n};\r\n\r\nexport const downloadDocuments = (file_name) => {\r\n  axios({\r\n    url: \"/api/load/download/\" + file_name,\r\n    method: \"GET\",\r\n    responseType: \"blob\",\r\n  }).then((res) => {\r\n    const parts = res.config.url.split(\"/\");\r\n    const name = parts[parts.length - 1];\r\n    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", name);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  });\r\n};\r\n\r\n//add pickup\r\n\r\n//patch pickup\r\nexport const patchPickup = (load_id, pickup) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(\r\n      `/api/load/pickup?load_id=${load_id}`,\r\n      pickup\r\n    );\r\n    dispatch({\r\n      type: PATCH_PICKUP,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//patch drop\r\nexport const patchDrop = (load_id, drop) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\r\n    dispatch({\r\n      type: PATCH_DROP,\r\n      payload: res.date,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n// Delete a load\r\nexport const deleteLoad = (load_id, callback) => async (dispatch) => {\r\n  try {\r\n    const { success, data } = await requestDelete({ uri: '/api/load', body: { data: { load_id: load_id } } })\r\n    notification(data.message, success ? 'success' : 'error');\r\n    if (success) {\r\n      dispatch({\r\n        type: DELETE_LOAD,\r\n        payload: load_id,\r\n      });\r\n    }\r\n    callback && callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, 'error')\r\n  }\r\n};\r\n\r\nexport const mergeDocuments = (data, headers) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api/load/invoice/merge_docs`, data, headers);\r\n    console.log(\"Response :\", res);\r\n    dispatch({\r\n      type: MERGE_LOAD_DOCS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetInvoiceGenerated = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: RESET_INVOICE_GENERATED,\r\n      payload: null,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n"],"sourceRoot":""}