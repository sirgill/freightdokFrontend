(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{1098:function(e,t,r){"use strict";r.r(t);var o=r(13),a=r(1),n=r(100),i=r.n(n),c=r(24),d=r(50),u=r(36),l=r(315),s=r(324),p=r(2);t.default=Object(c.b)((function(e){return{load:e.load,driver:e.driver}}),{getLoads:d.g,searchLoads:d.k})((function(e){var t=e.getLoads,r=e.searchLoads,n=e.load,v=n.loads,b=n.loads_pagination,f=n.page,j=n.rowsPerPage,O=n.search,g=e.resetSearchField,k=e.searchText,m=Object(c.d)(),h=Object(u.e)(),D=Object(a.useState)(!0),w=Object(o.a)(D,2),C=w[0],S=w[1],y=Object(a.useState)({open:!1,data:{}}),P=Object(o.a)(y,2),L=P[0],T=P[1],x=b.total,M=(b.currPage,Object(a.useState)([])),E=Object(o.a)(M,2),N=E[0],I=E[1],J=Object(c.e)((function(e){return e})),R=J.auth,_=(void 0===R?{}:R).user,q=void 0===_?{}:_,A=J.driver,F=(void 0===A?{}:A).drivers,U=void 0===F?[]:F,z=Object(c.e)((function(e){return e.load.search})),B=z.query,G=z.loads,H=z.page,K=z.limit,Q=z.total;Object(a.useEffect)((function(){return setTimeout((function(){S(!1)}),1e3),g(),k?r(+f,+K,O,"loads"):t(f),function(){g()}}),[]),Object(a.useEffect)((function(){if(q&&"load planner"===q.role){var e=v.filter((function(e){if(!e.assignedTo)return e}));I(e)}else I(B?G:v);var r=setInterval((function(){t(f)}),3e3);return function(){clearInterval(r)}}),[v,G,f]);var V={onRowClick:function(e){return T({open:!0,data:e})},rowCellPadding:"normal",count:B?Q:x,page:f,limit:B?H:j,onPageChange:function(e,o){o-=1,B?r(o,K,B):t(o,j)},hasDelete:!0,onDelete:function(e,r){m(Object(d.c)(e,(function(e,o){e&&(setTimeout((function(){return t(f)}),500),r())})))},columns:[{id:"loadNumber",label:"Load Number"},{id:"pickup",label:"PickUp City/State",renderer:function(e){var t=e.row,r=(void 0===t?{}:t).pickup,a=void 0===r?[]:r,n=Object(o.a)(a,1)[0],i=n.pickupCity,c=void 0===i?"":i,d=n.pickupState,u=void 0===d?"":d;return"".concat(c,", ").concat(u)}},{id:"pickupDate",label:"Pickup Date",renderer:function(e){var t=e.row,r=(void 0===t?{}:t).pickup,a=void 0===r?[]:r,n=Object(o.a)(a,1)[0].pickupDate,c=void 0===n?"":n;return i()(c).format("MM/DD")}},{id:"dropCity",label:"Drop City/State",renderer:function(e){var t=e.row,r=(void 0===t?{}:t).drop,a=void 0===r?[]:r,n=Object(o.a)(a,1)[0],i=n.dropCity,c=void 0===i?"":i,d=n.dropState,u=void 0===d?"":d;return"".concat(c,", ").concat(u)}},{id:"dropDate",label:"Drop Date",renderer:function(e){var t=e.row,r=(void 0===t?{}:t).drop,a=void 0===r?[]:r,n=Object(o.a)(a,1)[0].dropDate,c=void 0===n?"":n;return i()(c).format("MM/DD")}},{id:"brokerage",label:"Customer",renderer:function(e){var t=e.row,r=(void 0===t?{}:t).brokerage;return void 0===r?"":r}},{id:"rate",label:"Rate",emptyState:"--"},{id:"assignedTo",label:"Assigned To",renderer:function(e){var t=(e.row||{}).user,r=(U.find((function(e){return e.user&&e.user._id===t}))||{}).user,o=(void 0===r?{}:r).name;return void 0===o?"":o}}]};return Object(p.jsxs)("div",{className:h.table,children:[Object(p.jsx)(l.a,{config:V,data:N,loading:C}),L.open&&Object(p.jsx)(s.a,{modalEdit:!1,open:L.open,load:L.data,handleClose:function(){T({open:!1,data:{}}),m(Object(d.l)())},deleteLoad:function(e){return m(Object(d.c)(e))}})]})}))}}]);
//# sourceMappingURL=13.741cb6a8.chunk.js.map