(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[31],{1103:function(e,t,a){"use strict";a.r(t);var n=a(198),o=a(1138),i=a(1006),r=a(491),s=a(245),l=a(293),c=a.n(l),d=a(233),u=a(0),b=a.n(u),j=a(721),p=a.n(j),m=a(13),O=a(270),h=a(536),x=a(397),g=a(197),f=a(87),v=a(284),y=a(73),C=a.n(y),w=a(285),_=a(446),D=a.n(_),N=a(138),S=a(445),k=a.n(S),R=a(95),I=a(56),P=a(27),Y=a(2);const L=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const{success:a}=await Object(I.d)({uri:"/api/bid/saveChOfferRequestId",body:e});a&&t.goBack()};var z=e=>{const{location:{state:t={}}={},match:{params:{loadNumber:a,counterOffer:n=!1,finalOffer:o=!1}}={}}=e,l=Object(m.useHistory)(),{loadNumber:c="",company:d,vendor:b,price:j}=t;let p=0;if(t.hasOwnProperty("availableLoadCosts")){const{availableLoadCosts:e=[]}=t||{},[a]=e||[];a&&(p=a.sourceCostPerUnit||0)}const[O,h]=Object(u.useState)(j||p),y=(e,a)=>{if(a.offerRequestId){const e={status:!1,loadNumber:c,bidAmount:O,vendorName:"C.H. Robinson",loadDetail:t,offerRequestId:a.offerRequestId};L(e,l)}else a.error?Object(P.a)(a.message,"error"):l.goBack()},_=(e,a)=>{if(null!==a&&void 0!==a&&a.success||"success"===a.status)if(a.offerRequestId){const e={status:!1,loadNumber:c,bidAmount:O,vendorName:"C.H. Robinson",loadDetail:t,offerRequestId:a.offerRequestId};L(e,l)}else l.goBack()},S=async e=>{if(e.preventDefault(),b===R.d){let e={external_id:Object(N.a)(),offer_amount:O,expired_at:C()(new Date,"YYYY-MM-DDTHH:mm").add(1,"day").utc().format(),terms_condition:!0,driver_name:"Driver Name",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:t.id,vendorName:"New Trul",loadDetail:t};return n?(e={external_id:t.external_id,offer_amount:t.bidAmount,expired_at:C()(new Date,"YYYY-MM-DDTHH:mm").utc().format()},Object(x.f)(e,_)):o?(e={loadId:a,offerStatus:"accept"},Object(x.d)(e,_)):void Object(x.e)(e,a,_)}Object.assign(t,{defaultEmail:"vy4693@gmail.com",env:"dev",bidAmount:O});const i={carrierCode:R.h.carrierCode,offerPrice:parseFloat(O),offerNote:"",currencyCode:"USD"};await Object(x.a)(c,i,y)};return Object(Y.jsx)(v.a,{config:{showClose:!0},children:Object(Y.jsx)(g.a,{sx:{px:3},justifyContent:"center",display:"flex",children:Object(Y.jsxs)("form",{onSubmit:S,style:{textAlign:"center"},className:"form_bidding",children:[Object(Y.jsx)(f.a,{sx:{fontSize:32},children:d}),Object(Y.jsxs)(f.a,{sx:{fontSize:32},children:["Load Number: ",c]}),Object(Y.jsxs)(r.a,{direction:"row",sx:{py:5},alignItems:"end",gap:"10px",justifyContent:"center",children:[Object(Y.jsx)(s.a,{onClick:()=>{O>0&&h(O-1)},disabled:O<=0,children:Object(Y.jsx)(k.a,{})}),Object(Y.jsx)("div",{className:"dollarInput",children:Object(Y.jsx)(w.a,{name:"bidAmount",label:"Amount ($)",onChange:e=>{const t=e.target.value;h(t)},type:"number",value:O,className:""})}),Object(Y.jsx)(s.a,{onClick:()=>{h(parseInt(O)+1)},children:Object(Y.jsx)(D.a,{})})]}),Object(Y.jsx)(i.a,{variant:"contained",color:"success",onClick:S,sx:{px:3,py:1,fontSize:16},children:"Submit Bid"})]})})})},T=a(722),q=a(43),B=a(1125),F=a(1098),M=a(1099),A=a(718),E=a(1086),V=a(125),H=a.n(V),U=a(89),W=a(324),G=a(105);const K=e=>{let{label:t,children:a}=e;return Object(Y.jsxs)(g.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(Y.jsx)(g.a,{item:!0,xs:5,children:Object(Y.jsx)(f.a,{sx:{fontSize:22,textAlign:"left"},children:t})}),Object(Y.jsx)(g.a,{item:!0,xs:7,children:a})]})},$=()=>Object(Y.jsxs)(g.a,{container:!0,direction:"column",sx:{py:3},spacing:2,children:[Object(Y.jsx)(g.a,{item:!0,children:Object(Y.jsx)(H.a,{sx:{fontSize:80,color:"rgb(45, 206, 137)"}})}),Object(Y.jsx)(g.a,{item:!0,children:Object(Y.jsx)(f.a,{fontSize:24,children:"Your load has been booked!"})}),Object(Y.jsx)(g.a,{item:!0,pl:"0 !important",children:Object(Y.jsx)(f.a,{fontSize:24,children:"Moved to your personal load board"})})]});var J=e=>{const{location:{state:t={}}={}}=e,{loadNumber:a}=t,[n,o]=Object(u.useState)({emptyDate:new Date,emptyTime:new Date}),[r,s]=Object(u.useState)(!1),[l,c]=Object(u.useState)(!1),{data:d,loading:b}=Object(W.a)(G.b,null,{queryParams:{orgId:Object(U.d)().user.orgId}}),{_dbData:{chRobinson:{tCode:j}={}}={}}=d||{};let p=0;if(t.hasOwnProperty("availableLoadCosts")){const{availableLoadCosts:e=[]}=t||{},[a]=e||[];a&&(p=a.sourceCostPerUnit)}return Object(Y.jsx)(v.a,{config:{paperProps:{sx:{width:"auto"}}},children:Object(Y.jsx)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault();const a=n.emptyDate.toDateString(),o=n.emptyTime.toTimeString();if(new Date(a+" "+o)<new Date)return Object(P.a)("Empty Date and Time cannot be a past","error");c(!0);const{loadNumber:i,availableLoadCosts:r}=t,{type:l,code:d,description:u,units:b,currencyCode:p,sourceCostPerUnit:m}=r[0]||{},{user:{name:O="",email:h=""}={}}=Object(U.d)(),g={loadNumber:i,carrierCode:j,emptyDateTime:new Date(a+" "+o).toISOString(),availableLoadCosts:[{type:l,code:d,description:u,units:b,currencyCode:p,sourceCostPerUnit:m}],emptyLocation:{city:"Greenwood",state:"IN",country:"NA",zip:"46143"},rateConfirmation:{email:h,name:O}};Object(x.g)(t,!1).then((e=>{const{success:a,message:n}=(null===e||void 0===e?void 0:e.data)||{};a?Object(x.b)(g).then((e=>{var a;(c(!1),200===e.status)?((e=>{let{success:a=!1}=e;a&&(s(!0),Object(x.g)(t,!0),Object(U.j)("getBiddings"))})({success:!0}),Object(P.a)("Booking successful")):(console.log(e),Object(P.a)((null===(a=e.data)||void 0===a?void 0:a.message)||"","error"))})).catch((e=>{console.log(e),c(!1),Object(P.a)(e.message,"error")})):(Object(P.a)(n,"error"),c(!1))}))},children:Object(Y.jsxs)(g.a,{container:!0,direction:"column",textAlign:"center",px:8,pb:4,gap:"10px",children:[Object(Y.jsx)(g.a,{item:!0,children:Object(Y.jsx)(f.a,{sx:{fontSize:32},children:"C.H Robinson"})}),Object(Y.jsxs)(g.a,{item:!0,direction:"",display:"flex",justifyContent:"center",children:[Object(Y.jsx)(f.a,{sx:{fontSize:32,mr:2},children:"Load Number: "}),Object(Y.jsx)(f.a,{sx:{fontSize:32},children:a})]}),r?Object(Y.jsx)($,{}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(g.a,{item:!0,display:"flex",justifyContent:"space-between",mt:2,children:Object(Y.jsx)(K,{label:"Carrier T-Code",children:Object(Y.jsx)(B.a,{disabled:!0,variant:"standard",fullWidth:!0,value:j,readOnly:!0})})}),Object(Y.jsx)(g.a,{item:!0,children:Object(Y.jsx)(K,{label:"Empty Date",children:Object(Y.jsx)(A.a,{dateAdapter:E.a,children:Object(Y.jsx)(F.a,{slotProps:{textField:{helperText:"MM/DD/YYYY",size:"small"}},disablePast:!0,value:C()(n.emptyDate||new Date),onChange:e=>o({...n,emptyDate:e})})})})}),Object(Y.jsx)(g.a,{item:!0,mt:2,children:Object(Y.jsx)(K,{label:"Empty Time",children:Object(Y.jsx)(A.a,{dateAdapter:E.a,children:Object(Y.jsx)(M.a,{value:C()(n.emptyTime||new Date),onChange:e=>{o({...n,emptyTime:e})},slotProps:{textField:{helperText:"hh:mm AM/PM",size:"small"}}})})})})]}),!r&&Object(Y.jsx)(g.a,{item:!0,mt:2,children:Object(Y.jsxs)(i.a,{type:"submit",disabled:l||b,variant:"contained",sx:{p:2,fontSize:16,px:3,py:2},children:["Book Now $",p]})})]})})})},Q=a(545),X=a(1129),Z=a(1005),ee=a(276),te=a.n(ee);const ae=e=>{let{classNameRoot:t,disabled:a,label:n,hasError:o,labelKey:i,selectSx:r,className:s,placeholder:l,errorText:c,...d}=e;const u="autocomplete-label-"+n;return Object(Y.jsx)("div",{className:te()(t,{fieldDisabled:a}),children:Object(Y.jsx)(X.a,{fullWidth:!0,children:Object(Y.jsx)(Z.a,{renderInput:e=>Object(Y.jsx)(B.a,{placeholder:l,error:o,label:n,...e}),getOptionLabel:e=>e[i],isOptionEqualToValue:(e,t)=>e.id===t.id,id:u,classes:{paper:s},sx:r,...d})})})},ne=Object(u.memo)(ae);var oe=e=>{const{label:t,name:a,valueKey:n="value",labelKey:o="label",errors:i={},disablePortal:r=!0,onChange:s,disabled:l=!1,value:c,options:d=[],className:b,classNameRoot:j,disableClearable:p=!0,selectSx:m={},placeholder:O,...h}=e,[x,g]=Object(u.useState)(null),f=!!i[a]||!1,v=i[a]||"";return Object(u.useEffect)((()=>{const e=Array.isArray(d)&&d.find((e=>e[n]===c))||null;g(e)}),[c,d,n]),Object(Y.jsx)(ne,{...h,value:x,options:d,label:t,selectSx:m,labelKey:o,valueKey:n,hasError:f,disabled:l,errorText:v,className:b,onChange:(e,t)=>{s&&s({name:a,value:t?t[n]:""})},placeholder:O,classNameRoot:j,disablePortal:r,disableClearable:p})},ie=a(280),re=a(281),se=a(720),le=a.n(se),ce=a(262),de=a.n(ce),ue=a(11),be=a.n(ue);const je=e=>{let{label:t="",name:a,onSelect:o,parentOnClear:i}=e;const[r,s]=b.a.useState(null),[l,c]=b.a.useState(""),[d,j]=b.a.useState([]),p=b.a.useMemo((()=>de.a.debounce(((e,t)=>{Object(I.b)({uri:"/api/searchLocationAutocomplete?search="+e.input}).then((e=>t(e.data,e.success)))}),500)),[]);return Object(u.useEffect)((()=>{let e=!0;if(o&&o({selectedObj:r,value:l,name:a}),""!==l)return p({input:l},(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){let e=[];if((arguments.length>1?arguments[1]:void 0)||Object(P.a)(t.error_message,"error"),r&&(e=[r]),t){const{predictions:a=[]}=t;e=[...e,...a]}j(e)}})),()=>{e=!1};j(r?[r]:[])}),[r,l,p]),Object(u.useEffect)((()=>{i&&(s(null),c(""))}),[i]),Object(Y.jsx)(Z.a,{id:"searchAutocomplete",sx:{width:300},getOptionLabel:e=>"string"===typeof e?e:e.description,filterOptions:e=>e,options:d,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:r,onChange:(e,t)=>{j(t?[t,...d]:d),s(t)},onInputChange:(e,t)=>{c(t)},renderInput:e=>Object(Y.jsx)(B.a,{...e,label:t,size:"small",fullWidth:!0}),renderOption:(e,t)=>Object(Y.jsx)("li",{...e,children:Object(Y.jsxs)(g.a,{container:!0,alignItems:"center",children:[Object(Y.jsx)(g.a,{item:!0,children:Object(Y.jsx)(n.a,{component:le.a,sx:{color:"text.secondary",mr:2}})}),Object(Y.jsx)(g.a,{item:!0,xs:!0,children:Object(Y.jsx)(f.a,{variant:"body2",color:"text.primary",children:t.description})})]})})})};var pe=je;je.prototype={label:be.a.string.isRequired,name:be.a.string.isRequired,onSelect:be.a.func,parentOnClear:be.a.bool};var me=a(265),Oe=a(447);const he={title:"",defaultValue:"origin_states[]",name:"origin",options:[{label:"City",value:"origin_city"},{label:"State",value:"origin_states[]"}]},xe={title:"",defaultValue:"destination_states[]",name:"destination",options:[{label:"City",value:"destination_city"},{label:"State",value:"destination_states[]"}]},ge=[{label:"Select",value:null},{label:"Reefer",value:"Reefer"},{label:"Dry Van",value:"Dry Van"}],fe={originRadio:"origin_city",destinationRadio:"destination_city",destination_radius:"",origin_radius:""};var ve=e=>{let{getNewTrulList:t,setFilters:a,pageSize:n,pageIndex:o,setParams:s,defaultParams:l}=e;const[c,d]=Object(u.useState)(fe),[b,j]=Object(u.useState)(!1),p=e=>{let{name:t,value:a}=e;if("pickup"===t){const{startDate:e,endDate:t}=a;let n={pick_up_start_date:e,pick_up_end_date:t};return d({...c,...n})}if("dropOff"===t){const{startDate:e,endDate:t}=a;let n={drop_off_start_date:e,drop_off_end_date:t};return d({...c,...n})}d({...c,[t]:a})},m=Object(u.useCallback)((e=>{let{name:t,value:a}=e;d({...c,[t+"Radio"]:a})}),[c]);return Object(Y.jsxs)(g.a,{container:!0,gap:1,component:"form",noValidate:!0,onSubmit:async e=>{e.preventDefault();let i={...c};if(c.originRadio&&(i[c.originRadio]=c.origin||""),c.destinationRadio&&(i[c.destinationRadio]=c.destination||""),c["equipments[]"]&&(i["equipments[]"]=c["equipments[]"]),["pick_up_start_date","pick_up_end_date","drop_off_start_date","drop_off_end_date"].forEach((e=>{c[e]&&(i[e]=C()(c[e]).format("YYYY-MM-DD"))})),delete i.originRadio,delete i.destinationRadio,i.destination){const{data:{data:e,success:t}={}}=await Object(Oe.a)({address:i.destination});t&&(i.destinationGeoLocation=e)}if(i.origin){const{data:{data:e,success:t}={}}=await Object(Oe.a)({address:i.origin});t&&(i.originGeoLocation=e)}const r={...i,pageSize:n,pageIndex:o};a(r);let l=(e=>{let t={...e};return t.originGeoLocation&&delete t.originGeoLocation,t.destinationGeoLocation&&delete t.destinationGeoLocation,t.originRadius||delete t.originRadius,t.destinationRadius||delete t.destinationRadius,Object(U.h)(t)})(i);s(l),t(r,l)},flexWrap:"wrap",children:[Object(Y.jsxs)(r.a,{children:[Object(Y.jsx)(pe,{label:"Origin",onSelect:p,name:"origin",parentOnClear:b}),Object(Y.jsx)(X.a,{sx:{m:.5},variant:"standard",children:Object(Y.jsx)(ie.a,{parentValue:c.originRadio,config:he,onChange:m})})]}),Object(Y.jsx)(me.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:c.origin_radius,onChange:p,name:"origin_radius",fullWidth:!1}),Object(Y.jsxs)(r.a,{children:[Object(Y.jsx)(pe,{name:"destination",label:"Destination",onSelect:p,parentOnClear:b}),Object(Y.jsx)(X.a,{sx:{m:.5},variant:"standard",children:Object(Y.jsx)(ie.a,{config:xe,onChange:m,parentValue:c.destinationRadio})})]}),Object(Y.jsx)(me.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:c.destination_radius,onChange:p,name:"destination_radius",fullWidth:!1}),Object(Y.jsx)(r.a,{children:Object(Y.jsx)(oe,{options:ge,value:c["equipments[]"]||null,label:"Equipment",size:"small",onChange:p,name:"equipments[]",sx:{minWidth:200,width:"inherit"}})}),Object(Y.jsx)(r.a,{children:Object(Y.jsx)(re.a,{label:"Pick Up Date Range",name:"pickup",onChange:p})}),Object(Y.jsx)(r.a,{children:Object(Y.jsx)(re.a,{name:"dropOff",onChange:p,label:"Drop Off Date Range"})}),Object(Y.jsx)(r.a,{children:Object(Y.jsx)(i.a,{type:"submit",variant:"contained",children:"Search"})}),Object(Y.jsx)(r.a,{children:Object(Y.jsx)(i.a,{onClick:()=>{d((()=>fe)),j(!0),a(l),setTimeout((()=>{t(l),j(!1)}),200)},variant:"outlined",children:"Clear"})})]})};const ye=e=>{let{history:t,path:a,totalResults:n,onPageChange:o,pageIndex:r,pageSize:s,showDialog:l}=e;return{containerHeight:"100%",rowCellPadding:"normal",emptyMessage:"No Shipments Found",onRowClick:e=>{let{loadNumber:t,id:n,vendorName:o}=e;return"newtrul"===o.toLowerCase()?"".concat(a,"/newtrul/").concat(n):"".concat(a,"/").concat(t)},count:n,limit:s,page:r,onPageChange:o,rowStyleCb:e=>{let{row:t}=e;const{bidLevel:a,status:n}=t;return 2===a?{borderLeft:"5px solid #ffeaa7"}:1===a?{borderLeft:n?"5px solid #00b894":"5px solid #e74c3c"}:void 0},columns:[{id:"loadNumber",label:"Load Number",renderer:e=>{let{row:t}=e;return t.vendorName===R.d?Object(Y.jsx)(u.Fragment,{children:t.id}):Object(Y.jsx)(u.Fragment,{children:t.loadNumber})}},{id:"country",label:"Pickup City/State",renderer:e=>{var t,a;let{row:n}=e;if(n.vendorName===R.d){const[e,t]=n.stops||[],{geo:a}=t||{},{city:o="",state:i=""}=a||{};return Object(Y.jsxs)(u.Fragment,{children:[o,", ",i]})}return Object(Y.jsxs)(u.Fragment,{children:[null===n||void 0===n||null===(t=n.origin)||void 0===t?void 0:t.city,", ",null===n||void 0===n||null===(a=n.origin)||void 0===a?void 0:a.stateCode]})}},{id:"pickupDate",label:"Pickup Date",renderer:e=>{let{row:t}=e,a="";if(t.vendorName===R.d){const[e,n]=t.stops||[{}],{early_datetime:o=""}=n||{};a=o?C()(o).format("M/DD/YYYY"):"--"}else C()(null===t||void 0===t?void 0:t.pickUpByDate).isValid()&&(a=C()(t.pickUpByDate).format("M/DD/YYYY"));return Object(Y.jsx)(u.Fragment,{children:a})}},{id:"deliveryCountry",label:"Delivery City/State",renderer:e=>{var t,a;let{row:n={}}=e;if(n.vendorName===R.d){const[e,t]=n.stops||[],{geo:a}=e||{},{city:o="",state:i=""}=a||{};return Object(Y.jsxs)(u.Fragment,{children:[o,", ",i]})}return Object(Y.jsxs)(u.Fragment,{children:[null===n||void 0===n||null===(t=n.destination)||void 0===t?void 0:t.city,", ",null===n||void 0===n||null===(a=n.destination)||void 0===a?void 0:a.stateCode]})}},{id:"deliveryDate",label:"Delivery Date",renderer:e=>{let{row:t}=e,a="";if(t.vendorName===R.d){const[e,a]=t.stops||[],{early_datetime:n}=e||{};return n?C()(n).format("M/DD/YYYY"):"--"}return C()(t.deliverBy).isValid()&&(a=C()(null===t||void 0===t?void 0:t.deliverBy).format("M/DD/YYYY")),Object(Y.jsx)(u.Fragment,{children:a})}},{id:"equipment",label:"Equipment",renderer:e=>{let{row:t}=e;if(t.vendorName===R.d){const{equipment:e}=t;return"string"===typeof e?Object(Y.jsx)(u.Fragment,{children:e}):null}const{modesString:a="",standard:n=""}=Object(R.g)(t||{});return Object(Y.jsxs)(u.Fragment,{children:[a," ",n]})}},{id:"weight",label:"Weight",renderer:e=>{let{row:t}=e;if(t.vendorName===R.d){const{weight:e}=t||{};return"number"===typeof e?Object(Y.jsxs)(u.Fragment,{children:[e," lbs"]}):null}{let{weight:{pounds:e=""}={}}=t||{};return e&&(e+=" lbs"),Object(Y.jsx)(u.Fragment,{children:e})}}},{id:"company",label:"Company",renderer:e=>{let{row:t}=e;if(t.vendorName===R.d){const{client:{client_name:e}={}}=t||{};return e||"--"}return Object(Y.jsx)(u.Fragment,{children:"C.H Robinson"})}},{id:"bookNow",label:"Book Now",renderer:e=>{let{row:n={}}=e;if(n.vendorName===R.d){const{book_now_price:e,available_book_type:t}=n;if(t.equalsIgnoreCase("both")){const t=t=>{t.stopPropagation();const a={title:"Book Now",maxWidth:"md",content:Object(Y.jsxs)(f.a,{fontSize:16,children:["Do you want to Book now at? $",e]}),okButtonText:"Book",onOk:e=>{const t={external_id:Object(N.a)(),terms_condition:!0,driver_name:"Driver Namme",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:n.id};Object(R.e)(t,n,(()=>e()))}};l(a)};return Object(Y.jsxs)(i.a,{variant:"contained",color:"primary",onClick:t,disabled:0===e,children:["$ ",e]})}return null}if(n.hasOwnProperty("availableLoadCosts")){const{availableLoadCosts:e=[]}=n||{},[o]=e||[];if(o)return Object(Y.jsxs)(i.a,{variant:"contained",color:"primary",onClick:e=>{e.stopPropagation(),t.push(a+"/".concat(n.loadNumber,"/bookNow"),n)},children:["$ ",null===o||void 0===o?void 0:o.sourceCostPerUnit]})}return null}},{id:"Bidding",label:"Bid",renderer:e=>{let{row:n}=e;if(n.vendorName===R.d){const{available_book_type:e}=n;if(!(e.equalsIgnoreCase("both")||e.equalsIgnoreCase("auction")))return null}return Object(Y.jsx)(i.a,{variant:"contained",color:"success",onClick:e=>{if(e.stopPropagation(),n.vendorName===R.d)return t.push(a+"/".concat(n.id,"/bid"),{...n,vendor:n.vendorName,company:"New Trul",price:n.book_now_price});t.push(a+"/".concat(n.loadNumber,"/bid"),{...n,vendor:n.vendorName,company:n.vendorName===R.d?"New Trul":"C.H Robinson"})},children:"Bid +"})}}]}};var Ce=a(289),we=a(546);let _e=R.f;_e=R.h;t.default=Object(T.withRouter)((()=>{const e=Object(d.a)((e=>e.breakpoints.down("sm"))),{path:t}=Object(m.useRouteMatch)(),[a,l]=Object(u.useState)(_e),[j,g]=Object(u.useState)(""),[f,v]=Object(u.useState)({open:!1,content:null}),y=Object(q.d)(),{data:{results:C,totalResults:w,message:_}={},loading:D=!1}=Object(q.e)((e=>e.openBoard)),N=Object(m.useHistory)(),[S,k]=b.a.useState(null),R=Object(u.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";B(),y(Object(x.c)({...e,newTrulQuery:t,env:"production",pageSize:100}))}),[y]),I=Object(u.useCallback)((()=>{y(Object(x.c)({...a,newTrulQuery:j,env:"production",pageSize:100}))}),[y,a,j]),P=Object(u.useCallback)((()=>{v((e=>({...e,open:!1})))}),[]),L=Object(u.useCallback)((e=>{let{content:t}=e;v((e=>({...e,open:!0,content:t})))}),[]);Object(u.useEffect)((()=>(I(),Object(U.a)(window,"getBiddings",I),()=>Object(U.g)(window,"getBiddings",I))),[]);const T=(e,t)=>{l((e=>(R({...e,pageIndex:t},j),{...e,pageIndex:t})))},B=()=>{k(null)},F=Object(u.useMemo)((()=>Object(Y.jsx)(O.a,{config:ye({showDialog:L,history:N,path:t,totalResults:w,onPageChange:T,pageSize:a.pageSize,pageIndex:a.pageIndex}),data:C||[],loading:D})),[C]),M=Object(Y.jsx)(ve,{defaultParams:_e,setParams:g,setFilters:l,pageSize:a.pageSize,pageIndex:a.pageIndex,getNewTrulList:R,onRefetch:I});return _?Object(Y.jsx)(we.a,{message:_}):Object(Y.jsxs)(r.a,{style:{gap:"10px",height:"100%"},children:[Object(Y.jsxs)(r.a,{direction:"row",justifyContent:"end",children:[Object(Y.jsx)(r.a,{children:Object(Y.jsx)(s.a,{title:"Refresh",onClick:I,children:Object(Y.jsx)(c.a,{className:D?"rotateIcon":void 0})})}),e&&Object(Y.jsx)(r.a,{children:Object(Y.jsx)(i.a,{"aria-describedby":"open-board-filters",variant:"outlined",onClick:e=>{k(e.currentTarget)},endIcon:Object(Y.jsx)(p.a,{}),children:"Filters"})})]}),e?Object(Y.jsx)(o.b,{open:!!S,PaperProps:{sx:{p:3}},id:"open-board-filters",onClose:B,anchorEl:S,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:M}):M,Object(Y.jsx)(n.a,{sx:{height:"100%",overflow:"hidden"},children:F}),Object(Y.jsx)(m.Route,{path:t+"/newtrul/:loadId",component:Q.a}),Object(Y.jsx)(m.Route,{path:t+"/:loadNumber",exact:!0,component:h.b}),Object(Y.jsx)(m.Route,{path:t+"/:loadNumber/bid",component:z}),Object(Y.jsx)(m.Route,{path:t+"/:loadNumber/bookNow",component:J}),Object(Y.jsx)(Ce.a,{onClose:P,config:f})]})}))},447:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s}));var n=a(22),o=a.n(n),i=a(27),r=a(3);const s=(e,t)=>async a=>{try{const n=await o.a.get("/api/warehouse/"+e);200===n.status&&(a({type:r.z,payload:{warehouseById:n.data}}),t&&t(n.data.data))}catch(n){console.log(n)}},l=async e=>await o.a.post("/api/warehouse/getLocation",e),c=e=>async t=>{const{status:a,data:n}=await l(e);t({type:r.pb,payload:{loading:!0}});try{200===a&&n.success?t({type:r.pb,payload:{loading:!1,location:{...n}}}):n.success||(Object(i.a)(n.message,"error"),t({type:r.pb,payload:{loading:!1,location:{}}}))}catch(o){Object(i.a)(n.message,"error"),t({type:r.pb,payload:{loading:!1,location:{}}})}}}}]);
//# sourceMappingURL=31.19401353.chunk.js.map