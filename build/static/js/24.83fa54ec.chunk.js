(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{1126:function(e,t,n){"use strict";n.r(t);var a=n(247),o=n(88),i=n(201),r=n(0),c=n(275),l=n(33),s=n(48),d=n(3),b=n(90);const{orgId:u}=Object(b.h)().user,j=()=>async e=>{e({type:d.t,payload:{loading:!0,data:{}}});try{const{data:t}=await Object(s.b)({uri:"/api/organizations?orgId="+u});e({type:d.t,payload:{loading:!1,data:t.data}})}catch(t){console.log(t),e({type:d.t,payload:{loading:!1,data:{}}})}};var h=n(13),g=n(527),m=n(1036),f=n(1151),p=n(269),O=n(4),x=n(1),v=n(5),y=n(109),w=n(233),C=n(10),P=n(12),I=n(202),S=n(186),k=n(234);function L(e){return Object(S.a)("MuiLoadingButton",e)}var E=Object(k.a)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),R=n(2);const D=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],M=Object(C.a)(m.a,{shouldForwardProp:e=>(e=>"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e)(e)||"classes"===e,name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,t)=>[t.root,t.startIconLoadingStart&&{["& .".concat(E.startIconLoadingStart)]:t.startIconLoadingStart},t.endIconLoadingEnd&&{["& .".concat(E.endIconLoadingEnd)]:t.endIconLoadingEnd}]})((e=>{let{ownerState:t,theme:n}=e;return Object(x.a)({["& .".concat(E.startIconLoadingStart,", & .").concat(E.endIconLoadingEnd)]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},"center"===t.loadingPosition&&{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),["&.".concat(E.loading)]:{color:"transparent"}},"start"===t.loadingPosition&&t.fullWidth&&{["& .".concat(E.startIconLoadingStart,", & .").concat(E.endIconLoadingEnd)]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===t.loadingPosition&&t.fullWidth&&{["& .".concat(E.startIconLoadingStart,", & .").concat(E.endIconLoadingEnd)]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}})})),T=Object(C.a)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.loadingIndicator,t["loadingIndicator".concat(Object(v.a)(n.loadingPosition))]]}})((e=>{let{theme:t,ownerState:n}=e;return Object(x.a)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})}));var W=r.forwardRef((function(e,t){const n=Object(P.a)({props:e,name:"MuiLoadingButton"}),{children:a,disabled:o=!1,id:i,loading:r=!1,loadingIndicator:c,loadingPosition:l="center",variant:s="text"}=n,d=Object(O.a)(n,D),b=Object(y.a)(i),u=null!=c?c:Object(R.jsx)(I.a,{"aria-labelledby":b,color:"inherit",size:16}),j=Object(x.a)({},n,{disabled:o,loading:r,loadingIndicator:u,loadingPosition:l,variant:s}),h=(e=>{const{loading:t,loadingPosition:n,classes:a}=e,o={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat(Object(v.a)(n))],endIcon:[t&&"endIconLoading".concat(Object(v.a)(n))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat(Object(v.a)(n))]},i=Object(w.a)(o,L,a);return Object(x.a)({},a,i)})(j),g=r?Object(R.jsx)(T,{className:h.loadingIndicator,ownerState:j,children:u}):null;return Object(R.jsxs)(M,Object(x.a)({disabled:o||r,id:b,ref:t},d,{variant:s,classes:h,ownerState:j,children:["end"===j.loadingPosition?a:g,"end"===j.loadingPosition?g:a]}))})),N=n(28);const F=e=>{let{onCloseUrl:t}=e;const[n,a]=Object(r.useState)({}),c=Object(h.useHistory)(),[d,u]=Object(r.useState)(!1),{id:p}=Object(b.h)().user||{},O=Object(l.d)();Object(r.useEffect)((()=>{(async()=>{const{success:e,data:t}=await Object(s.b)({uri:"/api/fmcsa/"+p});if(e){const{data:{autoLiabilityInsurance:e,generalLiabilityInsurance:n,cargoLiabilityInsurance:o,email:i,phone:r}={}}=t;a({autoLiabilityInsurance:e?e.url:"",generalLiabilityInsurance:n?n.url:"",cargoLiabilityInsurance:o?o.url:"",email:i,phone:r})}})()}),[p]);const x=e=>{let{target:{name:t,files:n}}=e;a((e=>({...e,[t]:n||null})))},v=e=>{let{target:{name:t,value:o}}=e;a({...n,[t]:o})};return Object(R.jsx)(i.a,{component:"form",noValidate:!0,sx:{minWidth:400},onSubmit:e=>{u(!0),e.preventDefault();const a=new FormData;for(let t of Object.keys(n))if(["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"].indexOf(t)<0){const e=n[t];let o=Array.isArray(e)&&!(null===e)?JSON.stringify(e):e;a.append(t,o)}for(let t of["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"]){const e=n[t];if(e)for(let n of e)a.append(t,n)}Object(s.d)({uri:"/api/fmcsa",body:a}).then((e=>{Object(N.a)(e.data.message),O(j()),c.push(t)})).catch((e=>{console.log(e),Object(N.a)(e.message,"error")})).finally((()=>u(!1)))},children:Object(R.jsxs)(g.a,{spacing:3,children:[Object(R.jsx)(f.a,{type:"email",label:"Email",fullWidth:!0,onChange:v,value:n.email||"",name:"email"}),Object(R.jsx)(f.a,{type:"email",label:"Phone Number",fullWidth:!0,value:n.phone||"",onChange:v,name:"phone"}),Object(R.jsxs)(g.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(R.jsx)(o.a,{children:"General Liability Insurance"}),Object(R.jsxs)("label",{htmlFor:"contained-button-file1",children:[Object(R.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"generalLiabilityInsurance",onChange:x,id:"contained-button-file1"}),Object(R.jsx)(m.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(R.jsxs)(g.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(R.jsx)(o.a,{children:"Auto Liability Insurance"}),Object(R.jsxs)("label",{htmlFor:"contained-button-file2",children:[Object(R.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"autoLiabilityInsurance",onChange:x,id:"contained-button-file2"}),Object(R.jsx)(m.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(R.jsxs)(g.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(R.jsx)(o.a,{children:"Cargo Liability Insurance"}),Object(R.jsxs)("label",{htmlFor:"contained-button-file3",children:[Object(R.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"cargoLiabilityInsurance",onChange:x,id:"contained-button-file3"}),Object(R.jsx)(m.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(R.jsx)(W,{loading:d,loadingIndicator:"Updating...",type:"submit",variant:"contained",children:"Update"})]})})};var U=e=>{let{onCloseUrl:t}=e;const n={title:"Update Carrier Profile",closeUrl:t,paperProps:{sx:{width:"auto"}}};return Object(R.jsx)(p.a,{config:n,children:Object(R.jsx)(F,{onCloseUrl:t})})},z=n(248),q=n(72),A=n(354),B=n.n(A),H=n(35),_=n(57),V=n(74);const K={chRobinson:"C.H. Robinson",newtrul:"New Trul"},{edit:J}=_.a.getUserPermissionsByDashboardId("carrierProfile"),G=e=>{let{path:t,_dbData:n,list:a,refetch:o}=e;return{rowCellPadding:"normal",showRefresh:!1,columns:[{id:"integrationName",label:"Integrations",valueFormatter:e=>K[e]||e},{id:"code",label:"Key/Code",renderer:e=>{let{row:t}=e;return t.code||t.clientSecret?"******":"--"}},{id:"email",label:"Email"},{id:"mc",label:"MC#"},{renderer:(e,i)=>{let{row:r}=e;return Object(R.jsx)(m.a,{disabled:!J,component:q.b,to:{pathname:t+H.j,state:{row:r,rowIndex:i,_dbData:n,list:a,refetch:o}},variant:"contained",children:"Update"})}}]}},Y={containerHeight:"auto",rowCellPadding:"normal",showRefresh:!0,columns:[{id:"name",label:"Company Name"},{id:"otherOrgMetaData.carrier.ein",label:"EIN#"},{id:"otherOrgMetaData.carrier.dotNumber",label:"DOT#",emptyState:"--"},{id:"operatingStatus",label:"Operating Status",renderer:e=>{let{row:t={}}=e;const{otherOrgMetaData:{carrier:{allowedToOperate:n}={}}={}}=t;return Object(b.c)("Y"===n)}}]},Q=e=>{let{path:t,updateFactoringPartners:n}=e;return{rowCellPadding:"normal",showRefresh:!0,columns:[{id:"name",label:"Partner Name"},{id:"host",label:"Host"},{id:"email",label:"Email"},{id:"password",label:"Password",valueFormatter:()=>"******"},{id:"port",label:"Port"},{id:"noticeText",label:"Notice Text"},{id:"lastUpdatedBy.name",label:"Last Updated By"},{id:"status",label:"Status",renderer:e=>{let{row:t}=e;return Object(b.b)(t.status)}},{id:"actions",renderer:e=>{let{row:n}=e;return Object(R.jsx)(z.a,{color:"primary",component:q.b,to:t+V.e+"/".concat(n._id),children:Object(R.jsx)(B.a,{})})},visible:n}]}},X={title:"Update Integration Details",preventBackdropClick:!0,titleStyles:{}};var Z=n(200),$=n(266),ee=n(98),te=n(44),ne=n(253);const ae=Object(r.memo)((e=>{let{onChange:t,form:n,onSubmit:a,errors:i,loading:r}=e;const{password:c,email:l}=n;return Object(R.jsxs)(Z.a,{container:!0,spacing:3,direction:"column",sx:{minWidth:350},component:"form",onSubmit:a,noValidate:!0,children:[Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(o.a,{fontWeight:600,color:te.a,children:"Please verify your credentials."})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{readOnly:!0,label:"Email",fullWidth:!0,type:"email",value:l,name:"email",onChange:t,errors:i})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.g,{label:"Password",fullWidth:!0,value:c,name:"password",onChange:t,errors:i})}),Object(R.jsx)(Z.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:Object(R.jsx)(W,{type:"submit",variant:"contained",color:"primary",loading:r,children:r?"Please wait...":"Verify"})})]})}));var oe=e=>{const{state:{row:t}={}}=e.location,n=t.integrationName.equalsIgnoreCase("chrobinson"),a=K[t.integrationName],[i,c]=Object(r.useState)({email:"",mc:"",code:""}),[l,s]=Object(r.useState)(!1),[d,u]=Object(r.useState)({email:Object(b.h)().user.email,password:""}),[j,h]=Object(r.useState)({}),{loading:g,mutation:m}=Object($.a)(ee.a,null,!0),{loading:f,mutation:O}=Object($.a)(ee.h,null,!0,{queryParams:{update:!0}}),x=e=>{let{name:t,value:n}=e;u({...d,[t]:n}),h({...j,[t]:""})},v=e=>{e.preventDefault();const{email:n,password:a}=d;n||h({...j,email:"Please enter Email"}),a?Object(b.i)(n)?m(d,null).then((e=>{e.success&&(s(!0),c(t))})):h({...j,email:"Invalid Email"}):h({...j,password:"Please enter Password"})},y=e=>{let{name:t,value:n}=e;c({...i,[t]:n}),h({...j,[t]:""})};return l?Object(R.jsxs)(p.a,{config:X,children:[Object(R.jsx)(o.a,{align:"center",variant:"h6",fontWeight:550,mb:1,children:a}),Object(R.jsx)(ne.a,{config:{open:!0,message:"Data changes will reflect after an hour of saving.",severity:"info"},inStyles:{mb:2}}),Object(R.jsx)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault();const{email:a,code:o}=i;if(!Object(b.i)(a)||!a)return h({...j,email:"Invalid Email"});{const e={mc:i.mc,email:i.email};if(o&&Object.assign(e,{code:o}),n){const{clientId:t,clientSecret:n,tCode:a}=i;Object.assign(e,{clientId:t,clientSecret:n,tCode:a})}O({[t.integrationName]:{...e}}).then((e=>{if(!e.success)return Object(N.a)(e.message,"error");Object(N.a)("Updated Successfully"),Object(b.p)("fetchCarrierProfile"),Object(b.p)("closeModal")}))}},children:Object(R.jsxs)(Z.a,{container:!0,spacing:3,direction:"column",sx:{minWidth:350},children:[n&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"Client ID",name:"clientId",onChange:y,value:i.clientId||""})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"Client Secret",name:"clientSecret",onChange:y,value:i.clientSecret||"",multiline:!0,rows:3})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"TCode",name:"tCode",onChange:y,value:i.tCode||""})})]}),!n&&Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"Code",name:"code",onChange:y,value:i.code||"",multiline:!0,rows:5})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"Email",onChange:y,name:"email",value:i.email||""})}),Object(R.jsx)(Z.a,{item:!0,children:Object(R.jsx)(ne.d,{fullWidth:!0,label:"MC#",name:"mc",onChange:y,value:i.mc||""})}),Object(R.jsx)(Z.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:Object(R.jsx)(W,{type:"submit",variant:"contained",color:"primary",loading:f,children:f?"Updating...":"Update"})})]})})]}):Object(R.jsx)(p.a,{config:X,children:Object(R.jsx)(ae,{onChange:x,form:d,onSubmit:v,errors:j,loading:g})})},ie=n(288),re=n(257),ce=n.n(re);const le=Object(C.a)(Z.a)((e=>{let{theme:t}=e;return{width:400,gap:20,[t.breakpoints.down("sm")]:{width:"100%"}}}));const se=e=>{let{onCloseUrl:t,id:n,refetch:a,data:o}=e;const[i,c]=Object(r.useState)(o),{mutation:l,loading:s}=Object($.a)(ee.f+"/".concat(n)),[d,u]=Object(r.useState)({}),j=Object(h.useHistory)(),g=e=>{let{name:t,value:n}=e;c({...i,[t]:n}),u({...d,[t]:""})};return Object(R.jsxs)(le,{component:"form",container:!0,onSubmit:function(e){e.preventDefault();const n={name:i.name,host:i.host,port:i.port,noticeText:i.noticeText,email:i.email};i.password&&(n.password=i.password),i.confirmPassword&&(n.confirmPassword=i.confirmPassword);const{isValid:o,errors:r}=function(e){const t={},{password:n,confirmPassword:a}=e;let o=!0;return e.name||(t.name="Partner Name is required",o=!1),e.noticeText||(t.noticeText="Notice text is required",o=!1),e.email?Object(b.i)(e.email)||(o=!1,t.email="Please enter a valid email"):(t.noticeText="Notice text is required",o=!1),n&&!a?(t.confirmPassword="Please enter Confirm Password",o=!1):(!n&&a||n!==a)&&(t.confirmPassword="Passwords does not match",o=!1),{isValid:o,errors:t}}(n);o?(u({}),delete n.confirmPassword,l(n,"put",(e=>{let{success:n,data:o}=e;n?(a(),Object(N.a)(o.message),j.replace(t)):Object(N.a)(o.message,"error")}))):u(r)},children:[Object(R.jsx)(ne.d,{name:"name",value:null===i||void 0===i?void 0:i.name,onChange:g,label:"Partner Name",errors:d}),Object(R.jsx)(ne.d,{name:"host",value:null===i||void 0===i?void 0:i.host,onChange:g,label:"Host",errors:d}),Object(R.jsx)(ne.d,{name:"port",value:null===i||void 0===i?void 0:i.port,onChange:g,label:"Port",errors:d}),Object(R.jsx)(ne.d,{name:"email",value:null===i||void 0===i?void 0:i.email,onChange:g,label:"Email",type:"email",errors:d}),Object(R.jsx)(ne.g,{name:"password",value:null===i||void 0===i?void 0:i.password,onChange:g,label:"Password",errors:d}),Object(R.jsx)(ne.g,{name:"confirmPassword",value:null===i||void 0===i?void 0:i.confirmPassword,onChange:g,label:"Confirm Password",errors:d}),Object(R.jsx)(ne.d,{multiline:!0,rows:4,name:"noticeText",value:null===i||void 0===i?void 0:i.noticeText,onChange:g,label:"Notice Text",errors:d}),Object(R.jsx)(ne.e,{fullWidth:!0,isLoading:s,type:"submit",disabled:ce.a.isEqual(i,o),children:"Update"})]})};var de=e=>{const{onCloseUrl:t,refetch:n,match:{params:{id:a}={}}={}}=e,{data:o,loading:r}=Object(ie.a)(ee.f+"/".concat(a));return r?Object(R.jsx)(ne.c,{}):Object(R.jsx)(p.a,{config:{title:"Update Factoring Partner"},children:Object(R.jsx)(i.a,{children:Object(R.jsx)(se,{onCloseUrl:t,refetch:n,id:a,data:o})})})},be=n(492);const{viewFactoringPartners:ue,updateFactoringPartners:je}=_.a.getUserPermissionsByDashboardId("carrierProfile");t.default=Object(h.withRouter)((e=>{let{match:t={}}=e;const{path:n}=t,s=Object(h.useRouteMatch)(n+"/updateCarrierProfile"),{data:d,loading:u}=Object(l.e)((e=>e.carrierProfile)),g=Object(l.d)(),{data:m={},loading:f,refetch:p,isRefetching:O}=Object(ie.a)(ee.h,null,{queryParams:{orgId:Object(b.h)().user.orgId}}),{loading:x,data:v,isRefetching:y,refetch:w}=Object(be.a)(ee.f),{data:C,_dbData:P}=m||{};return Object(r.useEffect)((()=>(g(j()),Object(b.a)(window,"fetchCarrierProfile",p),()=>Object(b.m)(window,"fetchCarrierProfile",p))),[g]),Object(R.jsxs)(i.a,{sx:{height:"100%",overflow:"auto"},className:"dashboardRoot",children:[Object(R.jsx)(c.a,{data:d,loading:u,config:Y,onRefetch:p,isRefetching:O}),s&&Object(R.jsx)(U,{onCloseUrl:n}),Object(R.jsx)(i.a,{sx:{mt:4},children:Object(R.jsx)(c.a,{data:C,loading:f,config:G({path:n,data:P,list:C})})}),ue&&Object(R.jsxs)(a.a,{variant:"outlined",sx:{mt:4,background:"#fff",p:2,".enhanced-table":{".tableContainer":{boxShadow:"none",border:"1px solid #e5e5e5"}}},children:[Object(R.jsx)(o.a,{variant:"h6",fontWeight:"bold",children:"Factoring Partners"}),Object(R.jsx)(c.a,{config:Q({path:n,updateFactoringPartners:je}),data:null===v||void 0===v?void 0:v.data,loading:x,isRefetching:y,onRefetch:w})]}),Object(R.jsx)(h.Route,{component:oe,path:n+H.j}),Object(R.jsx)(h.Route,{render:e=>Object(R.jsx)(de,{...e,refetch:w,onCloseUrl:n}),path:n+H.i})]})}))},266:function(e,t,n){"use strict";var a=n(0),o=n(48),i=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[c,l]=Object(a.useState)(!1);return{mutation:async function(a){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",s=arguments.length>2?arguments[2]:void 0,d=e;r.queryParams&&(d=d+"?"+Object(i.n)(r.queryParams)),l(!0),c||(c="post");const b=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(c.toLowerCase());if(b)return b({uri:d,callback:t,body:a,showTriggers:n}).then((e=>(s&&s({...e}),e))).catch((e=>e)).finally((()=>{l(!1)}))},loading:c}}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(367),o=n(236),i=n(0),r=n.n(i),c=n(10),l=n(34),s=n(577),d=n(578),b=n(684),u=n(248),j=n(278),h=n.n(j),g=n(13),m=n(90),f=n(74),p=n(2);const O=Object(c.a)(s.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),x=e=>{const{children:t,onClose:n,showClose:a,titleStyles:o,...i}=e;return Object(p.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...o},...i,children:[a?Object(p.jsx)(u.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(p.jsx)(h.a,{})}):null,t]})};function v(e){const{config:t={},children:n,closeCallback:c}=e,{title:s="",closeUrl:d="",showClose:u=!0,paperProps:j={},preventBackdropClick:h=!1,titleStyles:v={},maxWidth:y="md"}=t,[w,C]=r.a.useState(!1),P=Object(l.a)(),I=Object(o.a)(P.breakpoints.down("sm")),S=function(e){h&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||C(!1)};r.a.useEffect((()=>(C(!0),Object(m.a)(window,"closeModal",S),()=>Object(m.m)(window,"closeModal",S))),[]);const k=Object(i.useMemo)((()=>r.a.forwardRef((function(e,t){const n=Object(g.useHistory)();return Object(p.jsx)(a.a,{ref:t,...e,onExited:()=>c?c():d?n.push(d||f.b):n.goBack()})}))),[]);return Object(p.jsxs)(O,{onClose:S,"aria-labelledby":s||"customized-dialog-title",open:w,maxWidth:y,TransitionComponent:k,PaperProps:j,fullScreen:I,children:[s&&Object(p.jsx)(x,{id:s||"customized-dialog-title",onClose:S,showClose:u,titleStyles:v,children:s}),Object(p.jsx)(b.a,{dividers:!0,sx:{borderTop:"none"},children:n})]})}},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),o=n(1036),i=n(577),r=n(1043),c=n(684),l=n(578),s=n(237),d=n(2);const b=a.forwardRef((function(e,t){return Object(d.jsx)(s.a,{direction:"up",ref:t,...e})}));function u(e){const{open:t=!1,config:n,onClose:a,preventBackdropClose:s=!1,className:u}=e,{title:j,onOk:h,okText:g="Save",content:m,onCancel:f}=n,p=function(e){s&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||a()};return Object(d.jsx)("div",{children:Object(d.jsxs)(i.a,{className:u,open:t,TransitionComponent:b,onClose:p,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof j?j({...n}):Object(d.jsx)(l.a,{sx:{fontWeight:550},children:j}),Object(d.jsx)(c.a,{children:"function"===typeof m?m({config:n}):m}),Object(d.jsxs)(r.a,{children:["function"===typeof f?f({config:n,onClose:a}):Object(d.jsx)(o.a,{variant:"outlined",onClick:p,children:"Cancel"}),"function"===typeof g?g({config:n,onOk:h}):Object(d.jsx)(o.a,{variant:"contained",color:g.equalsIgnoreCase("delete")?"error":"primary",onClick:h,children:g})]})]})})}},275:function(e,t,n){"use strict";var a=n(201),o=n(247),i=n(1175),r=n(1164),c=n(1176),l=n(527),s=n(280),d=n.n(s),b=n(1174),u=n(1173),j=n(1040),h=n(200),g=n(88),m=n(1137),f=n(248),p=n(1172),O=n(1148),x=n(295),v=n.n(x),y=n(1171),w=n(257),C=n.n(w),P=n(287),I=n.n(P),S=n(0),k=n.n(S),L=n(13),E=n(1125),R=n(10),D=n(253),M=n(2);const T=Object(R.a)(E.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),W=Object(R.a)(l.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var N=e=>{let{data:t=[],onPageChange:n,page:a=1,count:o=0,limit:i=1,onLimitChange:r,isLoading:c}=e;const[s,d]=Object(S.useState)(0);Object(S.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(M.jsxs)(W,{direction:"row",alignItems:"center",children:[Object(M.jsxs)(g.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",s," of ",o," entries"]}),Object(M.jsxs)(l.a,{direction:"row",alignItems:"center",children:[Object(M.jsx)(D.h,{disabled:c,name:"pageSize",label:"",value:i,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof r&&r({value:t})}}),Object(M.jsx)(T,{disabled:c,count:Math.ceil(o/i),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},F=n(277),U=n(273),z=n(90),q=n(276);const A=Object(R.a)(y.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),B=Object(R.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function H(e){let{columns:t=[],config:n={},role:a,handleRequestSort:o,hasSort:i}=e;const{headerCellSx:r={},hasDelete:c,sortField:l,sortOrder:s,showCheckbox:d}=n,b=Object(S.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:c="",visible:d=!0,sort:b=!1}=e||{};return(C.a.isFunction(d)?d({column:e,role:a}):d)?Object(M.jsx)(A,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r},children:i&&b?Object(M.jsx)(O.a,{onClick:e=>o(e,c),active:c===l,direction:s,sx:{...r},children:n}):n},c||t):null}))),[t,r]);return d&&b.unshift(Object(M.jsx)(A,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}},"checkbox-header")),Object(M.jsxs)(p.a,{children:[b,c&&Object(M.jsx)(A,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}})]})}const _=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:o,handleDelete:i,...r}=e;return(n||[]).map(((e,n)=>{const{dataKey:c=""}=a;return c&&(e=e[c]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:o,rowIndex:i,handleDelete:r,hasDeletePermission:c,checkboxKey:l,...s}=e;const{hasDelete:d=!1,rowCellPadding:b="none",onRowClick:u,rowStyleCb:j,showCheckbox:h=!1,rowCellSx:g={}}=a,{role:O,onCheckboxChange:x,checkboxes:v}=s;let y={};j&&(y=j({row:t})||{});const w=Object(M.jsx)(A,{sx:{},padding:"none",component:"th",scope:"row",children:Object(M.jsx)(q.a,{title:"Delete",placement:"top",children:Object(M.jsx)(f.a,{onClick:r.bind(void 0,t._id,t),disabled:!c,children:Object(M.jsx)(B,{color:c?"error":"disabled"})})})}),P=n.map(((e,n)=>{const{id:a="",renderer:o,emptyState:r="--",valueFormatter:c,visible:l=!0,cellPadding:s,isCostCell:d}=e||{};if(!(C.a.isFunction(l)?l({column:e,role:O}):l))return null;let u;return u=d?t[a]?Object(z.e)(t[a]||""):r:c&&C.a.isFunction(c)?c(t[a],t):C.a.isFunction(o)?o({row:t,role:O},i)||r:C.a.get(t,a,r)||r,Object(M.jsx)(A,{padding:s||b||"normal",sx:g,component:"th",scope:"row",children:u},a+n)}));if(h){if(!l)throw new Error("Checkbox key not provided");const e=v.indexOf(t[l])>-1;P.unshift(Object(M.jsx)(A,{onClick:x.bind(void 0,t),sx:g,children:Object(M.jsx)(m.a,{checked:e})},"checkbox-".concat(i)))}return Object(M.jsxs)(p.a,{hover:!!u,onClick:e=>{e.preventDefault(),C.a.isFunction(o)&&o(t)},sx:u?{cursor:"pointer",...y}:{...y},children:[P,d&&w]},i)})({row:e,columns:t,config:a,handleRowClick:o,rowIndex:n,handleDelete:i,...r})}))},V=e=>{let{config:t={},data:n=[],history:s,loading:m=!1,onRefetch:p,isRefetching:O,actions:x,isPaginationLoading:v=!1,...y}=e;n=n||[];const{onCheckboxChange:w,checkboxes:P,checkboxKey:L}=y,[E,R]=Object(S.useState)({}),[D,T]=Object(S.useState)({open:!1,config:{}}),{columns:W=[],columnsBuilder:q,onRowClick:A,hasOnClickUrl:B=!0,onPageChange:V,page:K,count:J,limit:G,onPageSizeChange:Y,onLimitChange:Q,size:X="medium",emptyMessage:Z="",onRowClickDataCallback:$,showRefresh:ee=!1,onDelete:te,deleteMessage:ne,deletePermissions:ae=[],containerHeight:oe="",sortField:ie,sortOrder:re="asc",handleSortChange:ce,hasSort:le=!1}=t,{role:se=""}=Object(z.h)().user,de="boolean"===typeof ae?ae:ae.indexOf(se)>-1||!1,be=k.a.useRef([]),ue="function"===typeof q?q({data:n,columns:W}):W,je=Array.isArray(n)&&n.length,he=Object(S.useMemo)((()=>x&&k.a.isValidElement(x)?x:Object(M.jsx)(M.Fragment,{})),[x]),ge=e=>{if(B&&A){const t=A(e);$&&(e=$(e)),s.push(t,e)}else A&&A(e)},me=(e,t)=>{ce&&ce({field:t,order:ie===t&&"asc"===re?"desc":"asc"})},fe=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(M.jsxs)(h.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(M.jsx)(I.a,{color:"error"}),Object(M.jsx)(g.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,pe,{row:t}),content:()=>Object(M.jsx)(j.a,{sx:{color:"#000"},children:C.a.isFunction(ne)?ne({row:t}):ne||"Are you sure you want to delete the record?"})};T({...D,open:!0,config:a})};function pe(){T({...D,open:!1})}const Oe=Object(S.useMemo)((()=>je?Object(M.jsxs)(S.Fragment,{children:[Object(M.jsx)(u.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(M.jsx)(H,{columns:ue,config:t,role:se,handleRequestSort:me,hasSort:le})}),Object(M.jsx)(b.a,{children:Object(M.jsx)(_,{role:se,columns:ue,data:n,config:t,checkboxes:P,checkboxKey:L,handleRowClick:ge,handleDelete:fe,onCheckboxChange:w,hasDeletePermission:de})})]}):Object(M.jsx)("tbody",{style:{height:300},children:Object(M.jsx)("tr",{children:Object(M.jsx)("td",{style:{textAlign:"center"},children:Object(M.jsx)("h4",{children:Z||"No records found"})})})})),[n,t,P]);return Object(S.useEffect)((()=>{var e;if(null!==be&&void 0!==be&&null!==(e=be.current)&&void 0!==e&&e.table){const e=be.current.table.offsetHeight;R({...E,height:e>200?e:void 0})}}),[]),Object(S.useEffect)((()=>{var e;(v||O)&&null!==(e=be.current)&&void 0!==e&&e.tableContainer&&be.current.tableContainer.scrollTo(0,0)}),[v,O]),Object(M.jsxs)(a.a,{className:"enhanced-table",sx:{height:je&&!m?oe||"95%":"auto"},children:[Object(M.jsxs)(l.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[he,ee&&Object(M.jsx)(f.a,{title:"Refresh",onClick:p,children:Object(M.jsx)(d.a,{className:O?"rotateIcon":void 0})})]}),Object(M.jsxs)(i.a,{component:o.a,className:"tableContainer",ref:e=>be.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:je&&!m?"calc(100% - 80px)":"auto",position:"relative"},children:[m?(()=>{const e=window.innerHeight-180,t=(E.height?E.height>e?e:E.height:e)||e;return Object(M.jsx)(h.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(M.jsx)(h.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(M.jsx)(F.a,{})})})})():Object(M.jsx)(c.a,{ref:e=>be.current.table=e,"aria-label":"caption table",size:X,stickyHeader:!0,children:Oe}),Object(M.jsx)(r.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||O||!1,children:Object(M.jsx)(F.a,{sx:{color:"inherit"}})})]}),!m&&n.length>0&&Object(M.jsx)(N,{data:n,onPageChange:V,page:K,count:J,limit:G,onLimitChange:Q||Y,isLoading:O||v}),Object(M.jsx)(U.a,{className:"enhancedTable_dialog",open:D.open,config:D.config,onClose:pe})]})};t.a=Object(L.withRouter)(Object(S.memo)(V))},278:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),i=n(2),r=(0,o.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=r},280:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),i=n(2),r=(0,o.default)((0,i.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=r},288:function(e,t,n){"use strict";var a=n(0),o=n(48),i=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,c]=Object(a.useState)(void 0),[l,s]=Object(a.useState)(!1),[d,b]=Object(a.useState)(null),[u,j]=Object(a.useState)(!1);function h(){let a=e;n.queryParams&&(a="".concat(a,"?").concat(Object(i.n)(n.queryParams))),Object(o.b)({uri:a,callback:t,showTriggers:!1}).then((e=>{e.data&&c(e.data)})).finally((()=>{s(!1),j(!1)}))}return Object(a.useEffect)((()=>{s(!0),b(null),h()}),[e]),{data:r,loading:l,error:d,refetch:function(){j(!0),h()},isRefetching:u}}},354:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),i=n(2),r=(0,o.default)((0,i.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=r},367:function(e,t,n){"use strict";var a=n(1),o=n(4),i=n(0),r=n(135),c=n(34),l=n(41),s=n(24),d=n(2);const b=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],u={entering:{transform:"none"},entered:{transform:"none"}},j=i.forwardRef((function(e,t){const n=Object(c.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:h,appear:g=!0,children:m,easing:f,in:p,onEnter:O,onEntered:x,onEntering:v,onExit:y,onExited:w,onExiting:C,style:P,timeout:I=j,TransitionComponent:S=r.a}=e,k=Object(o.a)(e,b),L=i.useRef(null),E=Object(s.a)(L,m.ref,t),R=e=>t=>{if(e){const n=L.current;void 0===t?e(n):e(n,t)}},D=R(v),M=R(((e,t)=>{Object(l.b)(e);const a=Object(l.a)({style:P,timeout:I,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),O&&O(e,t)})),T=R(x),W=R(C),N=R((e=>{const t=Object(l.a)({style:P,timeout:I,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),y&&y(e)})),F=R(w);return Object(d.jsx)(S,Object(a.a)({appear:g,in:p,nodeRef:L,onEnter:M,onEntered:T,onEntering:D,onExit:N,onExited:F,onExiting:W,addEndListener:e=>{h&&h(L.current,e)},timeout:I},k,{children:(e,t)=>i.cloneElement(m,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||p?void 0:"hidden"},u[e],P,m.props.style),ref:E},t))}))}));t.a=j},492:function(e,t,n){"use strict";var a=n(0),o=n(48),i=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{showPagination:r=!0,page:c,limit:l}=t,[s,d]=Object(a.useState)(void 0),[b,u]=Object(a.useState)({page:c||1,limit:l||10}),[j,h]=Object(a.useState)(!1),[g,m]=Object(a.useState)(null),[f,p]=Object(a.useState)(!1),[O,x]=Object(a.useState)(!1);function v(a){const{page:c,limit:l}=a||{};let s=e;r&&(c&&l&&u({page:c,limit:l}),s="".concat(s,"?page=").concat(c||b.page,"&limit=").concat(l||b.limit)),t.queryParams&&(s="".concat(s,"&").concat(Object(i.n)(t.queryParams))),Object(o.b)({uri:s,callback:n,showTriggers:!1}).then((e=>{e.data&&d(e.data)})).finally((()=>{h(!1),p(!1),x(!1)}))}return Object(a.useEffect)((()=>{h(!0),d(null),m(null),v()}),[e]),{data:s,loading:j,error:g,refetch:function(){p(!0),v({page:c,limit:b.limit})},isRefetching:f,onLimitChange:e=>{let{value:t}=e;x(!0),v({limit:t,page:b.page})},onPageChange:(e,t)=>{x(!0),v({page:t,limit:b.limit})},isPaginationLoading:O,...b}}}}]);
//# sourceMappingURL=24.83fa54ec.chunk.js.map