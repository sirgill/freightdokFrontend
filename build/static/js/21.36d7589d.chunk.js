(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[21],{1064:function(e,t,a){"use strict";a.r(t);var s=a(198),n=a(987),r=a(197),l=a(0),i=a(89),o=a(96),c=a(266),u=a(276),d=a(27),m=a(32),p=a(275),h=a(2);t.default=e=>{const{match:{params:{email:t}={}}={},history:a}=e,[b,j]=Object(l.useState)({}),[x,f]=Object(l.useState)({}),{loading:v,mutation:O}=Object(p.a)("/api/onBoarding/register"),{mutation:g,loading:y}=Object(p.a)("/api/onBoarding/validateOtp");Object(l.useEffect)((()=>{g({email:t}).then((e=>{const{success:t,data:a}=e||{};t||(j({...b,disabled:!0}),null!==a&&void 0!==a&&a.success||(Object(d.a)((null===a||void 0===a?void 0:a.message)||"Server Error","error"),console.error("Server Error")))}))}),[]);const P=e=>{let{name:t,value:a}=e;j({...b,[t]:a}),f((e=>({...e,[t]:""})))};const C=e=>{let{success:t,data:s}=e;t&&(Object(d.a)(s.message),a.push(m.e))};return Object(h.jsx)(r.a,{container:!0,className:"login",children:Object(h.jsxs)("div",{className:"auth-wrapper auth-inner",style:i.k,children:[Object(h.jsx)(o.a,{}),Object(h.jsx)(s.a,{sx:{flex:1,display:"flex",alignItems:"center"},children:Object(h.jsxs)(r.a,{container:!0,spacing:2,component:"form",onSubmit:async function(e){e.preventDefault();let a=!0;const{otp:s,password:n,firstName:r="",lastName:l=""}=b;if(r||(a=!1,f((e=>({...e,firstName:"Please Enter First Name"})))),s?6!==String(s).length&&(a=!1,f((e=>({...e,otp:"OTP should be of six digits"})))):(a=!1,f((e=>({...e,otp:"Please enter OTP"})))),n){if(n.length<8)return f((e=>({...e,password:"Password must be 8 letters"})))}else a=!1,f((e=>({...e,password:"Please enter Password"})));a&&O({email:t,password:n,otp:s,firstName:r.trim(),lastName:l.trim()},null,C)},children:[Object(h.jsx)(r.a,{item:!0,xs:12,children:Object(h.jsx)(c.a,{name:"email",value:t,disabled:!0,label:"Email",fullWidth:!0})}),Object(h.jsx)(r.a,{item:!0,xs:12,children:Object(h.jsx)(c.a,{name:"firstName",required:!0,errors:x,value:b.firstName,label:"First Name",fullWidth:!0,trimValue:!0,onChange:P})}),Object(h.jsx)(r.a,{item:!0,xs:12,children:Object(h.jsx)(c.a,{name:"lastName",value:b.lastName,label:"Last Name",onChange:P,fullWidth:!0})}),Object(h.jsx)(r.a,{item:!0,xs:12,children:Object(h.jsx)(c.a,{fullWidth:!0,name:"otp",required:!0,errors:x,type:"number",inputProps:{max:999999},value:b.otp,label:"OTP",placeholder:"Enter OTP",onChange:P})}),Object(h.jsx)(r.a,{item:!0,xs:12,children:Object(h.jsx)(u.a,{name:"password",required:!0,errors:x,value:b.password,onChange:P})}),Object(h.jsx)(r.a,{item:!0,textAlign:"center",xs:12,children:Object(h.jsx)(n.a,{type:"submit",variant:"contained",disabled:b.disabled||v||y,children:y?"Validating User...":v?"Submitting...":"Submit"})})]})})]})})}},266:function(e,t,a){"use strict";var s=a(1115),n=a(1111),r=a(0),l=a(259),i=a.n(l),o=a(2);const c=e=>{let{errorText:t,handleBlur:a,handleChange:r,hasError:l,className:i,name:c,value:u,InputProps:d,readOnly:m,inputProps:p,helperText:h,fullWidth:b,formControlSx:j,...x}=e;return Object(o.jsx)(s.a,{component:"",fullWidth:b,sx:j,children:Object(o.jsx)(n.a,{name:c,error:l,onChange:r,onBlur:a,className:i,value:u,InputProps:{className:"",...d},helperText:l?t:h,size:"small",inputProps:{readOnly:m,...p},...x})})},u=Object(r.memo)(c);t.a=e=>{const{label:t,name:a,errors:s={},onChange:n,value:r,className:l,classNameRoot:c,isCapitalize:d=!1,inputProps:m={},type:p="text",onBlur:h,InputProps:b,readOnly:j,helperText:x,fullWidth:f=!0,trimValue:v=!1,formControlSx:O={},...g}=e,y=s[a]||!1,P=s[a];return Object(o.jsx)(u,{value:r,name:a,label:t,hasError:y,errorText:P,handleChange:e=>{let{name:t,value:a}=e.target;d&&(a=a.capitalize()),v&&(a=a.trim()),n&&n({name:t,value:a})},handleBlur:e=>{const{name:t,value:a}=e.target;if("number"===p){const{max:e,min:s}=m;e&&a>e?i.a.isFunction(n)&&n({name:t,value:e}):e&&a<s&&i.a.isFunction(n)&&n({name:t,value:s})}h&&h({name:t,value:a})},className:l,InputProps:b,inputProps:m,readOnly:j,type:p,helperText:x,fullWidth:f,formControlSx:O,...g})}},275:function(e,t,a){"use strict";var s=a(0),n=a(56),r=a(89);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,o]=Object(s.useState)(!1);return{mutation:async function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",c=arguments.length>2?arguments[2]:void 0,u=e;l.queryParams&&(u=u+"?"+Object(r.h)(l.queryParams)),o(!0),i||(i="post");const d=(e=>{let t;switch(e){case"put":t=n.e;break;case"delete":t=n.a;break;case"patch":t=n.c;break;default:t=n.d}return t})(i.toLowerCase());if(d)return d({uri:u,callback:t,body:s,showTriggers:a}).then((e=>(c&&c({...e}),e))).catch((e=>e)).finally((()=>{o(!1)}))},loading:i}}},276:function(e,t,a){"use strict";var s=a(1115),n=a(1111),r=a(1112),l=a(245),i=a(0),o=a.n(i),c=a(334),u=a.n(c),d=a(335),m=a.n(d),p=a(11),h=a.n(p),b=a(2);const j=e=>{let{onChange:t,name:a,label:i="Password",value:c,errors:d={},startAdornment:p,...h}=e;const[j,x]=o.a.useState(!1),f=!!d[a],v=d[a];return Object(b.jsx)(s.a,{variant:"outlined",fullWidth:!0,children:Object(b.jsx)(n.a,{id:"outlined-adornment-password",type:j?"text":"password",fullWidth:!0,label:i,value:c,error:f,helperText:f?v:"",size:"small",onChange:e=>{const{name:a,value:s}=e.target;t&&t({name:a,value:s})},name:a,InputProps:{startAdornment:p,endAdornment:Object(b.jsx)(r.a,{position:"end",children:Object(b.jsx)(l.a,{"aria-label":"toggle password visibility",onClick:()=>x((e=>!e)),onMouseDown:e=>{e.preventDefault()},edge:"end",children:j?Object(b.jsx)(u.a,{}):Object(b.jsx)(m.a,{})})})},...h})})};j.proptype={label:h.a.string.isRequired,onChange:h.a.func.isRequired,value:h.a.string.isRequired,name:h.a.string.isRequired},t.a=j},334:function(e,t,a){"use strict";var s=a(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(90)),r=a(2),l=(0,n.default)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.default=l},335:function(e,t,a){"use strict";var s=a(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(a(90)),r=a(2),l=(0,n.default)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.default=l}}]);
//# sourceMappingURL=21.36d7589d.chunk.js.map