(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[24],{1066:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(4),r=a(14),c=a(43),i=a(98),o=a(30),l=a(194),b=a(0),j=a(27),u=a(225),d=a(7),m=a(1),O=["children","alertConfig"],f=Object(d.a)(i.a)((function(e){return Object(u.a)(e),{backgroundColor:"#F7FAFC",boxShadow:"0px 0px 80px rgba(34, 35, 58, 0.2)"}})),p=function(e){var t=e.children,a=e.alertConfig,s=void 0===a?{}:a,r=Object(j.a)(e,O);return Object(m.jsxs)(f,Object(n.a)(Object(n.a)({},r),{},{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.a,{config:s})}),t]}))},h=a(82),x=a(446),g=a(46),v=a(137),P=a(35),w=a(567),C=function(e){var t=e.form,a=e.onChange,s=e.loading,n=e.errors;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.b,{type:"number",label:"OTP",onChange:a,value:t.otp,name:"otp",errors:n})}),Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.d,{label:"New Password",onChange:a,value:t.pass,name:"pass",errors:n})}),Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.d,{label:"Confirm Password",onChange:a,value:t.confirmPass,name:"confirmPass",errors:n})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(l.c,{isLoading:s,type:"submit",loadingText:"Please wait...",children:"Submit"})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(c.a,{component:g.b,to:v.b,sx:{display:"block"},children:"Sign In"})})]})};t.default=function(e){var t,a=e.history,c=Object(b.useState)({pass:"",confirmPass:"",email:"",otp:""}),j=Object(r.a)(c,2),u=j[0],d=j[1],O=Object(b.useState)({pass:"",confirmPass:"",email:"",otp:""}),f=Object(r.a)(O,2),g=f[0],y=f[1],k=Object(b.useState)(!1),S=Object(r.a)(k,2),F=S[0],T=S[1],V=Object(b.useState)({open:!1,message:"",severity:"error"}),L=Object(r.a)(V,2),E=L[0],J=L[1],N=Object(x.a)("/api/forgotPassword"),A=N.mutation,D=N.loading,I=Object(x.a)("/api/forgotPassword"),q=I.mutation,z=I.loading,B=function(e){var t=e.name,a=e.value;d(Object(n.a)(Object(n.a)({},u),{},Object(s.a)({},t,a))),y(Object(n.a)(Object(n.a)({},g),{},Object(s.a)({},t,"")))};return t=F?Object(m.jsx)(C,{form:u,onChange:B,loading:z,errors:g}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{item:!0,xs:12,children:Object(m.jsx)(l.b,{label:"Email",onChange:B,value:u.email,name:"email",errors:g})}),Object(m.jsx)(i.a,{item:!0,xs:12,sx:{m:"auto"},children:Object(m.jsx)(l.c,{isLoading:D,type:"submit",loadingText:"Please wait...",children:"Verify"})})]}),Object(m.jsx)("div",{className:"auth-wrapper",style:o.j,children:Object(m.jsxs)(p,{container:!0,direction:"column",gap:2,px:8,py:4,component:"form",onSubmit:function(e){if(J(Object(n.a)(Object(n.a)({},E),{},{open:!1})),e.preventDefault(),F){var t=u.confirmPass,s=u.pass,r=u.otp,c=u.email,i=Object(w.b)({confirmPass:t,pass:s}),l=i.isValid,b=i.err;if(!l)return y(b);t!==s?J(Object(n.a)(Object(n.a)({},E),{},{open:!0,message:"Passwords do not match"})):q({confirmPass:t,email:c,otp:r,newPass:u.pass},"put").then((function(e){var t=e.success,s=e.data;t?(Object(P.a)(null===s||void 0===s?void 0:s.message),a.push(v.b)):J(Object(n.a)(Object(n.a)({},E),{},{open:!0,message:s.message}))})).catch((function(e){Object(P.a)(e.message,"error")}))}else{if(!Object(o.e)(u.email))return y(Object(n.a)(Object(n.a)({},g),{},{email:"Please enter valid Email"}));A({email:u.email},"post").then((function(e){var t=e.success,a=e.data;Object(P.a)(null===a||void 0===a?void 0:a.message,t?void 0:"error"),t&&T(!0)})).catch((function(e){Object(P.a)(e.message,"error")}))}},alertConfig:E,children:[Object(m.jsx)(i.a,{item:!0,sx:{mb:3},children:Object(m.jsx)(h.a,{style:{pointer:"default"}})}),t]})})}},446:function(e,t,a){"use strict";var s=a(33),n=a(4),r=a(51),c=a(14),i=a(0),o=a(91),l=function(e){var t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=Object(i.useState)(!1),b=Object(c.a)(o,2),j=b[0],u=b[1],d=function(){var c=Object(r.a)(Object(s.a)().mark((function r(c){var i,o,b,j=arguments;return Object(s.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(i=j.length>1&&void 0!==j[1]?j[1]:"post",o=j.length>2?j[2]:void 0,u(!0),i||(i="post"),!(b=l(i.toLowerCase()))){s.next=7;break}return s.abrupt("return",b({uri:e,callback:t,body:c,showTriggers:a}).then((function(e){return o&&o(Object(n.a)({},e)),e})).catch((function(e){return e})).finally((function(){u(!1)})));case 7:case"end":return s.stop()}}),r)})));return function(e){return c.apply(this,arguments)}}();return{mutation:d,loading:j}}},567:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(e,t,a){var s=!0,n={};return e||(s=!1,n.currentPass="Please enter Current Password"),t||(n.pass="Please enter Password",s=!1),a||(n.confirmPass="Please enter Confirm Password",s=!1),{isValid:s,err:n}},n=function(e){var t=e.pass,a=e.confirmPass,s=!0,n={};return t||(s=!1,n.pass="Please enter Password"),a||(n.confirmPass="Please enter Confirm Password",s=!1),{isValid:s,err:n}}}}]);
//# sourceMappingURL=24.9eb3284c.chunk.js.map