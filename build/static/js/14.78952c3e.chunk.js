(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{1128:function(e,t,a){"use strict";a.r(t);var n=a(198),i=a(503),c=a(272),r=a.n(c),o=a(245),s=a(87),l=(a(0),a(275)),d=a(326),j=a(73),p=a.n(j),u=a(89),b=a(258),h=a(72),x=a(13),m=a(471),g=a.n(m),O=a(464),f=a(65),v=a(299),y=a(387),C=a(43),k=a(2);var w=e=>{const{edit:t}=f.a.getUserPermissionsByDashboardId("loads"),{match:{params:{id:a}={}}={}}=e,n=Object(C.d)(),{loading:i=!0,data:{data:c={}}={}}=Object(d.a)("/api/loadHistory/"+a);return i?Object(k.jsx)(b.b,{}):Object(k.jsx)(y.a,{modalEdit:!1,open:!i,load:c,handleClose:e=>{let{history:t}=e;t.goBack(),n(Object(v.f)())},deleteLoad:e=>n(Object(v.b)(e)),canUpdate:!!t})};t.default=e=>{const{edit:t}=f.a.getUserPermissionsByDashboardId("history"),{match:{path:a}={}}=e,{data:c,loading:j,limit:m,page:v,isPaginationLoading:y,refetch:C,isRefetching:S,onPageChange:D,onLimitChange:F,isSearching:P,searchQuery:A,handleSearch:L,sortField:R,sortOrder:N,handleSortChange:z}=Object(d.a)("/api/loadHistory",{orderBy:"updatedAt",order:"desc"}),{totalCount:I,data:T}=c||{},_={showRefresh:!0,rowCellPadding:"normal",count:I,sortField:R,sortOrder:N,hasSort:!1,page:v,limit:m,onPageChange:D,handleSortChange:z,onLimitChange:F,columns:[{id:"loadNumber",label:"Load Number",sort:!0,renderer:e=>{let{row:t}=e;return Object(k.jsx)(s.a,{sx:{textDecoration:"underline"},component:h.b,to:"".concat(a,"/").concat(t._id),children:t.loadNumber})}},{id:"pickup",label:"PickUp City/State",renderer:e=>{let{row:{pickup:t=[]}={}}=e;const[{pickupCity:a="",pickupState:n=""}]=t;return"".concat(a,", ").concat(n)}},{id:"pickupDate",label:"Pickup Date",renderer:e=>{let{row:{pickup:t=[]}={}}=e;const[{pickupDate:a=""}]=t;return p()(a).format("MM/DD/YYYY")}},{id:"dropCity",label:"Drop City/State",renderer:e=>{let{row:{drop:t=[]}={}}=e;const[{dropCity:a="",dropState:n=""}]=t;return"".concat(a,", ").concat(n)}},{id:"dropDate",label:"Drop Date",renderer:e=>{let{row:{drop:t=[]}={}}=e;const[{dropDate:a=""}]=t;return p()(a).format("MM/DD/YYYY")}},{id:"brokerage",label:"Customer",renderer:e=>{let{row:{brokerage:t=""}={}}=e;return t}},{id:"user.firstName",label:"Assigned To",renderer:e=>{let{row:{user:{name:t="",firstName:a,lastName:n}={}}={}}=e;return t||"".concat(a||"--"," ").concat(n||"")}},{id:"accessorials",label:"Accessorials",valueFormatter:e=>(e||[]).join(", ")},{id:"rate",label:"Rate",emptyState:"--",valueFormatter:e=>e?Object(u.d)(e):""},{id:"updatedAt",label:"Updated On",sort:!0,valueFormatter:e=>new Date(e).toLocaleString()},{id:"",label:"Move",visible:!!t,renderer:e=>{let{row:t}=e;return Object(k.jsx)(o.a,{component:h.b,to:a+"/move/"+t._id,variant:"outlined",color:"primary",children:Object(k.jsx)(g.a,{})})}}]};function M(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>e.id.equalsIgnoreCase("archived")?{...e,disabled:!0}:e))}const W=Object(k.jsx)(i.a,{direction:"row",children:Object(k.jsx)(b.c,{value:A,onChange:L,placeholder:"Search",sx:{"& .MuiOutlinedInput-root":{pr:0}},autoFocus:!0,InputProps:{endAdornment:Object(k.jsx)(o.a,{onClick:()=>L({value:""}),sx:{visibility:A?"visible":"hidden"},children:Object(k.jsx)(r.a,{fontSize:"small"})})}})}),B={title:"Move Load"};return Object(k.jsxs)(n.a,{sx:{height:"inherit"},children:[Object(k.jsx)(l.a,{data:T,config:_,loading:j,actions:W,onRefetch:C,isRefetching:S,isPaginationLoading:y||P}),Object(k.jsx)(x.Route,{path:a+"/move/:id",render:e=>Object(k.jsx)(O.a,{onCloseUrl:a,refetch:C,getLoadStatuses:M,modalConfig:B,...e})}),Object(k.jsx)(x.Route,{exact:!0,path:a+"/:id",component:w})]})}},266:function(e,t,a){"use strict";var n=a(0),i=a(48),c=a(89);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[o,s]=Object(n.useState)(!1);return{mutation:async function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;r.queryParams&&(d=d+"?"+Object(c.j)(r.queryParams)),s(!0),o||(o="post");const j=(e=>{let t;switch(e){case"put":t=i.e;break;case"delete":t=i.a;break;case"patch":t=i.c;break;default:t=i.d}return t})(o.toLowerCase());if(j)return j({uri:d,callback:t,body:n,showTriggers:a}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{s(!1)}))},loading:o}}},267:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(368),i=a(233),c=a(0),r=a.n(c),o=a(9),s=a(32),l=a(546),d=a(547),j=a(649),p=a(245),u=a(272),b=a.n(u),h=a(13),x=a(89),m=a(74),g=a(2);const O=Object(o.a)(l.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),f=e=>{const{children:t,onClose:a,showClose:n,titleStyles:i,...c}=e;return Object(g.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...i},...c,children:[n?Object(g.jsx)(p.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(g.jsx)(b.a,{})}):null,t]})};function v(e){const{config:t={},children:a,closeCallback:o}=e,{title:l="",closeUrl:d="",showClose:p=!0,paperProps:u={},preventBackdropClick:b=!1,titleStyles:v={}}=t,[y,C]=r.a.useState(!1),k=Object(s.a)(),w=Object(i.a)(k.breakpoints.down("sm")),S=function(e){b&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||C(!1)};r.a.useEffect((()=>(C(!0),Object(x.a)(window,"closeModal",S),()=>Object(x.i)(window,"closeModal",S))),[]);const D=Object(c.useMemo)((()=>r.a.forwardRef((function(e,t){const a=Object(h.useHistory)();return Object(g.jsx)(n.a,{ref:t,...e,onExited:()=>o?o():d?a.push(d||m.a):a.goBack()})}))),[]);return Object(g.jsxs)(O,{onClose:S,"aria-labelledby":l||"customized-dialog-title",open:y,maxWidth:"lg",TransitionComponent:D,PaperProps:u,fullScreen:w,children:[l&&Object(g.jsx)(f,{id:l||"customized-dialog-title",onClose:S,showClose:p,titleStyles:v,children:l}),Object(g.jsx)(j.a,{dividers:!0,sx:{borderTop:"none"},children:a})]})}},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),i=a(998),c=a(546),r=a(1002),o=a(649),s=a(547),l=a(234),d=a(2);const j=n.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function p(e){const{open:t=!1,config:a,onClose:n,preventBackdropClose:l=!1,className:p}=e,{title:u,onOk:b,okText:h="Save",content:x,onCancel:m}=a,g=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||n()};return Object(d.jsx)("div",{children:Object(d.jsxs)(c.a,{className:p,open:t,TransitionComponent:j,onClose:g,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof u?u({...a}):Object(d.jsx)(s.a,{sx:{fontWeight:550},children:u}),Object(d.jsx)(o.a,{children:"function"===typeof x?x({config:a}):x}),Object(d.jsxs)(r.a,{children:["function"===typeof m?m({config:a,onClose:n}):Object(d.jsx)(i.a,{variant:"outlined",onClick:g,children:"Cancel"}),"function"===typeof h?h({config:a,onOk:b}):Object(d.jsx)(i.a,{variant:"contained",color:h.equalsIgnoreCase("delete")?"error":"primary",onClick:b,children:h})]})]})})}},275:function(e,t,a){"use strict";var n=a(198),i=a(244),c=a(1151),r=a(1140),o=a(1152),s=a(503),l=a(296),d=a.n(l),j=a(1150),p=a(1149),u=a(999),b=a(197),h=a(87),x=a(1111),m=a(245),g=a(1148),O=a(1122),f=a(304),v=a.n(f),y=a(1147),C=a(256),k=a.n(C),w=a(284),S=a.n(w),D=a(0),F=a.n(D),P=a(13),A=a(1101),L=a(9),R=a(258),N=a(2);const z=Object(L.a)(A.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),I=Object(L.a)(s.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var T=e=>{let{data:t=[],onPageChange:a,page:n=1,count:i=0,limit:c=1,onLimitChange:r,isLoading:o}=e;const[l,d]=Object(D.useState)(0);Object(D.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return i<=5?null:Object(N.jsxs)(I,{direction:"row",alignItems:"center",children:[Object(N.jsxs)(h.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",i," entries"]}),Object(N.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(N.jsx)(R.f,{disabled:o,name:"pageSize",label:"",value:c,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof r&&r({value:t})}}),Object(N.jsx)(z,{disabled:o,count:Math.ceil(i/c),color:"primary",variant:"contained",page:n,size:"medium",onChange:(e,t)=>{+n!==+t&&"function"===typeof a&&a(e,+t)}})]})]})},_=a(279),M=a(269),W=a(89),B=a(271);const E=Object(L.a)(y.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),Y=Object(L.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function U(e){let{columns:t=[],config:a={},role:n,handleRequestSort:i,hasSort:c}=e;const{headerCellSx:r={},hasDelete:o,sortField:s,sortOrder:l,showCheckbox:d}=a,j=Object(D.useMemo)((()=>t.map(((e,t)=>{const{label:a="",id:o="",visible:d=!0,sort:j=!1}=e||{};return(k.a.isFunction(d)?d({column:e,role:n}):d)?Object(N.jsx)(E,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r},children:c&&j?Object(N.jsx)(O.a,{onClick:e=>i(e,o),active:o===s,direction:l,sx:{...r},children:a}):a},o||t):null}))),[t,r]);return d&&j.unshift(Object(N.jsx)(E,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}})),Object(N.jsxs)(g.a,{children:[j,o&&Object(N.jsx)(E,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...r}})]})}const q=e=>{let{columns:t,data:a=[],config:n={},handleRowClick:i,handleDelete:c,...r}=e;return(a||[]).map(((e,a)=>{const{dataKey:o=""}=n;return o&&(e=e[o]),(e=>{let{row:t=[],columns:a={},config:n={},handleRowClick:i,rowIndex:c,handleDelete:r,hasDeletePermission:o,checkboxKey:s,...l}=e;const{hasDelete:d=!1,rowCellPadding:j="none",onRowClick:p,rowStyleCb:u,showCheckbox:b=!1}=n,{role:h,onCheckboxChange:O,checkboxes:f}=l;let v={};u&&(v=u({row:t})||{});const y=Object(N.jsx)(E,{sx:{},padding:"none",component:"th",scope:"row",children:Object(N.jsx)(B.a,{title:"Delete",placement:"top",children:Object(N.jsx)(m.a,{onClick:r.bind(void 0,t._id,t),disabled:!o,children:Object(N.jsx)(Y,{color:"error"})})})}),C=a.map(((e,a)=>{const{id:n="",renderer:i,emptyState:r="--",valueFormatter:o,visible:s=!0,cellPadding:l}=e||{};if(!(k.a.isFunction(s)?s({column:e,role:h}):s))return null;let d;return d=o&&k.a.isFunction(o)?o(t[n]):k.a.isFunction(i)?i({row:t,role:h},c)||r:k.a.get(t,n,r)||r,Object(N.jsx)(E,{padding:l||j||"normal",component:"th",scope:"row",children:d},n+a)}));if(b){if(!s)throw new Error("Checkbox key not provided");const e=f.indexOf(t[s])>-1;C.unshift(Object(N.jsx)(E,{onClick:O.bind(void 0,t),children:Object(N.jsx)(x.a,{checked:e})}))}return Object(N.jsxs)(g.a,{hover:!!p,onClick:e=>{e.preventDefault(),k.a.isFunction(i)&&i(t)},sx:p?{cursor:"pointer",...v}:{...v},children:[C,d&&y]},c)})({row:e,columns:t,config:n,handleRowClick:i,rowIndex:a,handleDelete:c,...r})}))},H=e=>{let{config:t={},data:a=[],history:l,loading:x=!1,onRefetch:g,isRefetching:O,actions:f,isPaginationLoading:v=!1,...y}=e;a=a||[];const{onCheckboxChange:C,checkboxes:w,checkboxKey:P}=y,[A,L]=Object(D.useState)({}),[R,z]=Object(D.useState)({open:!1,config:{}}),{columns:I=[],onRowClick:B,hasOnClickUrl:E=!0,onPageChange:Y,page:H,count:Z,limit:K,onPageSizeChange:V,onLimitChange:J,size:G="medium",emptyMessage:Q="",onRowClickDataCallback:X,showRefresh:$=!1,onDelete:ee,deleteMessage:te,deletePermissions:ae=[],containerHeight:ne="",sortField:ie,sortOrder:ce="asc",handleSortChange:re,hasSort:oe=!1}=t,{role:se=""}=Object(W.f)().user,le="boolean"===typeof ae?ae:ae.indexOf(se)>-1||!1,de=F.a.useRef([]),je=Array.isArray(a)&&a.length,pe=Object(D.useMemo)((()=>f&&F.a.isValidElement(f)?f:Object(N.jsx)(N.Fragment,{})),[f]),ue=e=>{if(E&&B){const t=B(e);X&&(e=X(e)),l.push(t,e)}else B&&B(e)},be=(e,t)=>{re&&re({field:t,order:ie===t&&"asc"===ce?"desc":"asc"})},he=(e,t,a)=>{a.stopPropagation();const n={title:()=>Object(N.jsxs)(b.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(N.jsx)(S.a,{color:"error"}),Object(N.jsx)(h.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>ee(e,xe,{row:t}),content:()=>Object(N.jsx)(u.a,{sx:{color:"#000"},children:k.a.isFunction(te)?te({row:t}):te||"Are you sure you want to delete the record?"})};z({...R,open:!0,config:n})};function xe(){z({...R,open:!1})}const me=Object(D.useMemo)((()=>je?Object(N.jsxs)(D.Fragment,{children:[Object(N.jsx)(p.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(N.jsx)(U,{columns:I,config:t,role:se,handleRequestSort:be,hasSort:oe})}),Object(N.jsx)(j.a,{children:Object(N.jsx)(q,{role:se,columns:I,data:a,config:t,checkboxes:w,checkboxKey:P,handleRowClick:ue,handleDelete:he,onCheckboxChange:C,hasDeletePermission:le})})]}):Object(N.jsx)("tbody",{style:{height:300},children:Object(N.jsx)("tr",{children:Object(N.jsx)("td",{style:{textAlign:"center"},children:Object(N.jsx)("h4",{children:Q||"No records found"})})})})),[a,t,w]);return Object(D.useEffect)((()=>{var e;if(null!==de&&void 0!==de&&null!==(e=de.current)&&void 0!==e&&e.table){const e=de.current.table.offsetHeight;L({...A,height:e>200?e:void 0})}}),[]),Object(D.useEffect)((()=>{var e;(v||O)&&null!==(e=de.current)&&void 0!==e&&e.tableContainer&&de.current.tableContainer.scrollTo(0,0)}),[v,O]),Object(N.jsxs)(n.a,{className:"enhanced-table",sx:{height:je&&!x?ne||"95%":"auto"},children:[Object(N.jsxs)(s.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[pe,$&&Object(N.jsx)(m.a,{title:"Refresh",onClick:g,children:Object(N.jsx)(d.a,{className:O?"rotateIcon":void 0})})]}),Object(N.jsxs)(c.a,{component:i.a,className:"",ref:e=>de.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:je&&!x?"calc(100% - 80px)":"auto",position:"relative"},children:[x?(()=>{const e=window.innerHeight-180,t=(A.height?A.height>e?e:A.height:e)||e;return Object(N.jsx)(b.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(N.jsx)(b.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(N.jsx)(_.a,{})})})})():Object(N.jsx)(o.a,{ref:e=>de.current.table=e,"aria-label":"caption table",size:G,stickyHeader:!0,children:me}),Object(N.jsx)(r.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||O||!1,children:Object(N.jsx)(_.a,{sx:{color:"inherit"}})})]}),!x&&a.length>0&&Object(N.jsx)(T,{data:a,onPageChange:Y,page:H,count:Z,limit:K,onLimitChange:J||V,isLoading:O||v}),Object(N.jsx)(M.a,{className:"enhancedTable_dialog",open:R.open,config:R.config,onClose:xe})]})};t.a=Object(P.withRouter)(Object(D.memo)(H))},287:function(e,t,a){"use strict";var n=a(87),i=(a(0),a(256)),c=a.n(i),r=a(703),o=a(704),s=a(2);const l=e=>{const{label:t="",type:a="text",options:n=[],labelKey:i="label",valueKey:o="id",onChangeSelect:l,showFirstBlank:d=!1,onBlur:j}=e;if(delete(e=c.a.cloneDeep(e)).showFirstBlank,"select"===a.toLowerCase()){Array.isArray(n)&&n.length||console.error("Options are mandatory in array format");const c=(n||[]).map((e=>Object(s.jsx)("option",{value:e[o],children:e[i]},e[o])));return d&&c.unshift(Object(s.jsx)("option",{value:"",children:"Select an option"})),Object(s.jsx)(r.a,{...e,onChange:l,id:t,type:a,children:c})}return Object(s.jsx)(r.a,{id:t,type:a,...e,onBlur:j})};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{label:t="",type:a="text",multiple:i=!1,onChange:c,labelStyle:r={},direction:d="column",formGrpStyle:j={},errorText:p="",onBlur:u}=e;return Object(s.jsxs)(o.a,{style:"row"===d?{display:"flex",alignItems:"center",...j}:{...j},children:[t&&Object(s.jsx)("label",{className:"form-control-label",htmlFor:t,style:{color:"#525F7F",marginRight:8,...r},children:t}),Object(s.jsx)(l,{...e,onChangeSelect:e=>{if("select"===a.toLowerCase()&&i){const{options:t,name:a}=e.target,n=[];for(let e=0,i=t.length;e<i;e++)t[e].selected&&n.push(t[e].value);c&&c(e,n,a)}else c&&c(e)},onBlur:e=>{u&&u(e.target.name,e.target.value)}}),p&&Object(s.jsx)(n.a,{variant:"subtitle2",sx:{color:"red",fontSize:"0.75em"},children:p})]})}},288:function(e,t,a){"use strict";var n=a(0),i=a(48),c=a(89);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o]=Object(n.useState)(void 0),[s,l]=Object(n.useState)(!1),[d,j]=Object(n.useState)(null),[p,u]=Object(n.useState)(!1);function b(){let n=e;a.queryParams&&(n="".concat(n,"?").concat(Object(c.j)(a.queryParams))),Object(i.b)({uri:n,callback:t,showTriggers:!1}).then((e=>{e.data&&o(e.data)})).finally((()=>{l(!1),u(!1)}))}return Object(n.useEffect)((()=>{l(!0),j(null),b()}),[e]),{data:r,loading:s,error:d,refetch:function(){u(!0),b()},isRefetching:p}}},299:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return j})),a.d(t,"a",(function(){return p})),a.d(t,"g",(function(){return u})),a.d(t,"b",(function(){return b}));var n=a(24),i=a.n(n),c=a(27),r=a(3),o=a(48);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async(i,s)=>{i({type:r.M,payload:{isLoadsFetching:!0}});try{const{success:s,data:l}=await Object(o.b)({uri:"/api/load/me?page=".concat(e+1,"&limit=").concat(t,"&module=").concat(a,"&search=").concat(n)});i({type:r.M,payload:{isLoadsFetching:!1}}),s?i({type:r.F,payload:{loads:l,page:e,limit:t,loading:!1}}):Object(c.a)(l.message,"error")}catch(l){i(Object(c.b)(l.message,"error"))}}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async o=>{try{const c="/api/load/me?page=".concat(e+1,"&limit=15&search=").concat(a,"&module=").concat(n),s=await i.a.get(c);o({type:r.hb,payload:{data:s.data,page:e,limit:t,search:a}})}catch(s){o(Object(c.b)(s.message,"error"))}}},d=function(){return async(e,t)=>{e({type:r.fb});const{load:{page:a,rowsPerPage:n}}=t()}},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:r.ib,payload:e}},p=(e,t)=>async a=>{try{const{data:n,success:i}=await Object(o.d)({uri:"/api/load",body:e});i?(a({type:r.b,payload:n}),Object(c.a)("Load Created"),t&&t(i,n)):Object(c.a)(n.message,"error")}catch(n){a(Object(c.b)(n.message,"error")),console.log(n)}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return async(i,r)=>{try{const l=new FormData;for(let t of Object.keys(e))if(["rateConfirmation","proofDelivery"].indexOf(t)<0){const a=e[t],n=Array.isArray(a);let i=n&&!(null===a)?JSON.stringify(a):a;l.append(t,i)}l.append("bucketFiles",JSON.stringify(a));for(let t of["rateConfirmation","proofDelivery","accessorialsFiles"]){const a=e[t];if(a)for(let e of a)l.append(t,e)}const{success:d,data:j}=await Object(o.c)({uri:"/api/load/modify",body:l});if(d){Object(c.a)("Load Updated");const{load:{rowsPerPage:e,page:a}}=r();i(s(a,e,t))}n(d,j)}catch(l){Object(c.a)(l.message,"error")}}},b=(e,t)=>async a=>{try{const{success:n,data:i}=await Object(o.a)({uri:"/api/load",body:{data:{load_id:e}}});Object(c.a)(i.message,n?"success":"error"),n&&a({type:r.t,payload:e}),t&&t(n,i)}catch(n){Object(c.a)(n.message,"error")}}},317:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return j}));var n=a(24),i=a.n(n),c=a(27),r=a(3);const o=()=>async e=>{try{const t=await i.a.get("/api/drivers/me");Object.assign(t.data,{timestamp:new Date}),e({type:r.D,payload:t.data})}catch(n){var t,a;console.log(n),e({type:r.u,payload:{msg:null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.statusText,status:null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status}})}},s=(e,t)=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},n=await i.a.post("/api/drivers",e,a);Object(c.a)(n.data.message),t(o())}catch(a){let e=a.errors&&Array.isArray(a.errors)&&a.errors.length?a.errors[0].msg:a.message;t(Object(c.b)(e,"error"))}},l=(e,t)=>async(a,n)=>{try{let c=n().driver.drivers;const o=await i.a.patch("/api/drivers/loads?driver_id=".concat(e),{loads:t});let s=c.indexOf(c.find((e=>e._id===o.data._id)));-1!==s&&(c[s]=o.data),a({type:r.W,payload:c})}catch(c){a({type:r.u,payload:{msg:c.response.statusText,status:c.response.status}})}},d=(e,t)=>async(a,n)=>{try{let o=n().driver.drivers;const s=await i.a.delete("/api/drivers/",{data:{driver_id:e}});let l=o.indexOf(o.find((e=>e._id===s.data._id)));-1!==l&&o.splice(l,1),Object(c.a)("Deleted Successfully"),t&&t(s),a({type:r.r,payload:o})}catch(o){a({type:r.u,payload:{msg:o.response.statusText,status:o.response.status}})}},j=(e,t)=>async(a,n)=>{try{let c=n().driver.drivers;const o=await i.a.delete("/api/drivers/loads",{data:{load_id:t,driver_id:e}});let s=c.indexOf(c.find((e=>e._id===o.data._id)));-1!==s&&(c[s]=o.data),a({type:r.s,payload:c})}catch(c){a({type:r.u,payload:{msg:c.response.statusText,status:c.response.status}})}}},326:function(e,t,a){"use strict";var n=a(0),i=a(256),c=a.n(i),r=a(48);t.a=(e,t)=>{const{order:a="asc",orderBy:i,debounceTime:o=500}=t||{},[s,l]=Object(n.useState)([]),[d,j]=Object(n.useState)(!1),[p,u]=Object(n.useState)(1),[b,h]=Object(n.useState)(100),[x,m]=Object(n.useState)(""),[g,O]=Object(n.useState)(!1),[f,v]=Object(n.useState)(!1),[y,C]=Object(n.useState)(!1),[k,w]=Object(n.useState)(i),[S,D]=Object(n.useState)(a),F=Object(n.useRef)(!0);Object(n.useEffect)((()=>{P()}),[e,p,b,k,S]),Object(n.useEffect)((()=>{j(!0)}),[]),Object(n.useEffect)((()=>{const e=c.a.debounce((()=>{F.current||(v(!0),P())}),o);return e(),e.cancel}),[x,o]);const P=Object(n.useCallback)((async()=>{Object(r.b)({uri:"".concat(e,"?page=").concat(p,"&search=").concat(x,"&limit=").concat(b,"&sortField=").concat(k,"&sortOrder=").concat(S)}).then((e=>{const{data:t}=e;l(t)})).catch((e=>{console.error(e.message)})).finally((()=>{j(!1),O(!1),v(!1),C(!1),F.current&&(F.current=!1)}))}),[e,p,b,x,k,S]),A=Object(n.useCallback)(((e,t)=>{O(!0),u(t)}),[]),L=Object(n.useCallback)((e=>{let{value:t}=e;m(t),u(1)}),[]),R=Object(n.useCallback)((e=>{let{value:t}=e;O(!0),u(1),h(t)}),[]),N=Object(n.useCallback)((e=>{let{field:t,order:a}=e;w(t),D(a),O(!0),u(1)}),[]);return{data:s,loading:d,page:p,limit:b,onPageChange:A,handleSearch:L,refetch:()=>{u(1),C(!0),P()},onLimitChange:R,searchQuery:x,isPaginationLoading:g,isSearching:f,isRefetching:y,sortField:k,sortOrder:S,handleSortChange:N}}},377:function(e,t,a){},387:function(e,t,a){"use strict";var n=a(1115),i=a(470),c=a.n(i),r=a(469),o=a.n(r),s=a(378),l=a.n(s),d=a(198),j=a(199),p=a(468),u=a.n(p),b=a(1074),h=a(197),x=a(1110),m=a(1144),g=a(245),O=a(272),f=a.n(O),v=a(503),y=a(87),C=a(0),k=a.n(C),w=a(256),S=a.n(w),D=a(1153),F=a(1138),P=a(13),A=a(43),L=a(73),R=a.n(L),N=a(1103),z=a(1096),I=a(705),T=a(1065),_=a(1137),M=a(47),W=a(1086),B=a(317);const E=(e,t,a)=>(t!==a&&(Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(e,t)),delete e[t]),e);var Y=a(299),U=a(287),q=a(288),H=a(44),Z=a(998),K=a(244),V=a(89),J=a(267),G=a(9),Q=a(465),X=a.n(Q),$=a(376),ee=a.n($),te=a(258),ae=a(2);const ne=Object(G.a)(K.a)((e=>{let{}=e;return{width:100,height:100,borderRadius:5,overflow:"hidden",padding:8,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}})),ie=e=>{let{files:t=[],onClose:a,onRemoveAll:n}=e;const i=(t||[]).map((e=>Object(ae.jsxs)(ne,{elevation:3,children:[Object(ae.jsx)(ee.a,{sx:{color:H.a}}),Object(ae.jsx)(y.a,{variant:"subtitle2",align:"center",sx:{width:"inherit",overflow:"hidden",textOverflow:"ellipsis"},children:e.name})]})));return Object(ae.jsx)(J.a,{config:{title:"Edit File"},closeCallback:a,children:Object(ae.jsxs)(h.a,{container:!0,spacing:2,sx:{display:"grid"},children:[Object(ae.jsx)(h.a,{item:!0,children:Object(ae.jsx)(te.a,{config:{open:!0,message:"Previous files, if exist will be overwritten with new files.",severity:"info"}})}),t&&Object(ae.jsx)(h.a,{item:!0,children:Object(ae.jsx)(Z.a,{variant:"outlined",sx:{float:"right"},onClick:n,color:"error",children:"Remove All"})}),Object(ae.jsx)(h.a,{item:!0,children:Object(ae.jsx)(h.a,{container:!0,gap:2,sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)"},children:i})})]})})};var ce=e=>{const[t,a]=Object(C.useState)({open:!1,config:{}}),{edit:n,rateConfirmation:i=[],proofDelivery:c=[],accessorialsFiles:r=[],handleFileChange:o,rateConfirmationRef:s,proofDeliveryRef:l,accessorialsRef:d,state:j,rateConFile:p,podFile:u,formAccessorialsFiles:b}=e;function h(e,t,n){n.stopPropagation(),a({open:!0,config:[...e],name:t})}function x(){a({open:!1,config:null})}return Object(ae.jsxs)(v.a,{sx:{alignItems:"end"},children:[t.open&&Object(ae.jsx)(ie,{files:t.config,onClose:x,onRemoveAll:function(){o({target:{name:t.name,files:null}}),x()}}),Object(ae.jsxs)(v.a,{direction:"row",spacing:2,sx:{mb:1},children:[i.length?i.map(((e,t)=>Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("span",{style:{margin:0,padding:0,marginLeft:"2px"},children:Object(ae.jsxs)("a",{href:e,target:"_blank",children:["Rate Con-",t+1]})})}))):Object(ae.jsx)("span",{children:"Rate Con"}),Object(ae.jsx)("span",{children:n?Object(ae.jsx)(C.Fragment,{children:p?Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",onClick:h.bind(void 0,p,"rateConfirmation"),startIcon:Object(ae.jsx)(X.a,{}),children:"View"}):Object(ae.jsxs)("label",{htmlFor:"contained-button-file1",children:[Object(ae.jsx)("input",{style:{display:"none"},type:"file",multiple:!0,name:"rateConfirmation",disabled:!n||"driver"===j.auth.user.role,onChange:o,ref:s,id:"contained-button-file1"}),Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",children:"Attach"})]})}):Object(V.b)(!!i.length)})]}),Object(ae.jsxs)(v.a,{direction:"row",spacing:2,sx:{mb:1},children:[c.length?c.map(((e,t)=>Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("span",{style:{margin:0,padding:0,marginLeft:"2px"},children:Object(ae.jsxs)("a",{href:e,target:"_blank",children:["POD-",t+1]})})}))):Object(ae.jsx)("span",{children:"POD"}),Object(ae.jsx)("span",{children:n?u?Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",onClick:h.bind(void 0,u,"proofDelivery"),startIcon:Object(ae.jsx)(X.a,{}),children:"View"}):Object(ae.jsxs)("label",{htmlFor:"contained-button-file2",children:[Object(ae.jsx)("input",{style:{display:"none"},type:"file",multiple:!0,name:"proofDelivery",disabled:!n,onChange:o,ref:l,id:"contained-button-file2"}),Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",children:"Attach"})]}):Object(V.b)(!!c.length)})]}),Object(ae.jsxs)(v.a,{direction:"row",spacing:2,children:[r.length?r.map(((e,t)=>Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)("span",{style:{margin:0,padding:0,marginLeft:"2px"},children:Object(ae.jsxs)("a",{href:e,target:"_blank",children:["Accessorials-",t+1]})})}))):Object(ae.jsx)("span",{children:"Accessorials"}),Object(ae.jsx)("span",{children:n?b?Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",onClick:h.bind(void 0,b,"accessorialsFiles"),startIcon:Object(ae.jsx)(X.a,{}),children:"View"}):Object(ae.jsx)(C.Fragment,{children:Object(ae.jsxs)("label",{htmlFor:"contained-button-file3",children:[Object(ae.jsx)("input",{style:{display:"none"},type:"file",multiple:!0,name:"accessorialsFiles",disabled:!n||"driver"===j.auth.user.role,onChange:o,ref:d,id:"contained-button-file3"}),Object(ae.jsx)(Z.a,{variant:"outlined",component:"span",size:"small",children:"Attach"})]})}):Object(V.b)(!(null===r||void 0===r||!r.length))})]})]})},re=a(302),oe=a(1090);const se=Object(oe.a)((e=>({root:{minWidth:200,maxWidth:350,marginBottom:10,backgroundColor:"#FFFFFF",borderRadius:5,borderWidth:1,borderStyle:"solid",borderColor:"grey"},cardcontent:{flexDirection:"row",wrap:"wrap",minWidth:100,maxWidth:150,paddingLeft:20,paddingTop:15,paddingBottom:5,"&:last-child":{paddingBottom:5}},pickup:{fontSize:12,alignItems:"center"},h4:{margin:0,padding:0},loadp:{display:"flex",margin:0,padding:0,paddingLeft:150,alignItems:"center"},playIcon:{height:38,width:30,marginLeft:0},textField:{"& input":{color:"#000000"},"& input:disabled":{color:"#000000"}},textFieldDialog:{"& input":{color:"#000000"},"& input:disabled":{color:"#000000"}},textFieldDialogPickup:{"& input":{color:"#000000"},"& input:disabled":{color:"#000000"},marginLeft:"75px"},textFieldDialogDrop:{"& input":{color:"#000000"},"& input:disabled":{color:"#000000"},marginLeft:"25px"},resize:{fontSize:13},resizeDialog:{fontSize:14},newLoad:{margin:0},paper:{position:"absolute",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(1,2,3),top:"50%",left:"50%",width:"80%",transform:"translate(-50%, -50%)",overflowY:"auto",maxHeight:"90%",outline:"none"},rootLoadDetailModal:{flexGrow:1,flexDirection:"row"},formControl:{margin:e.spacing(1),minWidth:120}})));a(377);const le={status:"",rate:"",assignedTo:null,trailorNumber:"",rateConfirmation:null,proofDelivery:null,accessorials:[],pickup:[],drop:[],invoice_created:!1},de={PaperProps:{style:{maxHeight:224,width:250}}},je={textField:{helperText:"DD/MM/YYYY hh:mm AM/PM",size:"small",fullWidth:!0}},pe={textField:{size:"small",fullWidth:!0}},ue=e=>{let{value:t}=e;return t||"--"},be=e=>{let{modalEdit:t,open:a,handleClose:i,listBarType:r,load:s,canUpdate:p}=e,{_id:O,brokerage:w,loadNumber:L,rate:Z,trailorNumber:K,pickup:V,drop:J,assignedTo:G=null,user:Q,status:X="",accessorials:$=[],invoice_created:ee,bucketFiles:te=[]}=s||{};const ne=S.a.cloneDeep(te),ie=se(),oe=Object(A.d)(),be=Object(A.e)((e=>e)),[he,xe]=k.a.useState(!0),[me,ge]=k.a.useState({...le}),{data:{data:Oe=[]}={}}=Object(q.a)("/api/loadStatuses"),[fe,ve]=Object(C.useState)(!1),ye=Object(C.useRef)(),Ce=Object(C.useRef)(),ke=Object(C.useRef)(),we=Object(P.useHistory)(),Se=he?_.a:T.a,{assignees:De=[]}=be.driver||{},Fe=De.map((e=>{const{_id:t,firstName:a,lastName:n,role:i,user:c={}}=e||{},{name:r="",role:o,_id:s}=c||{};return{name:r,_id:s||t,firstName:a,lastName:n,role:Object(re.a)(o||i)}}))||[];Object(C.useEffect)((()=>{Pe(),ge({status:X,assignedTo:null===Q||void 0===Q?void 0:Q._id,accessorials:$,trailorNumber:K,pickup:V,drop:J,rate:Z,loadNumber:L,invoice_created:ee}),Te()}),[]),Object(C.useEffect)((()=>{be.load.error.msg||xe(!1)}),[be.load.error]),Object(C.useEffect)((()=>{t&&xe(!0)}),[t]),Object(C.useEffect)((()=>{be.load.load}),[be.load.load]);const Pe=()=>{oe(Object(B.d)())},Ae=()=>{i({history:we})},Le=e=>{ve(!1),e&&Ae()},Re=e=>{e.preventDefault(),"Empty"!==me.status&&(me.invoice_created=!1),ve(!0),oe(Object(Y.g)({...me,_id:O},r,ne,Le))},Ne=e=>{const{name:t,value:a}=e.target;ge({...me,[t]:a})},ze=(e,t,a)=>{let{target:{value:n}}=e;"pickup"===t?ge({...me,pickup:[{...me.pickup[0],[a]:n}]}):"drop"===t&&ge({...me,drop:[{...me.drop[0],[a]:n}]})},Ie=(e,t)=>{ge({...me,[t]:[{...me[t][0],["".concat(t,"Date")]:e}]})},Te=()=>{ye.current&&(ye.current.value=""),Ce.current&&(Ce.current.value="")},_e=(e,t,a)=>{ge((n=>({...n,[t]:[{...n[t][0],[a]:e}]})))},Me=()=>{try{const{auth:{user:{role:e}}}=be;return e}catch(e){return""}};if(te.length){const e=[...te];te={proofDelivery:[],rateConfirmation:[],accessorialsFiles:[]},e.forEach((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{fileType:t="",fileLocation:a=""}=e;te[t].push(a)}))}else te={};const{rateConfirmation:We=[],proofDelivery:Be=[],accessorialsFiles:Ee=[]}=te||{},Ye=e=>{let{heading:t,values:a=[],spacing:n=2,sxObject:i={}}=e;return Object(ae.jsxs)(v.a,{spacing:n,sx:{...i},className:"staticInfo",children:[Object(ae.jsx)(v.a,{children:Object(ae.jsx)(y.a,{sx:{fontWeight:600,fontSize:18,textAlign:"center",pt:3},children:t})}),a.map((e=>Object(ae.jsx)(v.a,{children:Object(ae.jsx)(ue,{value:e})})))]})};return Object(ae.jsx)(ae.Fragment,{children:Object(ae.jsx)(n.a,{open:a,onClose:Ae,"aria-labelledby":"server-modal-title",children:Object(ae.jsx)(I.a,{dateAdapter:W.a,children:Object(ae.jsxs)("div",{style:{width:"90%"},className:ie.paper,children:[Object(ae.jsx)(v.a,{direction:"row",justifyContent:"space-between",sx:{mb:2},children:Object(ae.jsx)(g.a,{children:Object(ae.jsx)(f.a,{id:"server-modal-title",onClick:Ae})})}),Object(ae.jsxs)("form",{onSubmit:Re,children:[Object(ae.jsxs)(h.a,{container:!0,spacing:2,className:ie.rootLoadDetailModal,children:[Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsxs)(h.a,{container:!0,className:ie.rootLoadDetailModal,spacing:2,sx:{pl:3,pr:3},children:[Object(ae.jsx)(h.a,{item:!0,xs:12,sm:4,children:Object(ae.jsxs)(D.a,{sx:{m:1},size:"small",fullWidth:!0,children:[Object(ae.jsx)(F.a,{id:"multiple-name",children:"Status"}),Object(ae.jsx)(x.a,{id:"multiple-name",name:"status",value:me.status,onChange:e=>{let{target:{value:t}}=e;return ge({...me,status:t})},input:Object(ae.jsx)(Se,{size:"small",label:"",notched:!1,sx:{}}),MenuProps:de,disabled:!he||"driver"===be.auth.user.role,children:(Oe||[]).map((e=>Object(ae.jsx)(m.a,{value:e.id,children:e.label},e.id)))})]})}),Object(ae.jsx)(h.a,{item:!0,xs:12,sm:4,children:Object(ae.jsxs)(D.a,{sx:{m:1},size:"small",fullWidth:!0,children:[Object(ae.jsx)(F.a,{id:"multiple-name",children:"Assigned"}),Object(ae.jsx)(x.a,{id:"multiple-name",name:"assignedTo",disabled:!he||"driver"===be.auth.user.role,value:me.assignedTo,onChange:e=>{let{target:{value:t}}=e;return ge({...me,assignedTo:t})},input:Object(ae.jsx)(Se,{size:"small",label:"",notched:!1,sx:{}}),MenuProps:de,children:Fe.map((e=>Object(ae.jsx)(m.a,{value:e._id,children:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.role||"--",")")},e._id)))})]})}),Object(ae.jsxs)(h.a,{item:!0,xs:12,sm:4,children:[Object(ae.jsx)(F.a,{id:"demo-multiple-name-label",children:"Accessorials"}),Object(ae.jsx)(D.a,{sx:{m:0},fullWidth:!0,children:Object(ae.jsx)(x.a,{labelId:"demo-multiple-name-label",id:"demo-multiple-name",multiple:!0,value:me.accessorials,onChange:e=>{let{target:{value:t}}=e;return ge({...me,accessorials:"string"===typeof t?t.split(","):t})},input:Object(ae.jsx)(Se,{size:"small",label:"",notched:!1}),MenuProps:de,disabled:!he,children:[{id:"Tonu",label:"Tonu"},{id:"Detention",label:"Detention"},{id:"Lumper-by-Broker",label:"Lumper by Broker"},{id:"Lumper-by-Carrier",label:"Lumper by Carrier"},{id:"Layover",label:"Layover"},{id:"scale-ticket",label:"Scale Ticket"}].map((e=>Object(ae.jsx)(m.a,{value:e.id,children:e.label},e.id)))})})]})]})}),Object(ae.jsx)(h.a,{item:!0,xs:12,sx:{m:2},children:Object(ae.jsx)(b.a,{})})]}),Object(ae.jsxs)(h.a,{container:!0,children:[Object(ae.jsx)(h.a,{item:!0,xs:2,sx:{display:"flex"},children:Object(ae.jsxs)(d.a,{sx:{alignItems:"end",display:"flex"},children:[he?Object(ae.jsxs)(d.a,{sx:{position:"relative"},children:[Object(ae.jsx)(g.a,{onClick:Re,disabled:fe,children:Object(ae.jsx)(u.a,{fontSize:"large",color:fe?"disabled":"primary"})}),fe&&Object(ae.jsx)(j.a,{size:65,sx:{color:M.a[500],position:"absolute",top:-6,left:-6,zIndex:1}})]}):Object(ae.jsx)(g.a,{onClick:()=>xe(!0),title:"Edit",disabled:fe||!p,children:Object(ae.jsx)(l.a,{fontSize:"large",color:fe?"disabled":"primary"})}),he?Object(ae.jsx)(g.a,{onClick:()=>{ge({...me,assignedTo:Q,status:X,accessorials:$,pickup:V,drop:J}),xe(!1),Te()},disabled:fe,children:Object(ae.jsx)(f.a,{fontSize:"large",color:fe?"disabled":"primary"})}):Object(ae.jsx)(g.a,{onClick:()=>{let e={...s};e=E(e,"pickup","pickUp"),e=E(e,"drop","dropOff"),ve(!0),oe(Object(Y.a)(e,Le))},title:"Create Copy",disabled:fe||!p,children:Object(ae.jsx)(o.a,{fontSize:"large",color:fe?"disabled":"primary"})})]})}),Object(ae.jsx)(h.a,{item:!0,xs:8,children:Object(ae.jsxs)(h.a,{container:!0,children:[Object(ae.jsx)(h.a,{xs:12,item:!0,display:"flex",justifyContent:"center",children:Object(ae.jsxs)(v.a,{children:[Object(ae.jsx)(v.a,{direction:"row",children:he?Me()&&("admin"===Me()||"dispatch"===Me())&&Object(ae.jsx)(U.a,{labelStyle:{fontWeight:800,fontSize:18,color:"#03031A"},id:"outlined-basic",name:"loadNumber",value:me.loadNumber,onChange:Ne,label:"Load",direction:"row"}):Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(y.a,{sx:{mr:1,fontWeight:600,fontSize:18},children:"Load"}),Object(ae.jsx)(y.a,{item:!0,sx:{fontSize:18},children:L||"--"})]})}),Object(ae.jsx)(v.a,{direction:"row",children:he?Me()&&("admin"===Me()||"dispatch"===Me())&&Object(ae.jsx)(U.a,{id:"outlined-basic",label:"Rate",name:"rate",value:me.rate,onChange:Ne,direction:"row",labelStyle:{fontWeight:800,fontSize:18,color:"#03031A"}}):Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(y.a,{sx:{mr:1,fontWeight:600,fontSize:18},children:"Rate"}),Object(ae.jsx)(y.a,{item:!0,sx:{fontSize:18},children:Z||"--"})]})})]})}),Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsxs)(h.a,{container:!0,children:[Object(ae.jsx)(h.a,{item:!0,xs:5,children:Object(ae.jsxs)(v.a,{sx:{textAlign:"center"},children:[Object(ae.jsx)(v.a,{children:he&&"driver"!==be.auth.user.role?Object(ae.jsxs)(v.a,{children:[Object(ae.jsx)(U.a,{id:"outlined-basic",placeholder:"Shipper Name",value:me.pickup[0]?me.pickup[0].shipperName:"",onChange:e=>ze(e,"pickup","shipperName")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"Address",value:me.pickup[0]?me.pickup[0].pickupAddress:"",onChange:e=>ze(e,"pickup","pickupAddress")}),he&&"driver"!==be.auth.user.role&&Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"City",value:me.pickup[0]?me.pickup[0].pickupCity:"",onChange:e=>ze(e,"pickup","pickupCity")}),Object(ae.jsx)(U.a,{id:"outlined-basic",placeholder:"State",value:me.pickup[0]?me.pickup[0].pickupState:"",onChange:e=>ze(e,"pickup","pickupState")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"Zip",value:me.pickup[0]?me.pickup[0].pickupZip:"",onChange:e=>ze(e,"pickup","pickupZip")})]})]}):Object(ae.jsx)(Ye,{heading:"Pickup",values:[V&&V[0]?V[0].shipperName:"",me.pickup[0]?me.pickup[0].pickupAddress:"","".concat(V&&V[0]?V[0].pickupCity:"",", ").concat(V&&V[0]?V[0].pickupState:"",", ").concat(V&&V[0]?V[0].pickupZip:"")]})}),Object(ae.jsx)(v.a,{spacing:2,children:he?Object(ae.jsxs)(h.a,{container:!0,spacing:2,children:[Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsx)(y.a,{sx:{fontWeight:600,fontSize:18,textAlign:"center"},children:"Pickup Time"})}),Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsx)(I.a,{dateAdapter:W.a,children:Object(ae.jsx)(z.a,{value:R()(me.pickup[0]?me.pickup[0].pickupDate:"")||new Date,onChange:e=>Ie(e.toISOString(),"pickup"),slotProps:je,label:"Pickup Date"})})}),Object(ae.jsx)(h.a,{item:!0,xs:6,children:Object(ae.jsx)(N.a,{label:"In Time",value:R()(me.pickup[0]?me.pickup[0].in_time:""),onChange:e=>_e(e,"pickup","in_time"),slotProps:pe})}),Object(ae.jsx)(h.a,{item:!0,xs:6,children:Object(ae.jsx)(N.a,{label:"Out Time",value:R()(me.pickup[0]?me.pickup[0].out_time:""),onChange:e=>_e(e,"pickup","out_time"),slotProps:pe})})]}):Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(Ye,{spacing:2,sxObject:{mt:2},heading:"Pickup Time",values:[V&&V[0]?R()(V[0].pickupDate).format("LLL"):""]}),Object(ae.jsxs)(v.a,{direction:"row",justifyContent:"space-evenly",spacing:2,children:[Object(ae.jsx)(v.a,{children:V&&V[0]&&V[0].in_time?Object(ae.jsxs)(v.a,{sx:{textAlign:"left"},children:[Object(ae.jsx)(y.a,{variant:"subtitle2",sx:{color:"#595959"},children:"In Time: "}),Object(ae.jsx)(d.a,{children:R()(V[0].in_time).format("h:mm A")})]}):"--"}),Object(ae.jsx)(v.a,{children:V&&V[0]&&V[0].out_time?Object(ae.jsxs)(v.a,{sx:{textAlign:"left"},children:[Object(ae.jsx)(y.a,{variant:"subtitle2",sx:{color:"#595959"},children:"Out Time:"}),Object(ae.jsx)(d.a,{children:R()(V[0].out_time).format("h:mm A")})]}):"--"})]})]})}),Object(ae.jsx)(v.a,{spacing:2,children:Object(ae.jsxs)(h.a,{item:!0,xs:12,style:{textAlign:"left",width:"100%"},children:[Object(ae.jsxs)(v.a,{spacing:2,sx:{mt:2,mb:2},children:[Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"PO#"}),he?Object(ae.jsx)(U.a,{value:me&&me.pickup[0]?me.pickup[0].pickupPo:"",onChange:e=>ze(e,"pickup","pickupPo")}):Object(ae.jsx)(y.a,{children:V&&V[0]?V[0].pickupPo:""})]}),Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"Reference#"}),he?Object(ae.jsx)(U.a,{value:V&&me.pickup[0]?me.pickup[0].pickupReference:"",onChange:e=>ze(e,"pickup","pickupReference")}):Object(ae.jsx)(y.a,{children:V&&V[0]?V[0].pickupReference:""})]}),Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"Delivery#"}),he?Object(ae.jsx)(U.a,{value:V&&me.pickup[0]?me.pickup[0].pickupDeliverNumber:"",onChange:e=>ze(e,"pickup","pickupDeliverNumber")}):Object(ae.jsx)(y.a,{children:V&&V[0]?V[0].pickupDeliverNumber:""})]})]}),"driver"!==be.auth.user.role&&Object(ae.jsx)(U.a,{id:"outlined-multiline-static",placeholder:"Pickup Notes",multiline:!0,rows:2,type:"textarea",value:me.pickup[0]?me.pickup[0].notes:"",onChange:e=>ze(e,"pickup","notes"),variant:"outlined",readOnly:!he})]})})]})}),Object(ae.jsx)(h.a,{item:!0,xs:2,sx:{display:"flex",alignItem:"center",mt:5},children:Object(ae.jsx)(c.a,{style:{color:H.b,marginTop:"13%",margin:"0 auto",height:40,width:40}})}),Object(ae.jsxs)(h.a,{item:!0,xs:5,children:[Object(ae.jsx)(v.a,{sx:{textAlign:"center"},children:he?"driver"!==be.auth.user.role&&Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"Receiver Name",value:me.drop[0]?me.drop[0].receiverName:"",onChange:e=>ze(e,"drop","receiverName")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"Address",value:me.drop[0]?me.drop[0].dropAddress:"",onChange:e=>ze(e,"drop","dropAddress")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"City",value:me.drop[0]?me.drop[0].dropCity:"",onChange:e=>ze(e,"drop","dropCity")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"State",value:me.drop[0]?me.drop[0].dropState:"",onChange:e=>ze(e,"drop","dropState")}),Object(ae.jsx)(U.a,{id:"outlined-basic",variant:"outlined",placeholder:"Zip",value:me.drop[0]?me.drop[0].dropZip:"",onChange:e=>ze(e,"drop","dropZip")})]}):Object(ae.jsx)(Ye,{heading:"Drop",values:[J&&J[0]?J[0].receiverName:"",me.drop[0]?me.drop[0].dropAddress:"","".concat(J&&J[0]?J[0].dropCity:"",",\n                                    ").concat(J&&J[0]?J[0].dropState:"",",\n                                    ").concat(J&&J[0]?J[0].dropZip:"")]})}),Object(ae.jsx)(v.a,{spacing:2,sx:{textAlign:"center"},children:he?Object(ae.jsxs)(h.a,{container:!0,spacing:2,children:[Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsx)(y.a,{sx:{fontWeight:600,fontSize:18,textAlign:"center"},children:"Drop Time"})}),Object(ae.jsx)(h.a,{item:!0,xs:12,children:Object(ae.jsx)(z.a,{value:R()(me.drop[0]?me.drop[0].dropDate:"")||new Date,onChange:e=>Ie(e.toISOString(),"drop"),slotProps:je,label:"Drop Date"})}),Object(ae.jsx)(h.a,{item:!0,xs:6,children:Object(ae.jsx)(N.a,{label:"In Time",value:R()(me.drop[0]?me.drop[0].in_time:"")||new Date,onChange:e=>_e(e,"drop","in_time"),slotProps:pe})}),Object(ae.jsx)(h.a,{item:!0,xs:6,children:Object(ae.jsx)(N.a,{label:"Out Time",value:R()(me.drop[0]?me.drop[0].out_time:""),onChange:e=>_e(e,"drop","out_time"),slotProps:pe})})]}):Object(ae.jsxs)(C.Fragment,{children:[Object(ae.jsx)(Ye,{spacing:2,sxObject:{mt:2},heading:"Drop Time",values:[J&&J[0]?R()(J[0].dropDate).format("LLL"):""]}),Object(ae.jsxs)(v.a,{direction:"row",justifyContent:"space-evenly",spacing:1,children:[Object(ae.jsx)(v.a,{children:J&&J[0]&&J[0].in_time?Object(ae.jsxs)(v.a,{sx:{textAlign:"left"},children:[Object(ae.jsx)(y.a,{variant:"subtitle2",sx:{color:"#595959"},children:"In Time: "}),Object(ae.jsx)(d.a,{children:R()(J[0].in_time).format("h:mm A")})]}):"--"}),Object(ae.jsx)(v.a,{children:J&&J[0]&&J[0].out_time?Object(ae.jsxs)(v.a,{sx:{textAlign:"left"},children:[Object(ae.jsx)(y.a,{variant:"subtitle2",sx:{color:"#595959"},children:"Out Time: "}),Object(ae.jsx)(d.a,{children:R()(J[0].out_time).format("h:mm A")})]}):"--"})]})]})}),Object(ae.jsxs)(h.a,{item:!0,xs:12,sx:{textAlign:"left",mt:1},children:[Object(ae.jsxs)(v.a,{spacing:2,sx:{mt:2,mb:2},children:[Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"PO#"}),he?Object(ae.jsx)(U.a,{dropPo:"dropPo",value:me&&me.drop[0]?me.drop[0].dropPo:"",onChange:e=>ze(e,"drop","dropPo")}):Object(ae.jsx)(y.a,{children:J&&J[0]?J[0].dropPo:""})]}),Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"Reference# "}),he?Object(ae.jsx)(U.a,{value:me&&me.drop[0]?me.drop[0].dropReference:"",onChange:e=>ze(e,"drop","dropReference")}):Object(ae.jsx)(y.a,{children:J&&J[0]?J[0].dropReference:""})]}),Object(ae.jsxs)(v.a,{direction:"row",alignItems:"center",spacing:1,children:[Object(ae.jsx)(y.a,{fontWeight:700,children:"Deliver# "}),he?Object(ae.jsx)(U.a,{value:me&&me.drop[0]?me.drop[0].dropDeliverNumber:"",onChange:e=>ze(e,"drop","dropDeliverNumber")}):Object(ae.jsx)(y.a,{children:J&&J[0]?J[0].dropDeliverNumber:""})]})]}),"driver"!==be.auth.user.role&&Object(ae.jsx)(U.a,{id:"outlined-multiline-static",placeholder:"Drop Notes",multiline:!0,rows:2,type:"textarea",value:me.drop[0]?me.drop[0].notes:"",onChange:e=>ze(e,"drop","notes"),variant:"outlined",readOnly:!he})]})]})]})})]})}),Object(ae.jsx)(h.a,{item:!0,xs:2,sx:{display:"flex",alignItems:"end",justifyContent:"flex-end"},children:Object(ae.jsx)(ce,{edit:he,rateConfirmation:We,proofDelivery:Be,accessorialsFiles:Ee,handleFileChange:e=>{let{target:{name:t,files:a}}=e;ge((e=>({...e,[t]:a||null})))},rateConfirmationRef:ye,proofDeliveryRef:Ce,accessorialsRef:ke,state:be,rateConFile:me.rateConfirmation,podFile:me.proofDelivery,formAccessorialsFiles:me.accessorialsFiles})})]}),Object(ae.jsxs)(h.a,{container:!0,spacing:2,className:ie.rootLoadDetailModal,style:{marginTop:10},children:[Object(ae.jsx)(h.a,{item:!0,xs:1}),Object(ae.jsx)(h.a,{item:!0,xs:4,justifyContent:"center",sx:{textAlign:"center"}}),Object(ae.jsx)(h.a,{item:!0,xs:2,justifyContent:"center",display:"flex"}),Object(ae.jsx)(h.a,{item:!0,xs:4,style:{textAlign:"center"}}),Object(ae.jsx)(h.a,{item:!0,xs:1})]})]})]})})})})};t.a=k.a.memo(be,(()=>!0))},464:function(e,t,a){"use strict";var n=a(87),i=a(197),c=a(267),r=a(286),o=a(33),s=a(0),l=a(266),d=a(258),j=a(9),p=a(2);const u={title:"Move Invoice to My Loads",preventBackdropClick:!0},b=Object(j.a)(i.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{width:"auto"},[t.breakpoints.up("sm")]:{width:300}}}));t.a=e=>{const{onCloseUrl:t,getInvoices:a,refetch:j,getLoadStatuses:h,modalConfig:x,match:{params:{id:m}={}}={},history:g}=e,[O,f]=Object(s.useState)(),{mutation:v,loading:y}=Object(l.a)("/api/invoice/moveToMyLoads"),C=h?h(o.d):o.d.map((e=>e.id.equalsIgnoreCase("delivered")?{...e,disabled:!0}:e));return Object(p.jsx)(c.a,{config:x||u,children:Object(p.jsxs)(b,{container:!0,component:"form",spacing:2,onSubmit:e=>{e.preventDefault(),v({id:m,status:O},null,(()=>{a&&a(),j&&j(),g.replace(t)}))},children:[Object(p.jsx)(i.a,{item:!0,children:Object(p.jsx)(n.a,{children:"Select a load status"})}),Object(p.jsx)(i.a,{item:!0,xs:12,children:Object(p.jsx)(r.a,{label:"Status",name:"status",options:C,onChange:e=>{let{value:t}=e;f(t)},value:O,showNone:!0})}),Object(p.jsx)(i.a,{item:!0,xs:12,children:Object(p.jsx)(d.d,{type:"submit",fullWidth:!0,disabled:!O,isLoading:y,loadingText:"Moving...",children:"Move"})})]})})}},471:function(e,t,a){"use strict";var n=a(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(90)),c=a(2),r=(0,i.default)((0,c.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"}),"Replay");t.default=r}}]);
//# sourceMappingURL=14.78952c3e.chunk.js.map