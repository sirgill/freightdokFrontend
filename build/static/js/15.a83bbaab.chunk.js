(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{1054:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));var r=n(14),c=n(0),a=n.n(c),i=n(353),o=n(1030),s=n(444),l=n(73),d=n(442),j=n(34),u=n(46),b=(n(33),n(51),n(689)),h=n(25),p=n(1066),O=n(1067),x=n(406),v=n(97),f=n(258),m=n(43),g=n(4),y=n(91),w=n(165),C=n(995),k=n.n(C),S=(n(269),n(695),n(356)),F=n(429),N=n(1039),D=n(999),I=n(981),A=n(259),R=n(997),P=n.n(R),T=n(996),B=n.n(T),E=n(1),L=[{label:"Detention",cost:"67"},{label:"Loads",cost:"1000"},{label:"Lumper",cost:"786"}],M=function(e){var t=e.serviceName,n=e.amount,r=e.price,a=e.quantity,i=e.description,o=e.index,s=e.deleteService,l=e.onChangeService,d=function(e){var t=e.target.name,n=e.target.value;l&&l(o,{name:t,value:n})};return Object(E.jsx)(c.Fragment,{children:Object(E.jsxs)("tr",{className:"invoiceServiceRow",children:[Object(E.jsx)("td",{children:t}),Object(E.jsx)("td",{children:Object(E.jsx)(w.a,{name:"description",value:i,onChange:d,className:"serviceInputField",placeholder:"Enter item description"})}),Object(E.jsx)("td",{children:Object(E.jsx)(w.a,{name:"quantity",onChange:function(e){var t=e.target.name,n=parseInt(e.target.value);l(o,{name:t,value:n})},onBlur:function(e){var t=parseInt(e.target.value),r=e.target.name;t<1?l&&(l(o,{name:r,value:1}),l(o,{name:"price",value:parseInt(n)})):l&&(l(o,{name:r,value:t}),l(o,{name:"price",value:parseInt(n)*t}))},className:"serviceInputField",type:"number",value:a})}),Object(E.jsx)("td",{children:Object(E.jsx)(w.a,{name:"price",onChange:d,value:r,className:"serviceInputField"})}),Object(E.jsx)("td",{children:r?"$".concat(parseFloat(r).toFixed(2)):"$0.00"}),Object(E.jsx)("td",{children:Object(E.jsx)(A.a,{onClick:s.bind(null,o),children:Object(E.jsx)(B.a,{color:"error"})})})]})})},z=function(e){var t=e.handleClose,n=e.anchorEl,a=e.onAddNewService,o=Object(c.useState)(L),s=Object(r.a)(o,2),l=s[0],d=s[1],j=function(e){a&&a(e),t()};return Object(E.jsx)(S.b,{id:"jugal",anchorEl:n,open:Boolean(n),onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},children:Object(E.jsxs)(f.a,{sx:{p:2,width:500},children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(w.a,{name:"search",autoFocus:!0,placeholder:"Type on item name",onChange:function(e){var t=e.target.value.toLowerCase();if(t){var n=l.filter((function(e){return e.label.toLowerCase().includes(t)}));d(n)}else d(L)}})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(F.a,{children:l.map((function(e){return Object(E.jsx)(N.a,{onClick:j.bind(null,e),children:Object(E.jsx)(D.a,{disablePadding:!0,secondaryAction:Object(E.jsx)("span",{className:"listButtonPickerCost",children:"$"+e.cost}),children:Object(E.jsx)(I.a,{primary:e.label})})},e.label)}))})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(i.a,{startIcon:Object(E.jsx)(P.a,{}),children:"Create a new Item"})})]})})},W=function(e){var t=e.services,n=e.onAddNewService,o=e.onChangeService,s=e.deleteService,l=a.a.useState(null),d=Object(r.a)(l,2),j=d[0],u=d[1],b=Object(c.useMemo)((function(){return t.map((function(e,t){return Object(E.jsx)(M,Object(g.a)(Object(g.a)({},e),{},{index:t,onChangeService:o,deleteService:s}))}))}),[t]);return Object(E.jsxs)(a.a.Fragment,{children:[Object(E.jsxs)("table",{className:"invoiceServiceTable",children:[Object(E.jsxs)("tr",{className:"tableHeader",children:[Object(E.jsx)("th",{children:"Services"}),Object(E.jsx)("th",{}),Object(E.jsx)("th",{children:"Quantity"}),Object(E.jsx)("th",{children:"Price"}),Object(E.jsx)("th",{children:"Amount"}),Object(E.jsx)("th",{})]}),b,Object(E.jsx)("tr",{className:"addNewItemRow",children:Object(E.jsx)("td",{className:"addNewItem",onClick:function(e){u(e.currentTarget)},children:Object(E.jsx)(i.a,{sx:{width:135},startIcon:Object(E.jsx)(P.a,{}),"aria-describedby":"jugal",children:"Add new item"})})})]}),Object(E.jsx)(z,{handleClose:function(){u(null)},anchorEl:j,onAddNewService:n})]})},Y=n(30),_=function(e){var t=e.name,n=e.sx,r=void 0===n?{}:n,c=e.variant,a=void 0===c?"body1":c,i=e.children;return Object(E.jsx)(m.a,{sx:Object(g.a)({fontWeight:700},r),variant:a,children:i||t})},q=function(e){var t=e.transition,n=e.handleClose,c=e.open,o=e.data,s=(e.pdf,e.setPdf,e.getTotal),l=e.services,d=e.addService,j=e.onChangeService,u=e.deleteService,b=a.a.useRef(null),h=o||{},g=h.brokerage,C=void 0===g?"":g,S=h.loadNumber,F=void 0===S?"":S,N=h.pickup,D=void 0===N?[]:N,I=h.drop,A=void 0===I?[]:I,R=(h.rate,h.accessorials),P=void 0===R?[]:R,T=h.proofDelivery,B=void 0===T?[]:T,L=h.rateConfirmation,M=void 0===L?[]:L,z=h.bucketFiles,q=A||[],H=(Object(r.a)(q,1)[0].receiverName,Object(r.a)(D,1)[0]);H.pickupAddress,H.pickupCity,H.pickupState,H.pickupZip;console.log(z);var U=a.a.useMemo((function(){return z&&z.map((function(e){return Object(E.jsx)("div",{className:"bucketImageContainer",children:Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"printThisFull",src:e.fileLocation,alt:e.fileName})})})}))}),[z]),J=a.a.useCallback((function(){return b.current}),[b.current]),$=a.a.useCallback((function(){return Object(E.jsx)(i.a,{className:"printInvoice",variant:"contained",children:"Create Invoice"})}),[]);return Object(E.jsx)(p.a,{class:"printThisFull",PaperProps:{sx:{width:"70%"}},open:c,onClose:n,TransitionComponent:t,maxWidth:"lg",children:Object(E.jsx)(O.a,{sx:{p:0},children:Object(E.jsxs)("div",{ref:b,className:"printArea",children:[Object(E.jsxs)(v.a,{container:!0,direction:"column",sx:{display:"inline-flex"},children:[Object(E.jsx)("style",{type:"text/css",media:"print",children:"               @page { size: landscape; }          "}),Object(E.jsx)(v.a,{item:!0,xs:12,sx:{p:3},children:Object(E.jsxs)(v.a,{container:!0,justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,sx:{flexGrow:1},children:Object(E.jsx)(f.a,{spacing:1,children:Object(E.jsx)(f.a,{children:Object(E.jsx)(m.a,{sx:{textAlign:"left"},variant:"h5",children:"Sunny Freight"})})})}),Object(E.jsx)(v.a,{item:!0,children:Object(E.jsxs)(f.a,{children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(m.a,{variant:"h5",sx:{textAlign:"right"},children:"Invoice"})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(w.a,{label:"Notes",type:"textarea"})})]})})]})}),Object(E.jsx)(x.a,{sx:{borderBottomWidth:"thin",borderColor:y.b}}),Object(E.jsx)(v.a,{xs:12,item:!0,children:Object(E.jsxs)(v.a,{container:!0,justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,children:Object(E.jsxs)(f.a,{spacing:1,sx:{p:3},children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(m.a,{children:"Bill To:"})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(_,{sx:{fontWeight:700},children:C})})]})}),Object(E.jsx)(v.a,{item:!0,children:Object(E.jsx)(f.a,{justifyContent:"space-between",sx:{height:"100%"},children:Object(E.jsxs)(f.a,{direction:"row",alignItems:"center",spacing:2,p:3,children:[Object(E.jsx)(_,{children:"Load Number: "}),Object(E.jsx)(_,{children:F})]})})})]})}),Object(E.jsx)(x.a,{sx:{borderBottomWidth:"thin",borderColor:y.b}}),Object(E.jsxs)(v.a,{item:!0,sx:{p:2},display:"inherit",direction:"column",children:[Object(E.jsx)(f.a,{sx:{textAlign:"right"},children:Object(E.jsxs)(_,{children:["Total: ",s()||"- -"]})}),Object(E.jsxs)(v.a,{container:!0,alignItems:"end",justifyContent:"space-between",children:[Object(E.jsx)(v.a,{item:!0,xs:12,className:"invoiceServiceWrapperGrid",children:Object(E.jsx)(W,{onChangeService:j,services:l,onAddNewService:d,deleteService:u})}),Object(E.jsx)(v.a,{xs:3,item:!0}),Object(E.jsx)(v.a,{xs:6,item:!0,children:Object(E.jsxs)(f.a,{justifyContent:"center",gap:"10px",className:"stack_Uploaders",children:[Object(E.jsxs)(f.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"rateCon",children:[Object(E.jsx)(m.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Rate Con"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"rateCon",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(Y.b)(!!M.length)})]}),Object(E.jsxs)(f.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"pod",children:[Object(E.jsx)(m.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Proof Of Delivery"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"pod",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(Y.b)(!!B.length)})]}),Object(E.jsxs)(f.a,{direction:"row",justifyContent:"center",gap:"10px",children:[Object(E.jsxs)("label",{htmlFor:"accessorials",children:[Object(E.jsx)(m.a,{textAlign:"center",sx:{width:150,background:"rgb(0, 123, 255)",color:"#FFF",borderRadius:"4px"},children:"Accessorials"}),Object(E.jsx)("input",{type:"file",accept:"pdf",id:"accessorials",style:{display:"none"}})]}),Object(E.jsx)("div",{children:Object(Y.b)(!!P.length)})]})]})}),Object(E.jsx)(v.a,{xs:3,item:!0,display:"flex",justifyContent:"end",children:Object(E.jsx)(k.a,{content:J,documentTitle:"Invoice",removeAfterPrint:!0,trigger:$})})]})]})]}),U]})})})},H=function(e){var t=e.match,n=(void 0===t?{}:t).params,i=(void 0===n?{}:n).id,o=void 0===i?"":i,s=(e.history,Object(c.useState)(!1)),d=Object(r.a)(s,2),u=d[0],p=d[1],O=Object(c.useState)(!1),x=Object(r.a)(O,2),v=x[0],f=x[1],m=Object(l.e)((function(e){return e.load.invoices.data}))||[],y=Object(c.useState)([]),w=Object(r.a)(y,2),C=w[0],k=w[1],S=m.find((function(e){return e._id===o}));Object(c.useEffect)((function(){p(!0)}),[]);var F=Object(c.useMemo)((function(){return a.a.forwardRef((function(e,t){var n=Object(j.useHistory)();return Object(E.jsx)(b.a,Object(g.a)(Object(g.a)({ref:t},e),{},{onExited:function(){return n.goBack()}}))}))}),[]),N=Object(c.useCallback)((function(){return"$"+C.reduce((function(e,t){return parseFloat(t.price)+e}),0).toFixed(2)}),[C]);return Object(E.jsx)("div",{children:Object(E.jsx)(q,{open:u,handleClose:function(e){p(!1)},transition:F,data:S,pdf:v,setPdf:f,services:C,addService:function(e){var t=e.label,n=e.cost,r={serviceName:t,description:"",quantity:1,price:n,amount:n};k([].concat(Object(h.a)(C),[r]))},onChangeService:function(e,t){var n=t.name,r=t.value,c=C[e];c[n]=r;var a=Object(h.a)(C);a[e]=c,k(a)},getTotal:N,deleteService:function(e){var t=C;t.splice(e,1),k(Object(h.a)(t))}})})},U=n(98),J=n.n(U),$=n(194),G=Object(o.a)({TableContainer:{borderBottom:"none"},loadSearchbar:{textAlign:"right",paddingBottom:10}});function K(e){e.setSelectedLoad;var t=e.resetSearchField,n=e.listBarType,a=(e.load_selected,G()),o=Object(l.d)(),b=Object(j.useRouteMatch)().path,h=Object(c.useState)(!0),p=Object(r.a)(h,2),O=(p[0],p[1]),x=Object(l.e)((function(e){return e.load.invoices})),v=x.page,f=x.limit,m=(x.total,(Object(l.e)((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.user}))||{}).role),g=Object(l.e)((function(e){return e.load.invoices.data})),y=Object(c.useState)(!1),w=Object(r.a)(y,2),C=(w[0],w[1],Object(c.useState)({show:!1,data:{}})),k=Object(r.a)(C,2),S=(k[0],k[1],Object(l.e)((function(e){return e.load.loads}))),F=Object(l.e)((function(e){return e.openBoard.chRobinsonLoads}),l.c),N=(F.loads,F.totalCount);Object(c.useEffect)((function(){return setTimeout((function(){O(!1)}),1e3),t&&t(),o(Object(s.e)(n)),o(Object(s.c)()),function(){t&&t(),o(Object(s.e)(n))}}),[]),Object(c.useEffect)((function(){o(Object(s.c)())}),[S]);var D={rowCellPadding:"inherit",headerCellSx:{pt:1,pb:1},emptyMessage:"No Invoices found",page:v,count:N,limit:f,columns:[{id:"loadNumber",label:"Load Number"},{id:"country",label:"Pickup City/State",renderer:function(e){var t=e.row;return Object(E.jsxs)(c.Fragment,{children:[t.pickup[0].pickupCity,", ",t.pickup[0].pickupState]})}},{id:"pickupDate",label:"Pickup Date",renderer:function(e){var t=e.row,n="";return J()(t.pickUpByDate).isValid()&&(n=J()(t.pickUpByDate).format("M/DD/YYYY")),Object(E.jsx)(c.Fragment,{children:n})}},{id:"deliveryCountry",label:"Delivery City/State",renderer:function(e){var t=e.row;return Object(E.jsxs)(c.Fragment,{children:[t.drop[0].dropCity,", ",t.drop[0].dropState]})}},{id:"deliveryDate",label:"Delivery Date",renderer:function(e){var t=e.row,n="";return J()(t.deliverBy).isValid()&&(n=J()(t.deliverBy).format("M/DD/YYYY")),Object(E.jsx)(c.Fragment,{children:n})}},{id:"equipment",label:"Equipment",renderer:function(e){var t=e.row,n=Object($.g)(t)||{},r=n.modesString,a=void 0===r?"":r,i=n.standard,o=void 0===i?"":i;return Object(E.jsxs)(c.Fragment,{children:[a," ",o]})}},{id:"weight",label:"Weight",renderer:function(e){var t=(e.row||{}).weight,n=(void 0===t?{}:t).pounds,r=void 0===n?"":n;return r&&(r+=" lbs"),Object(E.jsx)(c.Fragment,{children:r})}},{id:"company",label:"Company",renderer:function(e){var t=e.row;return null===t||void 0===t?void 0:t.brokerage},emptyState:"--"},{id:"rate",label:"Rate",emptyState:"--"},{id:"",label:"Invoice",visible:["driver","admin","superAdmin","ownerOperator"].includes(m),renderer:function(e){var t=e.row;return Object(E.jsx)(i.a,{component:u.b,to:b+"/"+t._id,variant:"outlined",color:"primary",children:"Create Invoice"})}}]};return Object(E.jsx)("div",{className:a.table,children:Object(E.jsxs)(c.Fragment,{children:[Object(E.jsx)(d.a,{config:D,data:g}),Object(E.jsx)(j.Route,{path:b+"/:id",component:H})]})})}},442:function(e,t,n){"use strict";var r=n(187),c=n(424),a=n(1073),i=n(1074),o=n(258),s=n(453),l=n.n(s),d=n(1072),j=n(1071),u=n(1061),b=n(97),h=n(43),p=n(14),O=n(259),x=n(27),v=n(1070),f=n(4),m=n(466),g=n.n(m),y=n(3),w=n(1069),C=n(119),k=n.n(C),S=n(448),F=n.n(S),N=n(0),D=n.n(N),I=n(34),A=n(1046),R=n(1),P=function(e){var t=e.data,n=void 0===t?[]:t,r=e.onPageChange,c=e.page,a=void 0===c?0:c,i=e.count,s=void 0===i?0:i,l=e.limit,d=void 0===l?1:l,j=Object(N.useState)(0),u=Object(p.a)(j,2),b=u[0],O=u[1];Object(N.useEffect)((function(){Array.isArray(n)&&O(n.length)}),[n]);return b<10&&s<10?null:Object(R.jsxs)(o.a,{direction:"row",sx:{display:"flex",justifyContent:"space-between"},alignItems:"center",children:[s>10&&Object(R.jsxs)(h.a,{sx:{color:"#525F7F"},fontSize:13,children:["Showing ",n.length," of ",s," entries"]}),n.length!==s&&Object(R.jsx)(A.a,{count:Math.ceil(s/d),color:"primary",variant:"contained",page:a+1,size:"large",onChange:function(e,t){r&&r(e,t)}})]})},T=n(355);function B(){return Object(R.jsx)(r.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:2}},children:Object(R.jsx)(T.a,{})})}var E=n(447),L=n(7),M=n(30),z=["row","columns","config","handleRowClick","rowIndex","handleDelete","hasDeletePermission"],W=["columns","data","config","handleRowClick","handleDelete"],Y=Object(L.a)(w.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:12,padding:"0 8px"})})),_=Object(L.a)(g.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:14})}));function q(e){var t=e.columns,n=void 0===t?[]:t,r=e.config,c=void 0===r?{}:r,a=c.headerCellSx,i=void 0===a?{}:a,o=c.hasDelete,s=Object(N.useMemo)((function(){return n.map((function(e,t){var n=e||{},r=n.label,c=void 0===r?"":r,a=n.id,o=void 0===a?"":a,s=n.visible,l=void 0===s||s;return(k.a.isFunction(l)?l({column:e}):l)?Object(R.jsx)(Y,{padding:"normal",sx:Object(f.a)({color:"#000",bgcolor:"#fafafa",fontWeight:800},i),children:c},o||t):null}))}),[n,i]);return Object(R.jsxs)(v.a,{children:[s,o&&Object(R.jsx)(Y,{padding:"none",sx:Object(f.a)({},i)})]})}var H=function(e){var t=e.columns,n=e.data,r=void 0===n?[]:n,c=e.config,a=void 0===c?{}:c,i=e.handleRowClick,o=e.handleDelete,s=Object(x.a)(e,W);return(r||[]).map((function(e,n){var r=a.dataKey,c=void 0===r?"":r;return c&&(e=e[c]),function(e){var t=e.row,n=void 0===t?[]:t,r=e.columns,c=void 0===r?{}:r,a=e.config,i=void 0===a?{}:a,o=e.handleRowClick,s=e.rowIndex,l=e.handleDelete,d=e.hasDeletePermission,j=Object(x.a)(e,z),u=i.hasDelete,b=void 0!==u&&u,h=i.rowCellPadding,p=void 0===h?"none":h,m=i.onRowClick,g=void 0===m?void 0:m,y=i.rowStyleCb,w=j.role,C={};y&&(C=y({row:n})||{});var S=Object(R.jsx)(Y,{sx:{},padding:"none",component:"th",scope:"row",children:Object(R.jsx)(O.a,{onClick:l.bind(void 0,n._id,n),disabled:!d,children:Object(R.jsx)(_,{color:"error"})})}),F=c.map((function(e,t){var r,c=e||{},a=c.id,i=void 0===a?"":a,o=c.renderer,l=c.emptyState,d=void 0===l?"":l,j=c.valueFormatter,u=c.visible,b=void 0===u||u;return(k.a.isFunction(b)?b({column:e}):b)?(r=j&&k.a.isFunction(j)?j(n[i]):k.a.isFunction(o)?o({row:n,role:w},s)||d:k.a.isObject(n)?k.a.get(n,i,d):n[i]||d,Object(R.jsx)(Y,{padding:p||"normal",component:"th",scope:"row",children:r},i+t)):null}));return Object(R.jsxs)(v.a,{hover:!!g,onClick:function(e){e.preventDefault(),k.a.isFunction(o)&&o(n)},sx:g?Object(f.a)({cursor:"pointer"},C):{},children:[F,b&&S]},s)}(Object(f.a)({row:e,columns:t,config:a,handleRowClick:i,rowIndex:n,handleDelete:o},s))}))},U=function(e){var t=e.config,n=void 0===t?{}:t,s=e.data,x=void 0===s?[]:s,v=e.history,m=e.loading,g=void 0!==m&&m,y=e.onRefetch,w=e.isRefetching;x=x||[];var C=Object(N.useState)({}),k=Object(p.a)(C,2),S=k[0],I=k[1],A=Object(N.useState)({open:!1,config:{}}),T=Object(p.a)(A,2),L=T[0],z=T[1],W=n.columns,Y=void 0===W?[]:W,_=n.onRowClick,U=n.hasOnClickUrl,J=void 0===U||U,$=n.onPageChange,G=n.page,K=n.count,V=n.limit,Q=n.size,Z=void 0===Q?"medium":Q,X=n.emptyMessage,ee=void 0===X?"":X,te=n.onRowClickDataCallback,ne=n.showRefresh,re=void 0!==ne&&ne,ce=n.onDelete,ae=n.deleteMessage,ie=n.deletePermissions,oe=void 0===ie?[]:ie,se=n.containerHeight,le=void 0===se?"":se,de=Object(M.d)().user.role,je=void 0===de?"":de,ue=oe.indexOf(je)>-1||!1,be=D.a.useRef([]),he=Array.isArray(x)&&x.length,pe=function(e){if(J&&_){var t=_(e);te&&(e=te(e)),v.push(t,e)}else _&&_(e)},Oe=function(e,t,n){n.stopPropagation();var r={title:function(){return Object(R.jsxs)(b.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(R.jsx)(F.a,{color:"error"}),Object(R.jsx)(h.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]})},okText:"Delete",onOk:function(){return ce(e,xe)},content:function(){return Object(R.jsx)(u.a,{sx:{color:"#000"},children:ae||"Are you sure you want to delete the record?"})}};z(Object(f.a)(Object(f.a)({},L),{},{open:!0,config:r}))};function xe(){z(Object(f.a)(Object(f.a)({},L),{},{open:!1}))}var ve=Object(N.useMemo)((function(){return he?Object(R.jsxs)(N.Fragment,{children:[Object(R.jsx)(j.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(R.jsx)(q,{columns:Y,config:n})}),Object(R.jsx)(d.a,{children:Object(R.jsx)(H,{role:je,columns:Y,data:x,config:n,handleRowClick:pe,handleDelete:Oe,hasDeletePermission:ue},Date.now())})]}):Object(R.jsx)("tbody",{style:{height:300},children:Object(R.jsx)("tr",{children:Object(R.jsx)("td",{style:{textAlign:"center"},children:Object(R.jsx)("h4",{children:ee||"No records found"})})})})}),[x,n]);return Object(N.useEffect)((function(){var e;if(null!==be&&void 0!==be&&null!==(e=be.current)&&void 0!==e&&e.table){var t=be.current.table.offsetHeight;I(Object(f.a)(Object(f.a)({},S),{},{height:t>200?t:void 0}))}}),[]),Object(R.jsxs)(r.a,{className:"enhanced-table",sx:{height:he&&!g?le||"95%":"auto"},children:[re&&Object(R.jsx)(o.a,{alignItems:"flex-end",children:Object(R.jsx)(O.a,{title:"Refresh",onClick:y,children:Object(R.jsx)(l.a,{className:w?"rotateIcon":void 0})})}),Object(R.jsx)(a.a,{component:c.a,className:"",sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:he&&!g?"calc(100% - 64px)":"auto"},children:g?function(){var e=window.innerHeight-180,t=(S.height?S.height>e?e:S.height:e)||e;return Object(R.jsx)(b.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(R.jsx)(b.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(R.jsx)(B,{})})})}():Object(R.jsx)(i.a,{ref:function(e){return be.current.table=e},"aria-label":"caption table",size:Z,stickyHeader:!0,children:ve})}),!g&&x.length>0&&Object(R.jsx)(P,{data:x,onPageChange:$,page:G,count:K,limit:V}),Object(R.jsx)(E.a,{className:"enhancedTable_dialog",open:L.open,config:L.config,onClose:xe})]})};t.a=Object(I.withRouter)(Object(N.memo)(U))},444:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"b",(function(){return v}));n(4);var r=n(169),c=n(33),a=n(51),i=n(48),o=n.n(i),s=n(35),l=n(10),d=n(80),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var r=Object(a.a)(Object(c.a)().mark((function r(a){var i,o,j;return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(d.b)({uri:"/api/load/me?page=".concat(e+1,"&limit=").concat(t,"&module=").concat(n)});case 3:i=r.sent,o=i.success,j=i.data,o?a({type:l.E,payload:{loads:j,page:e,limit:t}}):Object(s.a)(j.message,"error"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a(Object(s.b)(r.t0.message,"error"));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var r=Object(a.a)(Object(c.a)().mark((function r(a){var i,d,j,u,b,h;return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i="/api/load/invoice_loads?page=".concat(e+1,"&limit=").concat(t,"&search=").concat(n),r.next=4,o.a.get(i);case 4:d=r.sent,j=d.data,u=j.loads,b=j.total,h=j.totalPages,a({type:l.K,payload:{invoices:u,page:e,limit:t,search:n,total:b,totalPages:h}}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a(Object(s.b)(r.t0.message,"error"));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var i=Object(a.a)(Object(c.a)().mark((function a(i){var d,j;return Object(c.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,d="/api/load/me?page=".concat(e+1,"&limit=15&search=").concat(n,"&module=").concat(r),c.next=4,o.a.get(d);case 4:j=c.sent,i({type:l.fb,payload:{data:j.data,page:e,limit:t,search:n}}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),i(Object(s.b)(c.t0.message,"error"));case 11:case"end":return c.stop()}}),a,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}()},h=function(){return function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n){var r,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:l.db}),r=n(),a=r.load,a.page,a.rowsPerPage;case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:l.gb,payload:e}},O=function(e,t){return function(){var n=Object(a.a)(Object(c.a)().mark((function n(r){var a,i;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a={headers:{"Content-Type":"application/json"}},n.next=4,o.a.post("/api/load",e,a);case 4:i=n.sent,r({type:l.b,payload:i.data}),Object(s.a)("Load Created"),t&&t(200===i.status,i.data),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r(Object(s.b)(n.t0.message,"error"));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return function(){var o=Object(a.a)(Object(c.a)().mark((function a(o,l){var u,h,p,O,x,v,f,m,g,y,w,C,k,S,F,N,D,I,A,R,P,T,B;return Object(c.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:for(c.prev=0,u=new FormData,h=0,p=Object.keys(e);h<p.length;h++)O=p[h],["rateConfirmation","proofDelivery"].indexOf(O)<0&&(x=e[O],v=Array.isArray(x),f=null===x,m=v&&!f?JSON.stringify(x):x,u.append(O,m));for(u.append("bucketFiles",JSON.stringify(n)),g=0,y=["rateConfirmation","proofDelivery"];g<y.length;g++)if(C=e[w=y[g]]){k=Object(r.a)(C);try{for(k.s();!(S=k.n()).done;)F=S.value,u.append(w,F)}catch(a){k.e(a)}finally{k.f()}}return c.next=7,Object(d.c)({uri:"/api/load/modify",body:u});case 7:N=c.sent,D=N.success,I=N.data,D&&Object(s.a)("Load Updated"),A=l(),R=A.load.search,P=R.page,T=R.limit,B=R.query,o(B?b(P,T,B):j(0,5,t)),i(D,I),c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),Object(s.a)(c.t0.message,"error");case 19:case"end":return c.stop()}}),a,null,[[0,16]])})));return function(e,t){return o.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(a.a)(Object(c.a)().mark((function n(r){var a,i,o;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(d.a)({uri:"/api/load",body:{data:{load_id:e}}});case 3:a=n.sent,i=a.success,o=a.data,Object(s.a)(o.message,i?"success":"error"),i&&r({type:l.s,payload:e}),t&&t(i,o),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),Object(s.a)(n.t0.message,"error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}},695:function(e,t,n){}}]);
//# sourceMappingURL=15.a83bbaab.chunk.js.map