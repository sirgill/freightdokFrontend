{"version":3,"sources":["views/openBoard/Bid.js","views/openBoard/BookNowForm.js","components/Atoms/form/AutoComplete.js","components/Atoms/SearchAutoComplete.js","views/openBoard/NewtrulFilters.js","views/openBoard/config.js","views/openBoard/OpenBoard.js","actions/warehouse.js"],"names":["saveCHOfferRequestId","async","payload","arguments","length","undefined","history","success","requestPost","uri","body","goBack","Bid","props","location","state","row","match","params","loadNumber","loadNum","counterOffer","finalOffer","useHistory","company","vendor","price","defaultCost","hasOwnProperty","availableLoadCosts","item","sourceCostPerUnit","amount","setAmount","useState","afterChSubmit","data","offerRequestId","status","bidAmount","vendorName","loadDetail","error","notification","message","afterSubmit","onSubmit","e","preventDefault","NEWTRUL","uuidv4","moment","Date","add","utc","format","loadId","id","external_id","offer_amount","expired_at","placeNewTrulCounterOffer","offerStatus","newTrulFinalOffer","placeNewTrulBid","Object","assign","defaultEmail","env","productionPayload","carrierCode","parseFloat","bidChRobinsonLoad","_jsx","Modal","config","showClose","children","_Grid","sx","px","justifyContent","display","_jsxs","style","textAlign","className","_Typography","fontSize","_Stack","direction","py","alignItems","gap","_IconButton","onClick","onSubtract","disabled","RemoveIcon","InputField","name","label","onChange","text","target","value","type","onAdd","parseInt","AddIcon","_Button","variant","color","CustomGrid","_ref","container","xs","SuccessElement","spacing","CheckCircleIcon","pl","BookNowForm","form","setForm","emptyDate","emptyTime","isBookingDone","setIsBookingDone","isProcessingAsyncReq","setIsProcessingAsyncReq","loading","useFetch","GET_SECRETS_MANAGER","queryParams","orgId","getUserDetail","user","_dbData","chRobinson","tCode","paperProps","width","noValidate","date","toDateString","time","toTimeString","code","description","units","currencyCode","email","emptyDateTime","toISOString","emptyLocation","rateConfirmation","saveCHLoadToDb","then","response","bookChRobinsonLoad","r","_r$data","_ref2","triggerCustomEvent","afterBookNow","console","log","catch","err","pb","mr","_Fragment","mt","_TextField","fullWidth","readOnly","LocalizationProvider","dateAdapter","AdapterMoment","DatePicker","slotProps","textField","helperText","size","disablePast","newValue","TimePicker","p","AutoCompleteField","classNameRoot","hasError","labelKey","selectSx","placeholder","errorText","rest","labelId","cn","_FormControl","_Autocomplete","renderInput","getOptionLabel","option","isOptionEqualToValue","classes","paper","AutoCompletePure","memo","AutoComplete","valueKey","errors","disablePortal","options","disableClearable","inputValue","setInputValue","useEffect","val","Array","isArray","find","opt","handleChange","SearchAutoComplete","onSelect","parentOnClear","setValue","React","setOptions","fetch","useMemo","_","debounce","request","callback","requestGet","input","active","selectedObj","results","newOptions","error_message","predictions","Autocomplete","filterOptions","x","autoComplete","includeInputInList","filterSelectedOptions","event","onInputChange","newInputValue","TextField","renderOption","Grid","Box","component","LocationOnIcon","Typography","prototype","PropTypes","string","isRequired","func","bool","radioConfig","title","defaultValue","radioConfig2","FORM_DEFAULT","originRadio","destinationRadio","destination_radius","origin_radius","NewtrulFilters","getNewTrulList","setFilters","pageSize","pageIndex","setParams","defaultParams","setParentOnClear","startDate","endDate","obj","pick_up_start_date","pick_up_end_date","drop_off_start_date","drop_off_end_date","handleRadioChange","useCallback","_ref3","origin","destination","forEach","dt","geoLocationService","address","filters","_form","originGeoLocation","destinationGeoLocation","originRadius","destinationRadius","serialize","getQueryString","flexWrap","m","RadioButtonsGroup","parentValue","Input","inputProps","min","minWidth","DateRangePicker","onClear","setTimeout","tableConfig","path","totalResults","onPageChange","showDialog","containerHeight","rowCellPadding","emptyMessage","onRowClick","toLowerCase","concat","count","limit","page","rowStyleCb","bidLevel","borderLeft","columns","renderer","_ref4","Fragment","_ref5","_row$origin","_row$origin2","pickup","stops","geo","city","stateCode","_ref6","early_datetime","pickUpByDate","isValid","_ref7","_row$destination","_row$destination2","drop","_ref8","deliverBy","_ref9","equipment","modesString","standard","getParsedLoadEquipment","_ref10","weight","pounds","_ref11","client","client_name","_ref12","book_now_price","available_book_type","equalsIgnoreCase","onBookNowNewtrul","stopPropagation","dialogProps","maxWidth","content","okButtonText","onOk","onClose","bookNewTrulLoad","push","_ref13","developmentPayload","withRouter","OpenBoard","isMobile","_useMediaQuery","theme","breakpoints","down","useRouteMatch","dialog","setDialog","open","dispatch","useDispatch","useSelector","openBoard","anchorEl","setAnchorEl","getBidListWithFilter","onClosePopover","getOpenBoardLoads","newTrulQuery","process","getBiddingList","onCloseDialog","prev","addEvent","window","removeEvent","pgNum","table","EnhancedTable","filtersComp","onRefetch","BrokerSetupMessage","height","_Refresh","currentTarget","endIcon","ArrowDropDownIcon","_Popover","PaperProps","anchorOrigin","vertical","horizontal","_Box","overflow","Route","NewTrulLoadDetails","exact","LoadDetails","Dialog","getWarehouseById","cb","axios","get","FETCH_WAREHOUSEBYID","warehouseById","post","getGeoLocation","WAREHOUSE_LOCATION"],"mappings":"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","file":"static/js/31.e70e9407.chunk.js","sourcesContent":["import Modal from \"../../components/Atoms/Modal\";\r\nimport moment from \"moment\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport InputField from \"../../components/Atoms/form/InputField\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Grid, Typography, Stack, IconButton } from \"@mui/material\";\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport { placeNewTrulBid, bidChRobinsonLoad, newTrulFinalOffer, placeNewTrulCounterOffer } from \"../../actions/openBoard.action\";\r\nimport { NEWTRUL, productionPayload } from \"./constants\";\r\nimport { requestPost } from \"../../utils/request\";\r\nimport {notification} from \"../../actions/alert\";\r\n\r\n/*\r\n* {\r\n    \"external_id\": \"90ca7829-caf7-4f5f-9230-cddc13d7d965167640\",\r\n    \"offer_amount\": 1000,\r\n    \"expired_at\": \"2022-02-10T21:01:01+00:00\",\r\n    \"terms_condition\": true,\r\n    \"driver_name\": \"Driver Name\",\r\n    \"driver_phone_number\": \"(123) 456-6789\",\r\n    \"truck_number\": \"FVS200937\",\r\n    \"trailer_number\": \"EA5318\",\r\n    \"tracking_url\": \"https://www.google.com/\"\r\n}\r\n* */\r\nconst saveCHOfferRequestId = async (payload = '', history) => {\r\n    const { success } = await requestPost({ uri: '/api/bid/saveChOfferRequestId', body: payload });\r\n    if (success) {\r\n        history.goBack();\r\n    }\r\n}\r\n\r\nconst Bid = (props) => {\r\n\r\n    const {\r\n        location: { state: row = {} } = {},\r\n        match: { params: { loadNumber: loadNum, counterOffer = false, finalOffer = false } } = {}\r\n    } = props,\r\n        history = useHistory(),\r\n        { loadNumber = '', company, vendor, price } = row;\r\n    let defaultCost = 0;\r\n    const config = {\r\n        showClose: true\r\n    };\r\n    if (row.hasOwnProperty(\"availableLoadCosts\")) {\r\n        const { availableLoadCosts = [] } = row || {};\r\n        const [item] = availableLoadCosts || [];\r\n        if (item) {\r\n            defaultCost = item.sourceCostPerUnit || 0\r\n        }\r\n    }\r\n    const [amount, setAmount] = useState(price || defaultCost);\r\n    const onChange = (e) => {\r\n        const text = e.target.value;\r\n        setAmount(text);\r\n    };\r\n\r\n    const afterChSubmit = (success, data) => {\r\n        if (data.offerRequestId) {\r\n            const payload = {\r\n                status: false,\r\n                loadNumber,\r\n                bidAmount: amount,\r\n                vendorName: 'C.H. Robinson',\r\n                loadDetail: row,\r\n                offerRequestId: data.offerRequestId\r\n            }\r\n            saveCHOfferRequestId(payload, history)\r\n        } else if(data.error){\r\n            notification(data.message, 'error')\r\n        }\r\n        else history.goBack();\r\n    }\r\n\r\n\r\n    const afterSubmit = (success, data) => {\r\n        if (data?.success || data.status === 'success') {\r\n            if (data.offerRequestId) {\r\n                const payload = {\r\n                    status: false,\r\n                    loadNumber,\r\n                    bidAmount: amount,\r\n                    vendorName: 'C.H. Robinson',\r\n                    loadDetail: row,\r\n                    offerRequestId: data.offerRequestId\r\n                }\r\n                saveCHOfferRequestId(payload, history)\r\n            }\r\n            else history.goBack();\r\n        }\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        //submit bidding\r\n        e.preventDefault();\r\n        if (vendor === NEWTRUL) {\r\n            let payload = {\r\n                \"external_id\": uuidv4(),\r\n                \"offer_amount\": amount,\r\n                \"expired_at\": moment(new Date(), \"YYYY-MM-DDTHH:mm\").add(1, 'day').utc().format(),\r\n                \"terms_condition\": true,\r\n                \"driver_name\": \"Driver Name\",\r\n                \"driver_phone_number\": \"(123) 456-6789\",\r\n                \"truck_number\": \"FVS200937\",\r\n                \"trailer_number\": \"EA5318\",\r\n                \"tracking_url\": \"https://www.google.com/\",\r\n                loadId: row.id,\r\n                vendorName: 'New Trul',\r\n                loadDetail: row\r\n            }\r\n            if (counterOffer) {\r\n                payload = {\r\n                    external_id: row.external_id,\r\n                    offer_amount: row.bidAmount,\r\n                    expired_at: moment(new Date(), \"YYYY-MM-DDTHH:mm\").utc().format()\r\n                }\r\n                return placeNewTrulCounterOffer(payload, afterSubmit);\r\n            }\r\n            if (finalOffer) {\r\n                payload = {\r\n                    loadId: loadNum,\r\n                    offerStatus: 'accept'\r\n                }\r\n                return newTrulFinalOffer(payload, afterSubmit)\r\n            }\r\n            placeNewTrulBid(payload, loadNum, afterSubmit)\r\n            return;\r\n        }\r\n        Object.assign(row, {\r\n            defaultEmail: \"vy4693@gmail.com\",\r\n            env: \"dev\",\r\n            bidAmount: amount,\r\n        });\r\n        const body = {\r\n            \"carrierCode\": productionPayload.carrierCode,\r\n            \"offerPrice\": parseFloat(amount),\r\n            \"offerNote\": '',\r\n            \"currencyCode\": \"USD\",\r\n        }\r\n        await bidChRobinsonLoad(loadNumber, body, afterChSubmit);\r\n    };\r\n\r\n    const onSubtract = () => {\r\n        if (amount > 0)\r\n            setAmount(amount - 1)\r\n    }\r\n\r\n    const onAdd = () => {\r\n        setAmount(parseInt(amount) + 1)\r\n    }\r\n\r\n    return (\r\n        <Modal config={config}>\r\n            <Grid sx={{ px: 3 }} justifyContent=\"center\" display=\"flex\">\r\n                <form onSubmit={onSubmit} style={{ textAlign: 'center' }} className={'form_bidding'}>\r\n                    <Typography sx={{ fontSize: 32 }}>\r\n                        {company}\r\n                    </Typography>\r\n                    <Typography sx={{ fontSize: 32 }}>\r\n                        Load Number: {loadNumber}\r\n                    </Typography>\r\n                    <Stack direction={'row'} sx={{ py: 5 }} alignItems={'end'} gap={'10px'} justifyContent={'center'}>\r\n                        <IconButton onClick={onSubtract} disabled={amount <= 0}>\r\n                            <RemoveIcon />\r\n                        </IconButton>\r\n                        <div className='dollarInput'>\r\n                            <InputField\r\n                                name=\"bidAmount\"\r\n                                label=\"Amount ($)\"\r\n                                onChange={onChange}\r\n                                type=\"number\"\r\n                                value={amount}\r\n                                className={''}\r\n                            />\r\n                        </div>\r\n                        <IconButton onClick={onAdd}>\r\n                            <AddIcon />\r\n                        </IconButton>\r\n                    </Stack>\r\n                    <Button variant=\"contained\" color=\"success\" onClick={onSubmit} sx={{ px: 3, py: 1, fontSize: 16 }}>\r\n                        Submit Bid\r\n                    </Button>\r\n                </form>\r\n            </Grid>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Bid;\r\n","import Modal from \"../../components/Atoms/Modal\";\r\nimport {Button, Grid, TextField, Typography} from \"@mui/material\";\r\nimport React, {useState} from \"react\";\r\nimport {DatePicker} from '@mui/x-date-pickers/DatePicker';\r\nimport {TimePicker} from '@mui/x-date-pickers/TimePicker';\r\nimport {LocalizationProvider} from '@mui/x-date-pickers/LocalizationProvider';\r\nimport {AdapterMoment} from '@mui/x-date-pickers/AdapterMoment';\r\nimport {bookChRobinsonLoad, saveCHLoadToDb} from \"../../actions/openBoard.action\";\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport {notification} from \"../../actions/alert\";\r\nimport {getUserDetail, triggerCustomEvent} from \"../../utils/utils\";\r\nimport moment from \"moment\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport {GET_SECRETS_MANAGER} from \"../../config/requestEndpoints\";\r\n\r\nconst CustomGrid = ({label, children}) => {\r\n    return <Grid container justifyContent='space-between' alignItems='center'>\r\n        <Grid item xs={5}>\r\n            <Typography sx={{fontSize: 22, textAlign: 'left'}}>\r\n                {label}\r\n            </Typography>\r\n        </Grid>\r\n        <Grid item xs={7}>{children}</Grid>\r\n    </Grid>\r\n}\r\n\r\nconst SuccessElement = () => {\r\n    return (\r\n        <Grid container direction='column' sx={{py: 3}} spacing={2}>\r\n            <Grid item>\r\n                <CheckCircleIcon sx={{fontSize: 80, color: 'rgb(45, 206, 137)'}}/>\r\n            </Grid>\r\n            <Grid item>\r\n                <Typography fontSize={24}>Your load has been booked!</Typography>\r\n            </Grid>\r\n            <Grid item pl={'0 !important'}>\r\n                <Typography fontSize={24}>Moved to your personal load board</Typography>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nconst BookNowForm = (props) => {\r\n    const {location: {state: row = {}} = {}} = props,\r\n        {loadNumber} = row;\r\n    const [form, setForm] = useState({emptyDate: new Date(), emptyTime: new Date()}),\r\n        [isBookingDone, setIsBookingDone] = useState(false),\r\n        [isProcessingAsyncReq, setIsProcessingAsyncReq] = useState(false),\r\n        {data, loading} = useFetch(GET_SECRETS_MANAGER, null, {\r\n            queryParams: {\r\n                orgId: getUserDetail().user.orgId\r\n            },\r\n        }),\r\n        {_dbData: {chRobinson: { tCode } = {}} = {}} = data || {};\r\n\r\n    const config = {\r\n        paperProps: {\r\n            sx: {\r\n                width: 'auto'\r\n            }\r\n        }\r\n    }\r\n    let defaultCost = 0;\r\n\r\n    if (row.hasOwnProperty(\"availableLoadCosts\")) {\r\n        const {availableLoadCosts = []} = row || {};\r\n        const [item] = availableLoadCosts || [];\r\n        if (item) {\r\n            defaultCost = item.sourceCostPerUnit\r\n        }\r\n    }\r\n    const afterBookNow = ({success = false}) => {\r\n        if (success) {\r\n            setIsBookingDone(true);\r\n            saveCHLoadToDb(row, true);\r\n            triggerCustomEvent('getBiddings')\r\n        }\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const date = form.emptyDate.toDateString(),\r\n            time = form.emptyTime.toTimeString(),\r\n            dateTime = new Date(date + \" \" + time);\r\n\r\n        if (dateTime < new Date()) {\r\n            return notification('Empty Date and Time cannot be a past', 'error')\r\n        }\r\n        setIsProcessingAsyncReq(true)\r\n        const {loadNumber, availableLoadCosts} = row,\r\n            {type, code, description, units, currencyCode, sourceCostPerUnit} = availableLoadCosts[0] || {};\r\n        const {user: {name = '', email = ''} = {}} = getUserDetail();\r\n\r\n        const payload = {\r\n            loadNumber,\r\n            carrierCode: tCode,\r\n            emptyDateTime: new Date(date + \" \" + time).toISOString(),\r\n            availableLoadCosts: [{\r\n                type, code, description, units, currencyCode, sourceCostPerUnit\r\n            }],\r\n            emptyLocation: {\r\n                \"city\": \"Greenwood\",\r\n                \"state\": \"IN\",\r\n                \"country\": \"NA\",\r\n                \"zip\": \"46143\"\r\n            },\r\n            rateConfirmation: {\r\n                email,\r\n                name\r\n            }\r\n        }\r\n        // Object.assign(payload, {defaultEmail: \"vy4693@gmail.com\", env: \"dev\"});\r\n        saveCHLoadToDb(row, false)\r\n            .then((response) => {\r\n                const {success, message} = response?.data || {}\r\n                if (success) {\r\n                    bookChRobinsonLoad(payload)\r\n                        .then(r => {\r\n                            setIsProcessingAsyncReq(false);\r\n                            if (r.status === 200) {\r\n                                afterBookNow({success: true});\r\n                                notification('Booking successful');\r\n                            } else {\r\n                                console.log(r)\r\n                                notification(r.data?.message || '', 'error')\r\n                            }\r\n                        })\r\n                        .catch(err => {\r\n                            console.log(err);\r\n                            setIsProcessingAsyncReq(false);\r\n                            notification(err.message, 'error');\r\n                        })\r\n                } else {\r\n                    notification(message, 'error')\r\n                    setIsProcessingAsyncReq(false);\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Modal config={config}>\r\n            <form noValidate onSubmit={onSubmit}>\r\n                <Grid container direction={'column'} textAlign={'center'} px={8} pb={4} gap={'10px'}>\r\n                    <Grid item>\r\n                        <Typography sx={{fontSize: 32}}>C.H Robinson</Typography>\r\n                    </Grid>\r\n                    <Grid item direction={''} display={'flex'} justifyContent={'center'}>\r\n                        <Typography sx={{fontSize: 32, mr: 2}}>Load Number: </Typography>\r\n                        <Typography sx={{fontSize: 32}}>{loadNumber}</Typography>\r\n                    </Grid>\r\n                    {isBookingDone ? <SuccessElement/> : <>\r\n                        <Grid item display={'flex'} justifyContent={'space-between'} mt={2}>\r\n                            <CustomGrid label={'Carrier T-Code'}>\r\n                                <TextField disabled variant={'standard'} fullWidth\r\n                                           value={tCode}\r\n                                           readOnly/>\r\n                            </CustomGrid>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <CustomGrid label={'Empty Date'}>\r\n                                <LocalizationProvider dateAdapter={AdapterMoment}>\r\n                                    <DatePicker\r\n                                        slotProps={{\r\n                                            textField: {\r\n                                                helperText: 'MM/DD/YYYY',\r\n                                                size: 'small'\r\n                                            },\r\n                                        }}\r\n                                        disablePast\r\n                                        value={moment(form.emptyDate || new Date())}\r\n                                        onChange={(newValue) => setForm({...form, emptyDate: newValue})}\r\n                                    />\r\n                                </LocalizationProvider>\r\n                            </CustomGrid>\r\n                        </Grid>\r\n                        <Grid item mt={2}>\r\n                            <CustomGrid label={'Empty Time'}>\r\n                                <LocalizationProvider dateAdapter={AdapterMoment}>\r\n                                    <TimePicker\r\n                                        value={moment(form.emptyTime || new Date())}\r\n                                        onChange={(time) => {\r\n                                            setForm({...form, emptyTime: time})\r\n                                        }\r\n                                        }\r\n                                        slotProps={{\r\n                                            textField: {\r\n                                                helperText: 'hh:mm AM/PM',\r\n                                                size: 'small'\r\n                                            },\r\n                                        }}\r\n                                    />\r\n                                </LocalizationProvider>\r\n                            </CustomGrid>\r\n                        </Grid>\r\n                    </>}\r\n                    {!isBookingDone && <Grid item mt={2}>\r\n                        <Button type='submit' disabled={isProcessingAsyncReq || loading} variant={'contained'}\r\n                                sx={{p: 2, fontSize: 16, px: 3, py: 2}}>Book Now ${defaultCost}</Button>\r\n                    </Grid>}\r\n                </Grid>\r\n            </form>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default BookNowForm;","import {memo, useEffect, useState} from \"react\";\r\nimport cn from 'classnames';\r\nimport {Autocomplete, FormControl, TextField} from \"@mui/material\";\r\n\r\nconst AutoCompleteField = ({classNameRoot, disabled, label, hasError, labelKey, selectSx, className, placeholder, errorText, ...rest}) => {\r\n    const labelId = 'autocomplete-label-' + label;\r\n    return (\r\n        <div className={cn(classNameRoot, {'fieldDisabled': disabled})}>\r\n            {/*{!!label && <InputLabel id={labelId} sx={{pb: '5px'}}>{label}</InputLabel>}*/}\r\n            <FormControl fullWidth>\r\n                <Autocomplete\r\n                    renderInput={params => <TextField placeholder={placeholder} error={hasError} label={label} {...params} />}\r\n                    getOptionLabel={option => option[labelKey]}\r\n                    isOptionEqualToValue={(option, value) => option.id === value.id}\r\n                    id={labelId}\r\n                    classes={{paper: className}}\r\n                    sx={selectSx}\r\n                    {...rest}\r\n                />\r\n            </FormControl>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AutoCompletePure = memo(AutoCompleteField)\r\n\r\nconst AutoComplete = (props) => {\r\n    const {\r\n        label,\r\n        name,\r\n        valueKey = 'value',\r\n        labelKey = 'label',\r\n        errors = {},\r\n        disablePortal = true,\r\n        onChange,\r\n        disabled = false,\r\n        value,\r\n        options = [],\r\n        className,\r\n        classNameRoot,\r\n        disableClearable = true,\r\n        selectSx = {},\r\n        placeholder,\r\n        ...rest\r\n    } = props;\r\n\r\n    const [inputValue, setInputValue] = useState(null)\r\n    const hasError = !!errors[name] || false,\r\n        errorText = errors[name] || '';\r\n\r\n    const handleChange = (e, value) => {\r\n        if (onChange) onChange({name, value: value ? value[valueKey] : \"\"})\r\n    }\r\n\r\n    useEffect(() => {\r\n        const val = Array.isArray(options) ? options.find(opt => opt[valueKey] === value) || null : null\r\n        setInputValue(val)\r\n    }, [value, options, valueKey])\r\n\r\n    return (\r\n        <AutoCompletePure\r\n            {...rest}\r\n            value={inputValue}\r\n            options={options}\r\n            label={label}\r\n            selectSx={selectSx}\r\n            labelKey={labelKey}\r\n            valueKey={valueKey}\r\n            hasError={hasError}\r\n            disabled={disabled}\r\n            errorText={errorText}\r\n            className={className}\r\n            onChange={handleChange}\r\n            placeholder={placeholder}\r\n            classNameRoot={classNameRoot}\r\n            disablePortal={disablePortal}\r\n            disableClearable={disableClearable}\r\n        />\r\n    )\r\n}\r\n\r\nexport default AutoComplete","import React, { useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport Grid from '@mui/material/Grid';\r\nimport Typography from '@mui/material/Typography';\r\nimport _ from 'lodash'\r\nimport PropTypes from \"prop-types\";\r\nimport { requestGet } from \"../../utils/request\";\r\nimport { notification } from \"../../actions/alert\";\r\n\r\n\r\n/*\r\n* {parentOnClear} - Boolean: Use this flag in parent to reset the states\r\n* */\r\nconst SearchAutoComplete = ({ label = '', name, onSelect, parentOnClear }) => {\r\n    const [value, setValue] = React.useState(null);\r\n    const [inputValue, setInputValue] = React.useState('');\r\n    const [options, setOptions] = React.useState([]);\r\n\r\n    const fetch = React.useMemo(\r\n        () =>\r\n            _.debounce((request, callback) => {\r\n                requestGet({ uri: '/api/searchLocationAutocomplete?search=' + request.input })\r\n                    .then(r => callback(r.data, r.success));\r\n            }, 500),\r\n        [],\r\n    );\r\n\r\n    useEffect(() => {\r\n        let active = true;\r\n        if (onSelect) {\r\n            onSelect({ selectedObj: value, value: inputValue, name })\r\n        }\r\n\r\n        if (inputValue === '') {\r\n            setOptions(value ? [value] : []);\r\n            return undefined;\r\n        }\r\n\r\n        fetch({ input: inputValue }, (results = {}, success) => {\r\n            if (active) {\r\n                let newOptions = [];\r\n\r\n                if (!success) {\r\n                    notification(results.error_message, 'error');\r\n                }\r\n\r\n                if (value) {\r\n                    newOptions = [value];\r\n                }\r\n\r\n                if (results) {\r\n                    const { predictions = [] } = results;\r\n                    newOptions = [...newOptions, ...predictions];\r\n                }\r\n\r\n                setOptions(newOptions);\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            active = false;\r\n        };\r\n    }, [value, inputValue, fetch]);\r\n\r\n    useEffect(() => {\r\n        if (parentOnClear) {\r\n            setValue(null);\r\n            setInputValue('');\r\n        }\r\n    }, [parentOnClear])\r\n\r\n    return (\r\n        <Autocomplete\r\n            id=\"searchAutocomplete\"\r\n            sx={{ width: 300 }}\r\n            getOptionLabel={(option) =>\r\n                typeof option === 'string' ? option : option.description\r\n            }\r\n            filterOptions={(x) => x}\r\n            options={options}\r\n            autoComplete\r\n            includeInputInList\r\n            filterSelectedOptions\r\n            value={value}\r\n            onChange={(event, newValue) => {\r\n                setOptions(newValue ? [newValue, ...options] : options);\r\n                setValue(newValue);\r\n            }}\r\n            onInputChange={(event, newInputValue) => {\r\n                setInputValue(newInputValue);\r\n            }}\r\n            renderInput={(params) => (\r\n                <TextField {...params} label={label} size='small' fullWidth />\r\n            )}\r\n            renderOption={(props, option) => {\r\n                return (\r\n                    <li {...props}>\r\n                        <Grid container alignItems=\"center\">\r\n                            <Grid item>\r\n                                <Box\r\n                                    component={LocationOnIcon}\r\n                                    sx={{ color: 'text.secondary', mr: 2 }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs>\r\n                                <Typography variant=\"body2\" color=\"text.primary\">\r\n                                    {option.description}\r\n                                </Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </li>\r\n                );\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default SearchAutoComplete;\r\n\r\nSearchAutoComplete.prototype = {\r\n    label: PropTypes.string.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onSelect: PropTypes.func,\r\n    parentOnClear: PropTypes.bool\r\n}","import { Button, FormControl, Grid, Stack } from \"@mui/material\";\r\nimport React, { useCallback, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport AutoComplete from \"../../components/Atoms/form/AutoComplete\";\r\nimport RadioButtonsGroup from \"../../components/Atoms/form/RadioButtons\";\r\nimport DateRangePicker from \"../../components/Atoms/form/DateRangePicker\";\r\nimport SearchAutoComplete from \"../../components/Atoms/SearchAutoComplete\";\r\nimport Input from \"../../components/Atoms/form/Input\";\r\nimport { geoLocationService } from \"../../actions/warehouse\";\r\nimport {serialize} from \"../../utils/utils\";\r\n\r\nconst radioConfig = {\r\n    title: '',\r\n    defaultValue: 'origin_states[]',\r\n    name: 'origin',\r\n    options: [\r\n        { label: 'City', value: 'origin_city' },\r\n        { label: 'State', value: 'origin_states[]' },\r\n    ]\r\n}\r\nconst radioConfig2 = {\r\n    title: '',\r\n    defaultValue: 'destination_states[]',\r\n    name: 'destination',\r\n    options: [\r\n        { label: 'City', value: 'destination_city' },\r\n        { label: 'State', value: 'destination_states[]' },\r\n    ]\r\n}\r\n\r\nconst options = [\r\n    { label: 'Select', value: null },\r\n    { label: 'Reefer', value: 'Reefer' },\r\n    { label: 'Dry Van', value: 'Dry Van' },\r\n    // { label: 'Dry Van or Reefer', value: 'Dry Van & Reefer' },\r\n]\r\n\r\nconst getQueryString = (form) => {\r\n    let _form = { ...form };\r\n    if (_form['originGeoLocation']) {\r\n        delete _form.originGeoLocation\r\n    }\r\n    if (_form['destinationGeoLocation']) {\r\n        delete _form.destinationGeoLocation\r\n    }\r\n\r\n    if (!_form['originRadius']) {\r\n        delete _form.originRadius\r\n    }\r\n    if (!_form['destinationRadius']) {\r\n        delete _form.destinationRadius\r\n    }\r\n    return serialize(_form)\r\n}\r\n\r\nconst FORM_DEFAULT = { originRadio: 'origin_city', destinationRadio: 'destination_city', destination_radius: '', origin_radius: '' }\r\nconst NewtrulFilters = ({ getNewTrulList, setFilters, pageSize, pageIndex, setParams, defaultParams }) => {\r\n    const [form, setForm] = useState(FORM_DEFAULT);\r\n    const [parentOnClear, setParentOnClear] = useState(false)\r\n\r\n    const onChange = ({ name, value }) => {\r\n        if (name === 'pickup') {\r\n            const { startDate, endDate } = value;\r\n            let obj = {\r\n                pick_up_start_date: startDate,\r\n                pick_up_end_date: endDate\r\n            }\r\n            return setForm({ ...form, ...obj })\r\n        } else if (name === 'dropOff') {\r\n            const { startDate, endDate } = value;\r\n            let obj = {\r\n                drop_off_start_date: startDate,\r\n                drop_off_end_date: endDate\r\n            }\r\n            return setForm({ ...form, ...obj })\r\n        }\r\n        setForm({ ...form, [name]: value });\r\n    }\r\n\r\n    const handleRadioChange = useCallback(({ name, value }) => {\r\n        setForm({ ...form, [name + 'Radio']: value })\r\n    }, [form])\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const dates = [\"pick_up_start_date\", \"pick_up_end_date\", \"drop_off_start_date\", \"drop_off_end_date\"]\r\n        let obj = { ...form }\r\n        if (form['originRadio']) {\r\n            obj[form['originRadio']] = form.origin || ''\r\n        }\r\n        if (form['destinationRadio']) {\r\n            obj[form['destinationRadio']] = form.destination || ''\r\n        }\r\n        if (form['equipments[]']) {\r\n            obj['equipments[]'] = form['equipments[]']\r\n        }\r\n\r\n        dates.forEach(dt => {\r\n            if (form[dt]) {\r\n                obj[dt] = moment(form[dt]).format('YYYY-MM-DD')\r\n            }\r\n        })\r\n        delete obj.originRadio\r\n        delete obj.destinationRadio\r\n        if (obj.destination) {\r\n            const { data: { data, success } = {} } = await geoLocationService({ address: obj.destination });\r\n            if (success) {\r\n                obj['destinationGeoLocation'] = data;\r\n            }\r\n        }\r\n        if (obj.origin) {\r\n            const { data: { data, success } = {} } = await geoLocationService({ address: obj.origin });\r\n            if (success) {\r\n                obj['originGeoLocation'] = data;\r\n            }\r\n        }\r\n        const filters = { ...obj, pageSize, pageIndex }\r\n        setFilters(filters)\r\n        let params = getQueryString(obj);\r\n        setParams(params);\r\n        getNewTrulList(filters, params);\r\n    }\r\n\r\n    const onClear = () => {\r\n        setForm(() => FORM_DEFAULT)\r\n        setParentOnClear(true);\r\n        setFilters(defaultParams);\r\n        setTimeout(() => {\r\n            getNewTrulList(defaultParams);\r\n            setParentOnClear(false);\r\n        }, 200)\r\n    }\r\n\r\n    return (\r\n        <Grid container gap={1} component={'form'} noValidate onSubmit={onSubmit} flexWrap={'wrap'}>\r\n            <Stack>\r\n                <SearchAutoComplete label='Origin' onSelect={onChange} name='origin' parentOnClear={parentOnClear} />\r\n                <FormControl sx={{ m: 0.5 }} variant=\"standard\">\r\n                    <RadioButtonsGroup\r\n                        parentValue={form['originRadio']}\r\n                        config={radioConfig}\r\n                        onChange={handleRadioChange}\r\n                    />\r\n                </FormControl>\r\n            </Stack>\r\n            <Input\r\n                type={'number'}\r\n                label='Radius'\r\n                sx={{ width: 100 }}\r\n                placeholder='Miles'\r\n                inputProps={{ min: 1 }}\r\n                value={form['origin_radius']}\r\n                onChange={onChange}\r\n                name='origin_radius'\r\n                fullWidth={false}\r\n            />\r\n            <Stack>\r\n                <SearchAutoComplete name='destination' label='Destination' onSelect={onChange}\r\n                    parentOnClear={parentOnClear} />\r\n                <FormControl sx={{ m: 0.5 }} variant=\"standard\">\r\n                    <RadioButtonsGroup\r\n                        config={radioConfig2}\r\n                        onChange={handleRadioChange}\r\n                        parentValue={form['destinationRadio']}\r\n                    />\r\n                </FormControl>\r\n            </Stack>\r\n            <Input\r\n                type={'number'}\r\n                label='Radius'\r\n                sx={{ width: 100 }}\r\n                placeholder='Miles'\r\n                inputProps={{ min: 1 }}\r\n                value={form['destination_radius']}\r\n                onChange={onChange}\r\n                name='destination_radius'\r\n                fullWidth={false}\r\n            />\r\n            <Stack>\r\n                <AutoComplete\r\n                    options={options}\r\n                    value={form['equipments[]'] || null}\r\n                    label='Equipment'\r\n                    size={'small'}\r\n                    onChange={onChange}\r\n                    name='equipments[]'\r\n                    sx={{ minWidth: 200, width: 'inherit' }}\r\n                />\r\n            </Stack>\r\n            <Stack>\r\n                <DateRangePicker label={'Pick Up Date Range'} name='pickup' onChange={onChange} />\r\n            </Stack>\r\n            <Stack>\r\n                <DateRangePicker name='dropOff' onChange={onChange} label='Drop Off Date Range' />\r\n            </Stack>\r\n            <Stack>\r\n                <Button type={'submit'} variant='contained'>Search</Button>\r\n            </Stack>\r\n            <Stack>\r\n                <Button onClick={onClear} variant='outlined'>Clear</Button>\r\n            </Stack>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default NewtrulFilters;","import {bookNewTrulLoad, getParsedLoadEquipment, NEWTRUL} from \"./constants\";\r\nimport React, {Fragment} from \"react\";\r\nimport moment from \"moment\";\r\nimport {Button, Typography} from \"@mui/material\";\r\nimport {v4 as uuidv4} from 'uuid';\r\n\r\nconst tableConfig = ({history, path, totalResults, onPageChange, pageIndex, pageSize, showDialog}) => {\r\n    return {\r\n        containerHeight: '100%',\r\n        rowCellPadding: \"normal\",\r\n        emptyMessage: \"No Shipments Found\",\r\n        onRowClick: ({\r\n                         loadNumber,\r\n                         id,\r\n                         vendorName\r\n                     }) => vendorName.toLowerCase() === 'newtrul' ? `${path}/newtrul/${id}` : `${path}/${loadNumber}`,\r\n        count: totalResults,\r\n        limit: pageSize,\r\n        page: pageIndex,\r\n        onPageChange,\r\n        rowStyleCb: ({row}) => {\r\n            const {bidLevel, status} = row;\r\n            //to show rejected, bidlevel:1 and status false\r\n            //to show counter offer bid level: 2, status: false\r\n            if (bidLevel === 2) {\r\n                return {\r\n                    borderLeft: '5px solid #ffeaa7'\r\n                }\r\n            } else if (bidLevel === 1) {\r\n                return {\r\n                    borderLeft: !status ? `5px solid #e74c3c` : '5px solid #00b894'\r\n                }\r\n            }\r\n        },\r\n        columns: [\r\n            {\r\n                id: \"loadNumber\",\r\n                label: \"Load Number\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        return <Fragment>{row.id}</Fragment>\r\n                    }\r\n                    return <Fragment>{row.loadNumber}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"country\",\r\n                label: \"Pickup City/State\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        // eslint-disable-next-line no-unused-vars\r\n                        const [_, pickup] = row.stops || [],\r\n                            {geo} = pickup || {},\r\n                            {city = '', state = ''} = geo || {};\r\n                        return <Fragment>\r\n                            {city}, {state}\r\n                        </Fragment>\r\n                    } else return (\r\n                        <Fragment>\r\n                            {row?.origin?.city}, {row?.origin?.stateCode}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"pickupDate\",\r\n                label: \"Pickup Date\",\r\n                renderer: ({row}) => {\r\n                    let date = \"\";\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        // eslint-disable-next-line no-unused-vars\r\n                        const [_, pickup] = row.stops || [{}];\r\n                        const {early_datetime = ''} = pickup || {}\r\n                        date = early_datetime ? moment(early_datetime).format(\"M/DD/YYYY\") : '--';\r\n                    } else if (moment(row?.pickUpByDate).isValid()) {\r\n                        date = moment(row.pickUpByDate).format(\"M/DD/YYYY\");\r\n                    }\r\n                    return <Fragment>{date}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"deliveryCountry\",\r\n                label: \"Delivery City/State\",\r\n                renderer: ({row = {}}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        // eslint-disable-next-line no-unused-vars\r\n                        const [drop, _] = row.stops || [],\r\n                            {geo} = drop || {},\r\n                            {city = '', state = ''} = geo || {};\r\n                        return <Fragment>\r\n                            {city}, {state}\r\n                        </Fragment>\r\n                    } else return (\r\n                        <Fragment>\r\n                            {row?.destination?.city}, {row?.destination?.stateCode}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"deliveryDate\",\r\n                label: \"Delivery Date\",\r\n                renderer: ({row}) => {\r\n                    let date = \"\";\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        // eslint-disable-next-line no-unused-vars\r\n                        const [drop, _] = row.stops || [],\r\n                            {early_datetime} = drop || {};\r\n                        return early_datetime ? moment(early_datetime).format(\"M/DD/YYYY\") : '--';\r\n                    }\r\n                    if (moment(row.deliverBy).isValid()) {\r\n                        date = moment(row?.deliverBy).format(\"M/DD/YYYY\");\r\n                    }\r\n                    return <Fragment>{date}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"equipment\",\r\n                label: \"Equipment\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        const {equipment} = row\r\n                        if (typeof equipment === 'string')\r\n                            return <Fragment>\r\n                                {equipment}\r\n                            </Fragment>;\r\n                        else return null;\r\n                    }\r\n                    const {modesString = '', standard = ''} = getParsedLoadEquipment(row || {})\r\n                    return (\r\n                        <Fragment>\r\n                            {modesString} {standard}\r\n                        </Fragment>\r\n                    );\r\n                },\r\n            },\r\n            {\r\n                id: \"weight\",\r\n                label: \"Weight\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        const {weight} = row || {};\r\n                        if (typeof weight === \"number\")\r\n                            return <Fragment>\r\n                                {weight} lbs\r\n                            </Fragment>\r\n                        else return null;\r\n                    } else {\r\n                        let {weight: {pounds = \"\"} = {}} = row || {};\r\n                        if (pounds) pounds = pounds + \" lbs\";\r\n                        return <Fragment>{pounds}</Fragment>;\r\n                    }\r\n                },\r\n            },\r\n            {\r\n                id: \"company\",\r\n                label: \"Company\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        const {client: {client_name} = {}} = row || {}\r\n                        return client_name || '--'\r\n                    }\r\n                    return <Fragment>{\"C.H Robinson\"}</Fragment>;\r\n                },\r\n            },\r\n            {\r\n                id: \"bookNow\",\r\n                label: \"Book Now\",\r\n                renderer: ({row = {}}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        const {book_now_price, available_book_type} = row;\r\n                        if (available_book_type.equalsIgnoreCase('both')) {\r\n                            const onBookNowNewtrul = (e) => {\r\n                                e.stopPropagation();\r\n                                const dialogProps = {\r\n                                    title: 'Book Now',\r\n                                    maxWidth: 'md',\r\n                                    content: <Typography fontSize={16}>Do you want to Book now at?\r\n                                        ${book_now_price}</Typography>,\r\n                                    okButtonText: 'Book',\r\n                                    onOk: (onClose) => {\r\n                                        /*\r\n                                        * {TODO} - payload needs to be adjusted\r\n                                        * */\r\n                                        const payload = {\r\n                                            \"external_id\": uuidv4(),\r\n                                            \"terms_condition\": true,\r\n                                            \"driver_name\": \"Driver Namme\",\r\n                                            \"driver_phone_number\": \"(123) 456-6789\",\r\n                                            \"truck_number\": \"FVS200937\",\r\n                                            \"trailer_number\": \"EA5318\",\r\n                                            \"tracking_url\": \"https://www.google.com/\",\r\n                                            \"loadId\": row.id\r\n                                        }\r\n                                        bookNewTrulLoad(payload, row, () => onClose())\r\n                                    }\r\n                                }\r\n                                showDialog(dialogProps);\r\n                            }\r\n                            return (\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={onBookNowNewtrul}\r\n                                    disabled={book_now_price === 0}\r\n                                >\r\n                                    $ {book_now_price}\r\n                                </Button>\r\n                            );\r\n                        } else return null;\r\n                    }\r\n                    if (row.hasOwnProperty(\"availableLoadCosts\")) {\r\n                        const {availableLoadCosts = []} = row || {};\r\n                        const [item] = availableLoadCosts || [];\r\n                        if (item) {\r\n                            return (\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        history.push(path + `/${row.loadNumber}/bookNow`, row)\r\n                                    }}\r\n                                >\r\n                                    $ {item?.sourceCostPerUnit}\r\n                                </Button>\r\n                            );\r\n                        }\r\n                    }\r\n                    return null;\r\n                },\r\n            },\r\n            {\r\n                id: \"Bidding\",\r\n                label: \"Bid\",\r\n                renderer: ({row}) => {\r\n                    if (row.vendorName === NEWTRUL) {\r\n                        const {available_book_type} = row;\r\n                        const validBookType = available_book_type.equalsIgnoreCase('both') || available_book_type.equalsIgnoreCase('auction')\r\n                        if (!validBookType) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                    return (\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            color=\"success\"\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                if (row.vendorName === NEWTRUL) {\r\n                                    return history.push(path + `/${row.id}/bid`, {\r\n                                        ...row,\r\n                                        vendor: row.vendorName,\r\n                                        company: 'New Trul',\r\n                                        price: row.book_now_price\r\n                                    });\r\n                                }\r\n                                history.push(path + `/${row.loadNumber}/bid`, {\r\n                                    ...row,\r\n                                    vendor: row.vendorName,\r\n                                    company: row.vendorName === NEWTRUL ? 'New Trul' : 'C.H Robinson'\r\n                                });\r\n                            }}\r\n                        >\r\n                            Bid +\r\n                        </Button>\r\n                    );\r\n                },\r\n            },\r\n        ],\r\n    };\r\n}\r\n\r\nexport {\r\n    tableConfig\r\n}","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport {Box, Button, IconButton, Popover, Stack, useMediaQuery} from \"@mui/material\";\r\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\r\nimport { Route, useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport EnhancedTable from \"../../components/Atoms/table/Table\";\r\nimport { LoadDetails } from \"./LoadDetails\";\r\nimport { getOpenBoardLoads } from \"../../actions/openBoard.action\";\r\nimport Bid from \"./Bid\";\r\nimport { withRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { developmentPayload, productionPayload } from \"./constants\";\r\nimport BookNowForm from \"./BookNowForm\";\r\nimport { addEvent, removeEvent } from \"../../utils/utils\";\r\nimport NewTrulLoadDetails from \"./NewTrulLoadDetails\";\r\nimport NewtrulFilters from \"./NewtrulFilters\";\r\nimport { Refresh } from \"@mui/icons-material\";\r\nimport { tableConfig } from \"./config\";\r\nimport Dialog from \"../../components/Atoms/Dialog\";\r\nimport BrokerSetupMessage from \"../../components/common/BrokerSetupMessage\";\r\n\r\nlet payload = developmentPayload;\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n    payload = productionPayload;\r\n}\r\n\r\n// const CARRIER_CODE = \"T2244688\";\r\n\r\nconst OpenBoard = () => {\r\n    const isMobile = useMediaQuery(theme => theme.breakpoints.down('sm'))\r\n    const { path } = useRouteMatch(),\r\n        [filters, setFilters] = useState(payload),\r\n        [params, setParams] = useState(''),\r\n        [dialog, setDialog] = useState({ open: false, content: null }),\r\n        dispatch = useDispatch(),\r\n        { data: { results, totalResults, message } = {}, loading = false } = useSelector((state) => state.openBoard),\r\n        history = useHistory();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const getBidListWithFilter = useCallback((filters, params = '') => {\r\n        onClosePopover();\r\n        dispatch(getOpenBoardLoads({ ...filters, newTrulQuery: params, env: process.env.NODE_ENV, pageSize: 100 }))\r\n    }, [dispatch])\r\n\r\n    const getBiddingList = useCallback(() => {\r\n        dispatch(getOpenBoardLoads({ ...filters, newTrulQuery: params, env: process.env.NODE_ENV, pageSize: 100 }))\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [dispatch, filters, params])\r\n\r\n    const onCloseDialog = useCallback(() => {\r\n        setDialog((prev) => ({ ...prev, open: false }))\r\n    }, [])\r\n\r\n    const showDialog = useCallback(({ content }) => {\r\n        setDialog((prev) => ({ ...prev, open: true, content }));\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getBiddingList();\r\n        addEvent(window, 'getBiddings', getBiddingList);\r\n\r\n        return () => removeEvent(window, 'getBiddings', getBiddingList);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n\r\n    const onPageChange = (e, pgNum) => {\r\n        setFilters((prev) => {\r\n            getBidListWithFilter({ ...prev, pageIndex: pgNum }, params);\r\n            return { ...prev, pageIndex: pgNum }\r\n        });\r\n    };\r\n\r\n    const onClosePopover = () => {\r\n        setAnchorEl(null);\r\n    }\r\n\r\n    const table = useMemo(() => <EnhancedTable\r\n        config={tableConfig({ showDialog, history, path, totalResults, onPageChange, pageSize: filters.pageSize, pageIndex: filters.pageIndex })}\r\n        data={results || []}\r\n        loading={loading}\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    />, [results])\r\n\r\n    const filtersComp = <NewtrulFilters\r\n        defaultParams={payload}\r\n        setParams={setParams}\r\n        setFilters={setFilters}\r\n        pageSize={filters.pageSize}\r\n        pageIndex={filters.pageIndex}\r\n        getNewTrulList={getBidListWithFilter}\r\n        onRefetch={getBiddingList}\r\n    />\r\n\r\n    if (message) {\r\n        return <BrokerSetupMessage message={message} />\r\n    }\r\n\r\n    return (\r\n        <Stack style={{ gap: '10px', height: '100%', }}>\r\n            <Stack direction={'row'} justifyContent='end'>\r\n                <Stack>\r\n                    <IconButton title='Refresh' onClick={getBiddingList}>\r\n                        <Refresh className={loading ? 'rotateIcon' : undefined} />\r\n                    </IconButton>\r\n                </Stack>\r\n                {isMobile && <Stack>\r\n                    <Button\r\n                        aria-describedby={'open-board-filters'} variant='outlined'\r\n                        onClick={handleClick}\r\n                        endIcon={<ArrowDropDownIcon />}\r\n                    >\r\n                        Filters\r\n                    </Button>\r\n                </Stack>}\r\n            </Stack>\r\n            {isMobile ?\r\n                <Popover\r\n                    open={!!anchorEl}\r\n                    PaperProps={{sx: {p: 3}}}\r\n                    id='open-board-filters' onClose={onClosePopover}\r\n                    anchorEl={anchorEl}\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'center',\r\n                    }}\r\n                >\r\n                    {filtersComp}\r\n                </Popover> :\r\n                filtersComp\r\n            }\r\n            <Box sx={{height: '100%' , overflow: 'hidden'}}>\r\n                {table}\r\n            </Box>\r\n            <Route path={path + \"/newtrul/:loadId\"} component={NewTrulLoadDetails} />\r\n            <Route path={path + \"/:loadNumber\"} exact component={LoadDetails} />\r\n            <Route path={path + \"/:loadNumber/bid\"} component={Bid} />\r\n            <Route path={path + \"/:loadNumber/bookNow\"} component={BookNowForm} />\r\n            <Dialog onClose={onCloseDialog} config={dialog} />\r\n        </Stack>\r\n    );\r\n};\r\n\r\nexport default withRouter(OpenBoard);\r\n","import axios from \"axios\"\r\nimport {notification} from \"./alert\";\r\nimport { FETCH_WAREHOUSEBYID, FETCH_WAREHOUSES, WAREHOUSE_LOCATION } from \"./types\";\r\n\r\nconst getWarehouses = () => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: FETCH_WAREHOUSES, payload: { loading: true } })\r\n\r\n        const response = await axios.get('/api/warehouse');\r\n        const { data, status } = response;\r\n        // console.log(status, data);\r\n        if (status === 200) {\r\n            dispatch({ type: FETCH_WAREHOUSES, payload: { warehouses: data, loading: false } })\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nconst getWarehouseById = (id, cb) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get('/api/warehouse/' + id);\r\n        if (response.status === 200) {\r\n            dispatch({ type: FETCH_WAREHOUSEBYID, payload: { warehouseById: response.data } });\r\n            if (cb) cb(response.data.data)\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const geoLocationService = async (obj) =>  {\r\n    return await axios.post('/api/warehouse/getLocation', obj)\r\n}\r\n\r\nexport const getGeoLocation = (obj) => async (dispatch) => {\r\n    const { status, data } = await geoLocationService(obj);\r\n    dispatch({ type: WAREHOUSE_LOCATION, payload: { loading: true } })\r\n    try {\r\n        if (status === 200 && data.success) {\r\n            dispatch({ type: WAREHOUSE_LOCATION, payload: { loading: false, location: { ...data } } });\r\n        }\r\n        else if (!data.success) {\r\n            notification(data.message, 'error');\r\n            dispatch({ type: WAREHOUSE_LOCATION, payload: { loading: false, location: {} } });\r\n        }\r\n    } catch (error) {\r\n        notification(data.message, 'error');\r\n        dispatch({ type: WAREHOUSE_LOCATION, payload: { loading: false, location: {} } });\r\n    }\r\n}\r\n\r\nexport {\r\n    getWarehouses,\r\n    getWarehouseById,\r\n}"],"sourceRoot":""}