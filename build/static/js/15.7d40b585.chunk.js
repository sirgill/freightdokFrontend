(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{1093:function(e,n,t){"use strict";t.r(n);var r=t(213),o=t(988),i=t(159),c=t(56),a=t(4),l=t(13),s=t(1),d=t(24),u=t(184),b=t(316),j=t(324),p=t(434),f=t.n(p),O=t(2);n.default=function(){var e=Object(d.e)((function(e){return e.users})),n=e.list,t=e.loading,p=e.page,h=e.limit,g=e.total,m=Object(d.e)((function(e){return e.auth})).user,x=Object(d.d)(),v=Object(s.useState)({open:!1,config:{}}),k=Object(l.a)(v,2),C=k[0],w=k[1],_=function(){return w(Object(a.a)(Object(a.a)({},C),{},{open:!1}))},y=function(e,n){n.stopPropagation(),w({open:!0,config:{title:function(){return Object(O.jsxs)(i.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(O.jsx)(f.a,{color:"error"}),Object(O.jsx)(c.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]})},okText:"Delete",onOk:function(){return x(Object(u.a)(e,_))},content:function(){return Object(O.jsx)(o.a,{sx:{color:"#000"},children:"Are you sure you want to delete the user?"})}}})};Object(s.useEffect)((function(){x(Object(u.b)(+p,+h))}),[]);var D=["driver","afterhours","load planner","support"],N={emptyMessage:"No Users",page:p,count:g,limit:h,onPageChange:function(e,n){x(Object(u.b)(n-1,+h))},headerCellSx:{pt:1,pb:1},rowCellPadding:"inherit",columns:[{id:"name",label:"Name",renderer:function(e){var n=e.row.name;return(void 0===n?"":n)||"--"}},{id:"email",label:"Email"},{id:"role",label:"Role"},{id:"actions",label:"Actions",renderer:function(e){var n=e.row,t=void 0===n?{}:n,o=t._id,i=t.email,c=t.role;return Object(O.jsxs)(s.Fragment,{children:[m&&"dispatch"!==m.role?Object(O.jsx)(r.a,{sx:{mr:1},variant:"contained",onClick:function(){x(Object(u.e)({_id:o,email:i,role:c}))},children:"Update"}):D.includes(c)&&Object(O.jsx)(r.a,{variant:"contained",onClick:function(){x(Object(u.e)({_id:o,email:i,role:c}))},children:"Update"}),m&&("user"===m.role||"admin"===m.role)&&"dispatch"!==m.role&&Object(O.jsx)(r.a,{variant:"contained",color:"error",onClick:y.bind(undefined,o),children:"Delete"})]})}}]};return Object(O.jsxs)(s.Fragment,{children:[Object(O.jsx)(b.a,{loading:t,data:n,config:N}),Object(O.jsx)(j.a,{className:"enhancedTable_dialog",open:C.open,config:C.config,onClose:_})]})}}}]);
//# sourceMappingURL=15.7d40b585.chunk.js.map