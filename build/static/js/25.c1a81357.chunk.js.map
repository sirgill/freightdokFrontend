{"version":3,"sources":["components/driver-forms/AddDriver.js","components/driverbar/Driverlistbar.js","hooks/useMutation.js","components/Atoms/Dialog.js","components/Atoms/table/Pagination.jsx","components/Atoms/table/Table.jsx","../node_modules/@mui/icons-material/Close.js","../node_modules/@mui/icons-material/Refresh.js","actions/load.js","../node_modules/@mui/icons-material/Add.js","actions/driver.js","../node_modules/@mui/icons-material/EditOutlined.js"],"names":["add","UserSettings","getUserPermissionsByDashboardId","connect","_ref4","load","auth","user","driver","all_drivers","addDriver","getLoads","props","isEdit","data","closeEditForm","loading","isSaving","mutation","useMutation","formTemplate","firstName","lastName","phoneNumber","dispatch","useDispatch","open","setOpen","useState","count","setCount","form","setForm","errors","setErrors","useEffect","handleClickOpen","handleClose","updateForm","_ref3","name","value","prev","_jsxs","_Fragment","children","_jsx","Button","disabled","color","onClick","style","marginBottom","variant","startIcon","AddIcon","Dialog","maxWidth","onClose","PaperProps","sx","width","DialogTitle","id","blue","textAlign","fontWeight","letterSpacing","IconButton","position","left","top","theme","palette","grey","CloseIcon","DialogContent","className","_Box","component","px","pb","onSubmit","e","preventDefault","valid","_ref","validateForm","_ref2","success","getDrivers","notification","message","noValidate","Grid","container","mb","Input","label","onChange","formControlSx","mt","required","Select","showNone","options","map","_id","email","LoadingButton","type","loadingText","fullWidth","isLoading","edit","canEdit","delete","canDelete","state","patchDriverLoads","deleteDriverLoads","deleteDriver","arguments","length","undefined","drivers","useSelector","shallowEqual","setEdit","handleUpdate","row","stopPropagation","fetchDrivers","tableConfig","rowCellPadding","emptyMessage","hasDelete","deletePermissions","deleteMessage","onDelete","onDialogClose","columns","renderer","Tooltip","title","placement","_IconButton","mr","bind","EditOutlinedIcon","Actions","display","justifyContent","AddDriverForm","EnhancedTable","config","actions","EditDriver","onRefresh","url","callback","showTriggers","setLoading","async","body","afterSubmit","uri","queryParams","serialize","asyncApiCall","fn","requestPut","requestDelete","requestPatch","requestPost","getRequestCb","toLowerCase","then","res","catch","err","finally","Transition","React","ref","Slide","direction","preventBackdropClose","onOk","okText","content","onCancel","equalsIgnoreCase","MuiDialog","TransitionComponent","DialogActions","StyledPagination","styled","Pagination","breakpoints","down","height","StyledStack","Stack","flexWrap","TablePagination","onPageChange","page","limit","onLimitChange","setLength","Array","isArray","alignItems","Typography","fontSize","Math","ceil","size","pgNum","Cell","_TableCell","padding","DeleteIcon","_Delete","Headers","role","handleRequestSort","hasSort","headerCellSx","sortField","sortOrder","showCheckbox","headers","useMemo","column","index","visible","sort","_","isFunction","bgcolor","_TableSortLabel","active","unshift","_TableRow","TableData","_ref5","handleRowClick","handleDelete","rest","dataKey","rowIndex","hasDeletePermission","checkboxKey","onRowClick","rowStyleCb","rowCellSx","onCheckboxChange","checkboxes","rowStyle","deleteCell","scope","cell","i","emptyState","valueFormatter","cellPadding","isCostCell","getDollarPrefixedPrice","get","Error","checked","indexOf","_Checkbox","concat","hover","cursor","getTableCell","_ref6","history","onRefetch","isRefetching","isPaginationLoading","tableState","setTableState","dialog","setDialog","_columns","columnsBuilder","hasOnClickUrl","onPageSizeChange","onRowClickDataCallback","showRefresh","containerHeight","handleSortChange","getUserDetail","useRef","isValidElement","push","event","property","field","order","_Grid","p","gap","ErrorOutlineIcon","_Typography","_DialogContentText","getTableContent","Fragment","_TableHead","backgroundColor","borderTop","_TableBody","_ref$current","current","table","calculatedHeight","offsetHeight","_ref$current2","tableContainer","scrollTo","_Stack","py","_Refresh","_TableContainer","_Paper","el","boxShadow","getLoader","innerHeight","window","item","Spinner","_Table","stickyHeader","_Backdrop","zIndex","drawer","withRouter","memo","_interopRequireDefault","require","Object","defineProperty","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d","module","search","getState","LOADS_FETCHING","payload","isLoadsFetching","requestGet","GET_LOADS","loads","setAlert","searchLoads","axios","RETURNED_SEARCHED_LOADS","resetLoadsSearch","RESET_SEARCHED_LOADS","rowsPerPage","selectLoad","input","SELECT_LOAD","addLoad","formData","ADD_LOAD","console","log","updateLoad","bucketFiles","FormData","key","keys","dataToSend","JSON","stringify","append","files","file","deleteLoad","load_id","DELETE_LOAD","assign","timestamp","Date","GET_DRIVERS","_err$response","_err$response2","DRIVER_ERROR","msg","response","statusText","status","post","error","driver_id","patch","find","o","PATCH_DRIVER","cb","splice","DELETE_DRIVER","DELETE_DRIVER_LOAD"],"mappings":"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","file":"static/js/25.c1a81357.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\n// Redux\r\nimport PropTypes from \"prop-types\";\r\nimport {connect, useDispatch} from \"react-redux\";\r\nimport {addDriver} from \"../../actions/driver.js\";\r\nimport {getLoads} from \"../../actions/load\";\r\n//Material\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {blue} from \"../layout/ui/Theme\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport {Box} from \"@mui/material\";\r\nimport useMutation from \"../../hooks/useMutation\";\r\nimport {notification} from \"../../actions/alert\";\r\nimport {getDrivers} from \"../../actions/driver\";\r\nimport {UserSettings} from \"../Atoms/client\";\r\nimport {Input, LoadingButton, Select} from \"../Atoms\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\n\r\n// const ADD_DRIVERS_ROLES_PERMITTED = [ROLES.superadmin, ROLES.admin, ROLES.afterhours];\r\n\r\nconst {add} = UserSettings.getUserPermissionsByDashboardId('drivers')\r\n\r\nconst validateForm = ({firstName, phoneNumber, user, lastName}) => {\r\n    let valid = true, errors = {}\r\n    if (!firstName) {\r\n        valid = false;\r\n        errors.firstName = 'First Name is required'\r\n    }\r\n    if (!lastName) {\r\n        valid = false;\r\n        errors.lastName = 'Last Name is required'\r\n    }\r\n    if (!phoneNumber) {\r\n        valid = false;\r\n        errors.phoneNumber = 'Phone Number is required'\r\n    }\r\n    if (!user) {\r\n        valid = false;\r\n        errors.user = 'Please select a Driver'\r\n    }\r\n    return {valid, errors};\r\n}\r\n\r\nconst AddDriverForm = (props) => {\r\n    const {\r\n        all_drivers,\r\n        getLoads,\r\n        isEdit = false,\r\n        data = {},\r\n        closeEditForm,\r\n    } = props;\r\n    const {loading: isSaving, mutation} = useMutation(\"/api/drivers\")\r\n    const formTemplate = {\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            phoneNumber: \"\",\r\n            user: \"\",\r\n        },\r\n        dispatch = useDispatch();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [count, setCount] = useState(1);\r\n    const [form, setForm] = useState(formTemplate),\r\n        [errors, setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        if (count === 2) {\r\n            getLoads();\r\n        }\r\n    }, [count]);\r\n\r\n    const handleClickOpen = () => {\r\n        // setForm(formTemplate);\r\n        setCount(1);\r\n        setOpen(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isEdit) {\r\n            handleClickOpen()\r\n            setForm(data)\r\n        }\r\n        return () => {\r\n            setForm(() => formTemplate);\r\n        }\r\n    }, [isEdit])\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        // setForm(formTemplate);\r\n        setCount(1);\r\n        if (closeEditForm) closeEditForm()\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const {valid, errors} = validateForm(form);\r\n        if (!valid) {\r\n            return setErrors({...errors})\r\n        }\r\n        mutation(form, null, ({success, data}) => {\r\n            if (success) {\r\n                dispatch(getDrivers());\r\n                handleClose();\r\n                setForm(() => formTemplate);\r\n                notification(data.message);\r\n            } else {\r\n                notification(data.message, 'error')\r\n            }\r\n        })\r\n    };\r\n\r\n    const updateForm = ({name, value}) => {\r\n        setForm({\r\n            ...form,\r\n            [name]: value,\r\n        });\r\n        setErrors((prev) => ({...prev, [name]: ''}))\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {(!isEdit &&\r\n                <Button\r\n                    disabled={!add}\r\n                    color=\"primary\"\r\n                    onClick={handleClickOpen}\r\n                    style={{marginBottom: \"20%\"}}\r\n                    variant={'contained'}\r\n                    startIcon={<AddIcon />}\r\n                >\r\n                    Add\r\n                </Button>\r\n            )}\r\n\r\n            <Dialog\r\n                maxWidth={\"md\"}\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                PaperProps={{\r\n                    sx: {\r\n                        width: 400\r\n                    }\r\n                }}\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\" sx={{\r\n                    color: blue,\r\n                    textAlign: 'center',\r\n                    fontWeight: 400,\r\n                    letterSpacing: 1\r\n                }}>\r\n\r\n                    <IconButton\r\n                        aria-label=\"close\"\r\n                        onClick={handleClose}\r\n                        sx={{\r\n                            position: \"absolute\",\r\n                            left: 8,\r\n                            top: 8,\r\n                            color: (theme) => theme.palette.grey[500],\r\n                        }}\r\n                    >\r\n                        <CloseIcon/>\r\n                    </IconButton>\r\n\r\n                    {isEdit ? 'Edit' : 'Add'} Driver\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    <div className=\"\">\r\n                        <Box component={'form'} sx={{px: 4, pb: 3}} onSubmit={onSubmit} noValidate>\r\n                            <Grid container sx={{'& .MuiFormControl-fullWidth': {mb: 2}}}>\r\n                                <Input\r\n                                    name={\"firstName\"}\r\n                                    label={\"First Name\"}\r\n                                    onChange={updateForm}\r\n                                    value={form.firstName}\r\n                                    errors={errors}\r\n                                    formControlSx={{mt: .8}}\r\n                                    required\r\n                                />\r\n                                <Input\r\n                                    name={\"lastName\"}\r\n                                    label={\"Last Name\"}\r\n                                    onChange={updateForm}\r\n                                    value={form.lastName}\r\n                                    errors={errors}\r\n                                    required\r\n                                />\r\n                                <Input\r\n                                    name={\"phoneNumber\"}\r\n                                    label={\"Phone Number\"}\r\n                                    onChange={updateForm}\r\n                                    value={form.phoneNumber}\r\n                                    errors={errors}\r\n                                    required\r\n                                />\r\n                                {!isEdit && <Select\r\n                                    value={form.user}\r\n                                    name=\"user\"\r\n                                    onChange={updateForm}\r\n                                    label='Select Driver'\r\n                                    showNone={true}\r\n                                    options={all_drivers.map(driver => ({id: driver._id, label: driver.email}))}\r\n                                    errors={errors}\r\n                                    required\r\n                                />}\r\n                            </Grid>\r\n                            <LoadingButton\r\n                                sx={{mt: 2}}\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                loadingText={isEdit ? 'Updating...' : 'Saving...'}\r\n                                fullWidth\r\n                                isLoading={isSaving}\r\n                            >\r\n                                {(isEdit ? 'Update ' : 'Add ') + 'Driver'}\r\n                            </LoadingButton>\r\n                        </Box>\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        </>\r\n    );\r\n};\r\n\r\nAddDriverForm.propTypes = {\r\n    addDriver: PropTypes.func.isRequired,\r\n    getLoads: PropTypes.func.isRequired,\r\n    load: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({\r\n                             load,\r\n                             auth: {user},\r\n                             driver: {all_drivers},\r\n                         }) => ({load, user, all_drivers});\r\n\r\nexport default connect(mapStateToProps, {addDriver, getLoads})(AddDriverForm);\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {connect, shallowEqual, useDispatch, useSelector} from \"react-redux\";\r\nimport {Box, IconButton} from \"@mui/material\";\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\n\r\nimport EnhancedTable from \"../Atoms/table/Table\";\r\nimport {getDrivers} from \"../../actions/driver\";\r\nimport {\r\n    patchDriverLoads,\r\n    deleteDriverLoads,\r\n    deleteDriver,\r\n} from \"../../actions/driver\";\r\nimport EditDriver from \"../driver-forms/AddDriver\";\r\nimport AddDriverForm from \"../driver-forms/AddDriver\";\r\nimport {UserSettings} from \"../Atoms/client\";\r\nimport {Tooltip} from \"../Atoms\";\r\n\r\nconst {edit: canEdit, delete: canDelete } = UserSettings.getUserPermissionsByDashboardId('drivers')\r\n\r\nconst Driverlistbar = (props = {}) => {\r\n    const {deleteDriver} = props;\r\n    const {drivers = [], loading = false} = useSelector((state) => state.driver, shallowEqual);\r\n    const [edit, setEdit] = useState({open: false, data: {}});\r\n    const dispatch = useDispatch();\r\n\r\n    const handleDeleteDriver = (driver = {}, onDialogClose, {row}) => {\r\n        const _id = typeof row.user !== \"string\" ? row.user._id : row.user;\r\n        deleteDriver(_id, onDialogClose);\r\n    };\r\n\r\n    const handleUpdate = (row = {}, e) => {\r\n        e.stopPropagation();\r\n        setEdit({open: true, data: row})\r\n    };\r\n\r\n    const fetchDrivers = () => {\r\n        dispatch(getDrivers());\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchDrivers()\r\n\r\n    }, [])\r\n\r\n\r\n    const tableConfig = {\r\n        rowCellPadding: 'normal',\r\n        emptyMessage: 'No drivers found',\r\n        // onRowClick: (row) => setEdit({open: true, data: row}),\r\n        hasDelete: true,\r\n        deletePermissions: !!canDelete,\r\n        deleteMessage: ({row}) => 'Are you sure you want to delete ' + row.firstName + \" \" + (row.lastName || '') + '?',\r\n        onDelete: handleDeleteDriver,\r\n        columns: [\r\n            {\r\n                id: 'firstName',\r\n                label: 'First Name'\r\n            },\r\n            {\r\n                id: 'lastName',\r\n                label: 'Last Name'\r\n            },\r\n            {\r\n                id: 'phoneNumber',\r\n                label: 'Phone Number'\r\n            },\r\n            {\r\n                id: 'delete',\r\n                renderer: ({row}) => {\r\n                    return <Tooltip title='Edit' placement='top'>\r\n                        <IconButton disabled={!canEdit} variant={'contained'} sx={{mr: 2}} onClick={handleUpdate.bind(this, row)} color='primary'>\r\n                            <EditOutlinedIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                }\r\n            }\r\n        ]\r\n    }\r\n\r\n    const closeEditForm = () => {\r\n        setEdit({open: false, data: {}});\r\n    }\r\n\r\n    const Actions = <Box sx={{display :'flex', justifyContent: 'flex-end'}}>\r\n        <AddDriverForm/>\r\n    </Box>\r\n\r\n    return (\r\n        <div className='dashboardRoot'>\r\n            <EnhancedTable config={tableConfig} data={drivers} loading={loading} actions={Actions}/>\r\n            {edit.open && <EditDriver closeEditForm={closeEditForm} data={edit.data} isEdit={true} onRefresh={fetchDrivers} />}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    driver: state.driver\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    getDrivers,\r\n    patchDriverLoads,\r\n    deleteDriverLoads,\r\n    deleteDriver,\r\n})(Driverlistbar)\r\n","import {useState} from \"react\";\r\nimport {requestDelete, requestPatch, requestPost, requestPut} from \"../utils/request\";\r\nimport {serialize} from \"../utils/utils\";\r\n\r\nconst getRequestCb = (type) => {\r\n    let fn;\r\n    // eslint-disable-next-line default-case\r\n    switch (type) {\r\n        case 'put' : {\r\n            fn = requestPut\r\n            break;\r\n        }\r\n        case 'delete' : {\r\n            fn = requestDelete\r\n            break;\r\n        }\r\n        case 'patch' : {\r\n            fn = requestPatch\r\n            break;\r\n        }\r\n        default: {\r\n            fn = requestPost;\r\n        }\r\n    }\r\n    return fn;\r\n}\r\n\r\nconst useMutation = (url, callback = null, showTriggers=false, options={}) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const mutation = async (body, type = 'post', afterSubmit) => {\r\n        let uri = url;\r\n        if(options.queryParams){\r\n            uri = uri + \"?\" + serialize(options.queryParams)\r\n        }\r\n        setLoading(true);\r\n        if(!type){\r\n            type = 'post'\r\n        }\r\n        const asyncApiCall = getRequestCb(type.toLowerCase());\r\n        if(asyncApiCall) {\r\n            return asyncApiCall({uri, callback, body, showTriggers})\r\n                .then(res => {\r\n                    if(afterSubmit){\r\n                        afterSubmit({...res})\r\n                    }\r\n                    return res\r\n                })\r\n                .catch(err => {\r\n                    return err;\r\n                })\r\n                .finally(() => {\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }\r\n\r\n    return { mutation, loading }\r\n}\r\n\r\nexport default useMutation;","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport MuiDialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Slide from '@mui/material/Slide';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Dialog(props) {\r\n    const {open = false, config, onClose, preventBackdropClose = false, className} = props,\r\n        {title, onOk, okText = 'Save', content, onCancel} = config;\r\n\r\n    const handleClose = (e, reason = '') => {\r\n        if (preventBackdropClose && reason.equalsIgnoreCase('backdropclick')) {\r\n            return\r\n        }\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <MuiDialog\r\n                className={className}\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                onClose={handleClose}\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                {typeof title === 'function' ? title({...config}) :\r\n                    <DialogTitle sx={{fontWeight: 550}}>{title}</DialogTitle>}\r\n                <DialogContent>\r\n                    {typeof content === 'function' ? content({config}) : content}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {typeof onCancel === 'function' ? onCancel({config, onClose}): <Button variant='outlined' onClick={handleClose}>Cancel</Button>}\r\n                    {typeof okText === 'function' ? okText({config, onOk}) : <Button variant='contained'\r\n                                                                                     color={okText.equalsIgnoreCase('delete') ? 'error' : 'primary'}\r\n                                                                                     onClick={onOk}\r\n                    >\r\n                        {okText}\r\n                    </Button>}\r\n                </DialogActions>\r\n            </MuiDialog>\r\n        </div>\r\n    );\r\n}","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport styled from \"@mui/material/styles/styled\";\r\nimport {Select} from \"../index\";\r\n\r\nconst StyledPagination = styled(Pagination)(({theme}) => ({\r\n    \"& .MuiPaginationItem-root\": {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            height: \"1.8rem\",\r\n            width: \"1rem\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst StyledStack = styled(Stack)(({theme}) => ({\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        justifyContent: 'center'\r\n    },\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexWrap: 'wrap',\r\n        '& .pageSizeSelect': {\r\n        width: 80\r\n        }\r\n}))\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 1, count = 0, limit = 1, onLimitChange, isLoading}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (+page !== +pgNum && typeof onPageChange === 'function') {\r\n            onPageChange(e, +pgNum)\r\n        }\r\n    }\r\n\r\n    const handlePageSize = ({value}) => {\r\n        if(typeof onLimitChange === 'function'){\r\n            onLimitChange({value});\r\n        }\r\n    }\r\n\r\n    if (count <= 5) {\r\n        return null;\r\n    }\r\n    return (\r\n        <StyledStack direction='row' alignItems={'center'}>\r\n            <Typography sx={{color: '#525F7F'}} fontSize={12}>Showing {length} of {count} entries</Typography>\r\n            <Stack direction='row' alignItems='center'>\r\n                <Select\r\n                    disabled={isLoading}\r\n                    name='pageSize'\r\n                    label=''\r\n                    value={limit}\r\n                    options={[\r\n                        {id: 5, label: 5},\r\n                        {id: 10, label: 10},\r\n                        {id: 20, label: 20},\r\n                        {id: 50, label: 50},\r\n                        {id: 100, label: 100},\r\n                    ]}\r\n                    className='pageSizeSelect'\r\n                    onChange={handlePageSize}\r\n                />\r\n                <StyledPagination\r\n                    disabled={isLoading}\r\n                    count={Math.ceil(count / limit)}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    page={page}\r\n                    size=\"medium\"\r\n                    onChange={onChange}\r\n                />\r\n            </Stack>\r\n        </StyledStack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import {\r\n    Backdrop,\r\n    Box,\r\n    Checkbox,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, TableSortLabel, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getDollarPrefixedPrice, getUserDetail} from \"../../../utils/utils\";\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}, role, handleRequestSort, hasSort}) {\r\n    const {headerCellSx = {}, hasDelete, sortField, sortOrder, showCheckbox} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true, sort = false} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>\r\n                    {(hasSort && sort)\r\n                        ? <TableSortLabel onClick={(e) => handleRequestSort(e, id)} active={id === sortField}\r\n                                     direction={sortOrder}\r\n                                     sx={{ ...headerCellSx}}>\r\n                        {label}\r\n                    </TableSortLabel>\r\n                        : label}\r\n                </Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n\r\n    if(showCheckbox){\r\n        headers.unshift(<Cell key='checkbox-header' padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}} />)\r\n    }\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          checkboxKey,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb,\r\n        showCheckbox = false,\r\n        rowCellSx={}\r\n    } = config;\r\n    const {role, onCheckboxChange, checkboxes} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <Tooltip title='Delete' placement='top'>\r\n                <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                    <DeleteIcon color={hasDeletePermission ? 'error' : 'disabled'}/>\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '--', valueFormatter, visible = true, cellPadding, isCostCell} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if(isCostCell){\r\n            cell = row[id] ? getDollarPrefixedPrice(row[id] || '') : emptyState\r\n        }\r\n        else if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id], row);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.get(row, id, emptyState) || emptyState;\r\n        }\r\n        return <Cell key={id + i} padding={cellPadding || rowCellPadding || 'normal'} sx={rowCellSx} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    if(showCheckbox){\r\n        if(!checkboxKey){\r\n            throw new Error('Checkbox key not provided');\r\n        }\r\n        const checked = checkboxes.indexOf(row[checkboxKey]) > -1;\r\n        cell.unshift(<Cell onClick={onCheckboxChange.bind(this, row)} key={`checkbox-${rowIndex}`} sx={rowCellSx}>\r\n            <Checkbox checked={checked} />\r\n        </Cell>)\r\n    }\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {...rowStyle}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching, actions, isPaginationLoading=false, ...rest}) => {\r\n    data = data || [];\r\n    const {onCheckboxChange, checkboxes, checkboxKey} = rest;\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns: _columns = [],\r\n            columnsBuilder,\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            onPageSizeChange,\r\n            onLimitChange,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n            sortField,\r\n            sortOrder = 'asc',\r\n            handleSortChange,\r\n            hasSort = false\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = typeof deletePermissions === 'boolean' ? deletePermissions : deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const columns = typeof columnsBuilder === 'function' ? columnsBuilder({data, columns: _columns}) : _columns;\r\n    const length = Array.isArray(data) && data.length,\r\n        Actions = useMemo(() => {\r\n        if(actions && React.isValidElement(actions)){\r\n            return actions;\r\n        }\r\n        return <></>\r\n    }, [actions]);\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = sortField === property && sortOrder === 'asc';\r\n        // setOrder(isAsc ? 'desc' : 'asc');\r\n        // setOrderBy(property);\r\n        handleSortChange && handleSortChange({field: property, order: isAsc ? 'desc' : 'asc'})\r\n    };\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose, {row}),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{_.isFunction(deleteMessage) ? deleteMessage({row}) : deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config} role={role} handleRequestSort={handleRequestSort} hasSort={hasSort}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    checkboxes={checkboxes}\r\n                    checkboxKey={checkboxKey}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    onCheckboxChange={onCheckboxChange}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config, checkboxes])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if((isPaginationLoading || isRefetching) && ref.current?.tableContainer){\r\n            ref.current.tableContainer.scrollTo(0, 0)\r\n        }\r\n    }, [isPaginationLoading, isRefetching])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        <Stack alignItems='flex-end' justifyContent='flex-end' direction='row' py={1} gap={.5}>\r\n            {Actions}\r\n            {showRefresh && <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>}\r\n        </Stack>\r\n        <TableContainer\r\n            component={Paper}\r\n            className='tableContainer'\r\n            ref={el => ref.current['tableContainer'] = el}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 80px)' : 'auto', position: 'relative'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n            <Backdrop\r\n                sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1, position: 'absolute' }}\r\n                open={isPaginationLoading || isRefetching || false}\r\n            >\r\n                <Spinner sx={{color: 'inherit'}} />\r\n            </Backdrop>\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit} onLimitChange={onLimitChange || onPageSizeChange} isLoading={isRefetching || isPaginationLoading} />}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\n}), 'Refresh');\nexports.default = _default;","import axios from \"axios\";\r\nimport { notification, setAlert } from \"./alert\";\r\nimport {\r\n  GET_LOADS,\r\n  GET_LOAD,\r\n  LOAD_ERROR,\r\n  ADD_LOAD,\r\n  PATCH_PICKUP,\r\n  PICKUP_ERROR,\r\n  PATCH_DROP,\r\n  DROP_ERROR,\r\n  DELETE_LOAD,\r\n  DELETE_LOAD_ERROR,\r\n  UPDATE_LOAD,\r\n  UPDATE_LOAD_ERROR,\r\n  LOAD_DOC_DELETE,\r\n  LOAD_DOC_UPLOAD,\r\n  RETURNED_SEARCHED_LOADS,\r\n  RESET_SEARCHED_LOADS,\r\n  INVOICE_CREATED,\r\n  SELECT_LOAD,\r\n  INVOICE_LOAD_FETCHED,\r\n  MERGE_LOAD_DOCS,\r\n  RESET_INVOICE_GENERATED, LOADS_FETCHING,\r\n} from \"./types\";\r\nimport {requestDelete, requestGet, requestPatch, requestPost} from \"../utils/request\";\r\n\r\n// import { proxy } from \"../../package.json\";\r\n\r\nexport const SERVER_ADDRESS = \"https://api.freightdok.io\";\r\n// Get current users loads\r\nexport const getLoads = (page = 0, limit = 100, module = \"\", search='') => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: LOADS_FETCHING,\r\n    payload: { isLoadsFetching: true },\r\n  });\r\n      try {\r\n        const { success, data } = await requestGet({\r\n          uri: `/api/load/me?page=${page + 1}&limit=${limit}&module=${module}&search=${search}`\r\n        });\r\n        dispatch({\r\n          type: LOADS_FETCHING,\r\n          payload: { isLoadsFetching: false },\r\n        });\r\n        if (success) {\r\n          dispatch({\r\n            type: GET_LOADS,\r\n            payload: { loads: data, page, limit, loading: false },\r\n          });\r\n        } else {\r\n          notification(data.message, 'error');\r\n        }\r\n      } catch (err) {\r\n        dispatch(setAlert(err.message, \"error\"));\r\n      }\r\n    };\r\nexport const deleteLoadDocument =\r\n  (load_id, doc_type, doc_name) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/remove/doc/${load_id}/${doc_type}/${doc_name}`;\r\n      await axios.delete(url);\r\n      dispatch({\r\n        type: LOAD_DOC_DELETE,\r\n        payload: { load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const uploadLoadDocument =\r\n  (load_id, doc_type, documents) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/upload/load/${load_id}/${doc_type}`;\r\n      const form = new FormData();\r\n      for (let doc of documents) form.append(doc_type, doc);\r\n      const response = await axios.patch(url, form);\r\n      const { file_data } = response.data;\r\n      dispatch({\r\n        type: LOAD_DOC_UPLOAD,\r\n        payload: { file_data, load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const generateInvoice = (load_id, data) => async (dispatch) => {\r\n  try {\r\n    await axios.post(\"/api/invoice\", {\r\n      load_id,\r\n      ...data,\r\n    });\r\n    dispatch({\r\n      type: INVOICE_CREATED,\r\n      payload: { load_id },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const searchLoads = (page = 0, limit = 15, search = \"\", module = \"\") => async (dispatch) => {\r\n  try {\r\n    const url = `/api/load/me?page=${page + 1\r\n      }&limit=15&search=${search}&module=${module}`;\r\n    const res = await axios.get(url);\r\n    dispatch({\r\n      type: RETURNED_SEARCHED_LOADS,\r\n      payload: { data: res.data, page, limit, search },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetLoadsSearch =\r\n  (listBarType = \"\") =>\r\n    async (dispatch, getState) => {\r\n      dispatch({ type: RESET_SEARCHED_LOADS });\r\n      const {\r\n        load: { page, rowsPerPage },\r\n      } = getState();\r\n      // dispatch(getLoads(+page, +rowsPerPage, listBarType));\r\n    };\r\n\r\nexport const selectLoad = (input = null) => ({\r\n  type: SELECT_LOAD,\r\n  payload: input,\r\n});\r\n\r\n// Get post\r\nexport const getLoad = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/loads/${id}`);\r\n\r\n    dispatch({\r\n      type: GET_LOAD,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addLoad = (formData, callback) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const {data, success} = await requestPost({uri: '/api/load', body: formData})\r\n    if(success){\r\n      dispatch({\r\n        type: ADD_LOAD,\r\n        payload: data,\r\n      });\r\n\r\n      notification(\"Load Created\")\r\n      if (callback) {\r\n        callback(success, data)\r\n      }\r\n    } else {\r\n      notification(data.message, 'error')\r\n    }\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n    console.log(err)\r\n  }\r\n};\r\n\r\nexport const updateLoad = (formData, module = \"\", bucketFiles = {}, callback) => async (dispatch, getState) => {\r\n  try {\r\n    const form = new FormData();\r\n    for (let key of Object.keys(formData)) {\r\n      if ([\"rateConfirmation\", \"proofDelivery\"].indexOf(key) < 0) {\r\n        const data = formData[key];\r\n        const isArray = Array.isArray(data);\r\n        const isNull = data === null;\r\n        let dataToSend = isArray && !isNull ? JSON.stringify(data) : data;\r\n        form.append(key, dataToSend);\r\n      }\r\n    }\r\n    form.append('bucketFiles', JSON.stringify(bucketFiles))\r\n    for (let key of [\"rateConfirmation\", \"proofDelivery\", \"accessorialsFiles\"]) {\r\n      const files = formData[key];\r\n      if (files) for (let file of files) form.append(key, file);\r\n    }\r\n\r\n    const { success, data } = await requestPatch({ uri: \"/api/load/modify\", body: form })\r\n    if (success) {\r\n      notification('Load Updated')\r\n      const {\r\n        load: {\r\n          rowsPerPage, page\r\n        },\r\n      } = getState();\r\n      dispatch(getLoads(page, rowsPerPage, module));\r\n    }\r\n    callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, \"error\");\r\n  }\r\n};\r\n\r\nexport const downloadDocuments = (file_name) => {\r\n  axios({\r\n    url: \"/api/load/download/\" + file_name,\r\n    method: \"GET\",\r\n    responseType: \"blob\",\r\n  }).then((res) => {\r\n    const parts = res.config.url.split(\"/\");\r\n    const name = parts[parts.length - 1];\r\n    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", name);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  });\r\n};\r\n\r\n//add pickup\r\n\r\n//patch pickup\r\nexport const patchPickup = (load_id, pickup) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(\r\n      `/api/load/pickup?load_id=${load_id}`,\r\n      pickup\r\n    );\r\n    dispatch({\r\n      type: PATCH_PICKUP,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//patch drop\r\nexport const patchDrop = (load_id, drop) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\r\n    dispatch({\r\n      type: PATCH_DROP,\r\n      payload: res.date,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n// Delete a load\r\nexport const deleteLoad = (load_id, callback) => async (dispatch) => {\r\n  try {\r\n    const { success, data } = await requestDelete({ uri: '/api/load', body: { data: { load_id: load_id } } })\r\n    notification(data.message, success ? 'success' : 'error');\r\n    if (success) {\r\n      dispatch({\r\n        type: DELETE_LOAD,\r\n        payload: load_id,\r\n      });\r\n    }\r\n    callback && callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, 'error')\r\n  }\r\n};\r\n\r\nexport const mergeDocuments = (data, headers) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api/load/invoice/merge_docs`, data, headers);\r\n    console.log(\"Response :\", res);\r\n    dispatch({\r\n      type: MERGE_LOAD_DOCS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetInvoiceGenerated = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: RESET_INVOICE_GENERATED,\r\n      payload: null,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\nexports.default = _default;","import axios from \"axios\";\r\nimport {notification, setAlert} from \"./alert\";\r\nimport { GET_DRIVERS, GET_DRIVER, ADD_DRIVER, PATCH_DRIVER, DELETE_DRIVER, DRIVER_ERROR, DELETE_DRIVER_LOAD } from \"./types.js\";\r\n\r\n//get current users drivers\r\nexport const getDrivers = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/drivers/me\");\r\n    Object.assign(res.data, {timestamp: new Date()})\r\n    dispatch({\r\n      type: GET_DRIVERS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err?.response?.statusText, status: err?.response?.status },\r\n    });\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addDriver = (formData, isEdit) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const res = await axios.post(\"/api/drivers\", formData, config);\r\n\r\n    notification(res.data.message);\r\n    dispatch(getDrivers());\r\n\r\n  } catch (err) {\r\n    let error = err.errors && Array.isArray(err.errors) && err.errors.length ? err.errors[0].msg : err.message;\r\n    dispatch(setAlert( error, \"error\"));\r\n    // dispatch({\r\n    //   type: DRIVER_ERROR,\r\n    //   payload: { msg: err.response.statusText, status: err.response.status },\r\n    // });\r\n  }\r\n};\r\n\r\n//patch driver\r\nexport const patchDriverLoads = (driver_id, loads) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.patch(`/api/drivers/loads?driver_id=${driver_id}`, { loads: loads });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: PATCH_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver\r\nexport const deleteDriver = (driver_id, cb) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/`, { data: { driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers.splice(index, 1);\r\n    }\r\n    notification('Deleted Successfully')\r\n    cb && cb(res);\r\n    dispatch({\r\n      type: DELETE_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver load\r\nexport const deleteDriverLoads = (driver_id, load_id) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/loads`, { data: { load_id: load_id, driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: DELETE_DRIVER_LOAD,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z\"\n}), 'EditOutlined');\nexports.default = _default;"],"sourceRoot":""}