{"version":3,"sources":["views/ownerOperator/FormModal.js","views/ownerOperator/OwnerOperator.js","components/Atoms/table/Pagination.jsx","components/layout/Spinner.js","components/Atoms/table/Table.jsx","hooks/useFetch.js"],"names":["formTemplate","firstName","lastName","phone","FormModal","props","history","_props$match","match","_props$match2$params","params","_props$match2$params3","id","onCloseUrl","_React$useState","React","useState","_React$useState2","_slicedToArray","form","setForm","_useState","_useState2","errors","setErrors","_useMutation","useMutation","mutation","loading","_useFetch","useFetch","isFetching","ownerOpData","data","updateForm","_ref3","name","value","_objectSpread","_defineProperty","useEffect","onBlur","_ref4","afterSubmit","_ref5","success","message","triggerCustomEvent","notification","handleClose","push","_jsxs","Dialog","fullWidth","maxWidth","open","onClose","PaperProps","sx","width","children","DialogTitle","color","blue","textAlign","fontWeight","letterSpacing","_jsx","DialogContent","Grid","container","component","noValidate","direction","rowSpacing","p","item","xs","Input","label","onChange","disabled","required","LoadingButton","type","onClick","e","preventDefault","body","_ref","validateForm","_","isEmpty","isLoading","loadingText","OwnerOperator","path","useRouteMatch","row","setRow","_useState3","_useState4","setLoading","useHistory","fetchOwnerOp","axios","get","getBaseUrl","then","r","_r$data","_r$data2$data","catch","err","console","log","addEvent","window","removeEvent","onDelete","stopPropagation","delete","_ref$data","tableConfig","rowCellPadding","emptyMessage","columns","emptyState","renderer","Fragment","_ref2","role","_Button","variant","concat","_id","mr","bind","includes","EnhancedTable","config","Route","render","StyledPagination","styled","Pagination","theme","breakpoints","down","height","StyledStack","Stack","justifyContent","TablePagination","_ref4$data","onPageChange","_ref4$page","page","_ref4$count","count","_ref4$limit","limit","length","setLength","Array","isArray","alignItems","Typography","fontSize","Math","ceil","size","pgNum","CircularIndeterminate","_Box","display","marginLeft","CircularProgress","Cell","_TableCell","padding","DeleteIcon","_Delete","Headers","_ref5$columns","_ref5$config","_config$headerCellSx","headerCellSx","hasDelete","headers","useMemo","map","column","index","_ref6","_ref6$label","_ref6$id","_ref6$visible","visible","isFunction","bgcolor","_TableRow","TableData","_ref9","_ref9$data","_ref9$config","handleRowClick","handleDelete","rest","_objectWithoutProperties","_excluded2","_config$dataKey","dataKey","_ref7","_ref7$row","_ref7$columns","_ref7$config","rowIndex","hasDeletePermission","_excluded","_config$hasDelete","_config$rowCellPaddin","_config$onRowClick","onRowClick","undefined","rowStyleCb","rowStyle","deleteCell","scope","_IconButton","cell","i","_ref8","_ref8$id","_ref8$emptyState","valueFormatter","_ref8$visible","isObject","hover","cursor","getTableCell","_ref10","_ref10$config","_ref10$data","_ref10$loading","onRefetch","isRefetching","tableState","setTableState","dialog","setDialog","_config$columns","_config$hasOnClickUrl","hasOnClickUrl","_config$size","_config$emptyMessage","onRowClickDataCallback","_config$showRefresh","showRefresh","deleteMessage","_config$deletePermiss","deletePermissions","_config$containerHeig","containerHeight","_getUserDetail$user$r","getUserDetail","user","indexOf","ref","useRef","url","title","_Grid","gap","ErrorOutlineIcon","_Typography","okText","onOk","onDialogClose","content","_DialogContentText","getTableContent","_TableHead","className","backgroundColor","borderTop","_TableBody","Date","now","style","_ref$current","current","table","calculatedHeight","offsetHeight","_Stack","_Refresh","_TableContainer","_Paper","boxShadow","mb","innerHeight","position","Spinner","getLoader","_Table","el","stickyHeader","withRouter","memo","callback","arguments","setData","_useState5","_useState6","error","setError","_useState7","_useState8","setIsRefetching","requestCall","requestGet","uri","showTriggers","result","finally","refetch"],"mappings":"0TA2BMA,EAAe,CACjBC,UAAW,GACXC,SAAU,GACVC,MAAO,IAsIIC,EAlIG,SAACC,GACf,IAAOC,EAA6DD,EAA7DC,QAAOC,EAAsDF,EAApDG,MAAoCC,QAA/B,IAAAF,EAA6B,CAAC,EAACA,GAA5BG,OAAsBC,QAAhB,IAAAF,EAAc,CAAC,EAACA,GAAbG,UAAE,IAAAD,EAAG,GAAEA,EAAcE,EAAcR,EAAdQ,WACtDC,EAAwBC,IAAMC,SAAShB,GAAaiB,EAAAC,YAAAJ,EAAA,GAA7CK,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,EAA4BL,mBAAShB,GAAasB,EAAAJ,YAAAG,EAAA,GAA3CE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,EAA4BC,YAAY,sBAAjCC,EAAQF,EAARE,SAAUC,EAAOH,EAAPG,QAAOC,EACUC,YAAS,sBAAwBlB,GAArDmB,EAAUF,EAAnBD,QACMI,GADmBH,EAAJI,MACQ,CAAC,GAA9BA,KAECC,EAAa,SAAHC,GAAuB,IAAlBC,EAAID,EAAJC,KAAMC,EAAKF,EAALE,MACvBjB,EAAOkB,wBAAC,CAAC,EAAGnB,GAAI,GAAAoB,YAAA,GAAGH,EAAOC,IAC9B,EAEAG,qBAAU,WACFR,GACAZ,EAAQY,EAEhB,GAAG,CAACA,IAEJ,IAAMS,EAAS,SAAHC,GAAuB,IAAlBN,EAAIM,EAAJN,KAAWM,EAALL,OAEfb,EAASc,wBAAC,CAAC,EAAGf,GAAM,GAAAgB,YAAA,GAAGH,EAAO,KAEtC,EAaMO,EAAc,SAAHC,GAAyB,IAApBC,EAAOD,EAAPC,QACXC,GADwBF,EAAJX,MACD,CAAC,GAApBa,QACHD,GACAE,YAAmB,kBACnBC,YAAaF,GAAW,0BACxBG,KAEAD,YAAaF,EAAS,QAE9B,EAEMG,EAAc,WAChB3C,EAAQ4C,KAAKrC,EACjB,EACA,OACIsC,eAACC,IAAM,CACHC,WAAW,EACXC,SAAU,KACVC,MAAM,EACNC,QAASP,EACT,kBAAgB,oBAChBQ,WAAY,CACRC,GAAI,CACAC,MAAO,MAEbC,SAAA,CAEFT,eAACU,IAAW,CAACjD,GAAG,oBAAoB8C,GAAI,CACpCI,MAAOC,IACPC,UAAW,SACXC,WAAY,IACZC,cAAe,GACjBN,SAAA,CACGhD,EAAK,OAAS,MAAM,qBAEzBuD,cAACC,IAAa,CAAAR,SACVT,eAACkB,IAAI,CAACC,WAAS,EAACC,UAAU,OAAOC,YAAU,EAACC,UAAU,SAASC,WAAY,EAAGC,EAAG,EAAEf,SAAA,CAC/EO,cAACE,IAAI,CAACO,MAAI,EAACC,GAAI,GAAGjB,SACdO,cAAA,OAAAP,SACIO,cAACW,IAAK,CACF1C,KAAM,YACN2C,MAAO,aACPC,SAAU9C,EACVG,MAAOlB,EAAKlB,WAAa,GACzBsB,OAAQA,EACRkB,OAAQA,EACRY,WAAS,EACT4B,SAAUlD,GAAcH,EACxBsD,UAAQ,QAIpBf,cAACE,IAAI,CAACO,MAAI,EAACC,GAAI,GAAGjB,SACdO,cAACW,IAAK,CACF1C,KAAM,WACN2C,MAAO,YACPC,SAAU9C,EACVG,MAAOlB,EAAKjB,UAAY,GACxBqB,OAAQA,EACRkB,OAAQA,EACRY,WAAS,EACT4B,SAAUlD,GAAcH,EACxBsD,UAAQ,MAGhBf,cAACE,IAAI,CAACO,MAAI,EAACC,GAAI,GAAGjB,SACdO,cAACW,IAAK,CACF1C,KAAM,QACN2C,MAAO,eACPC,SAAU9C,EACVG,MAAOlB,EAAKhB,OAAS,GACrBsC,OAAQA,EACRlB,OAAQA,EACR8B,WAAS,EACT4B,SAAUlD,GAAcH,EACxBsD,UAAQ,MAGhBf,cAACE,IAAI,CAACO,MAAI,EAACC,GAAI,GAAGjB,SACdO,cAACgB,IAAa,CACV9B,WAAS,EACT+B,KAAK,SACLC,QA7FP,SAACC,GACdA,EAAEC,iBACF,IAAMC,EAAIlD,YAAA,GAAOnB,GACXI,EAhDO,SAAHkE,GAAsC,IAAjCxF,EAASwF,EAATxF,UAAWC,EAAQuF,EAARvF,SAAUC,EAAKsF,EAALtF,MACpCoB,EAAS,CAAC,EAWd,OAVKtB,IACDsB,EAAOtB,UAAY,iCAElBC,IACDqB,EAAOrB,SAAW,gCAGjBC,IACDoB,EAAOpB,MAAQ,mCAEZoB,CACX,CAmCuBmE,CAAaF,GACxBG,IAAEC,QAAQrE,GACVI,EAAS6D,EAAM,KAAM7C,GAErBnB,EAASc,YAAC,CAAC,EAAGf,GAEtB,EAqFwBsE,UAAWjE,GAAWG,EACtB+D,YAAalE,EAAU,cAAgBG,EAAa,iBAAmB,KAAK6B,SAC/E,oBAQzB,ECzCemC,UA9GO,WACpB,IAAQC,EAASC,0BAATD,KAAI3E,EACQL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAC,GAA5B6E,EAAG5E,EAAA,GAAE6E,EAAM7E,EAAA,GAAA8E,EACYpF,oBAAS,GAAMqF,EAAAnF,YAAAkF,EAAC,GAAvCxE,EAAOyE,EAAA,GAAEC,EAAUD,EAAA,GACtB/F,EAAUiG,uBAEZ,SAASC,IACLF,GAAW,GACXG,IAAMC,IAAIC,cAAe,sBAAsBC,MAAK,SAAAC,GAChD,IAAAC,EAAiCD,EAA1B5E,KAAsB8E,QAAlB,IAAAD,EAAgB,CAAC,EAACA,GAAf7E,KACdkE,OADkB,IAAAY,EAAG,GAAEA,GAEvBT,GAAW,EACf,IACKU,OAAM,SAAAC,GACHC,QAAQC,IAAIF,EAAInE,SAChBwD,GAAW,EACf,GACR,CAEA9D,qBAAU,WAIN,OAHAgE,IACAY,YAASC,OAAQ,iBAAkBb,GAE5B,kBAAMc,YAAYD,OAAQ,iBAAkBb,EAAa,CACpE,GAAG,IAED,IAAMe,EAAW,SAAC3G,EAAI0E,GACpBA,EAAEkC,kBACFf,IAAMgB,OAAOd,cAAe,sBAAsB/F,GAC7CgG,MAAK,SAAAnB,GAAkB,IAADiC,EAAAjC,EAAfxD,YAAI,IAAAyF,EAAG,CAAC,EAACA,EACb1E,YAAaf,EAAKa,SAClB0D,GACJ,IACDQ,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAInE,QAAQ,GAC1C,EAEI6E,EAAc,CAClBC,eAAgB,UAChBC,aAAc,0BACdC,QAAS,CACP,CACElH,GAAI,YACJmE,MAAO,aACPgD,WAAY,MAEd,CACEnH,GAAI,WACJmE,MAAO,YACPgD,WAAY,MAEd,CACEnH,GAAI,OACJmE,MAAO,OACPiD,SAAU,WACR,OAAO7D,cAAC8D,WAAQ,CAAArE,SAAC,kBACnB,GAGF,CACEhD,GAAI,SACJoH,SAAU,SAAAE,GAAoB,IAAjBhC,EAAGgC,EAAHhC,IAAKiC,EAAID,EAAJC,KAChB,OACEhF,eAAC8E,WAAQ,CAAArE,SAAA,CACPO,cAAAiE,IAAA,CACEC,QAAQ,YACRhD,QAAS,SAACC,GACRA,EAAEkC,kBACFlH,EAAQ4C,KAAK8C,EAAI,SAAAsC,OAAYpC,EAAIqC,KACnC,EACA7E,GAAI,CAAC8E,GAAI,GAAG5E,SACb,WAGDO,cAAAiE,IAAA,CACIC,QAAQ,YACRvE,MAAO,QACPuB,QAASkC,EAASkB,K,UAAWvC,EAAIqC,KACjCtD,SAAU,CAAC,gBAAiB,YAAayD,SAASP,GAAMvE,SAC3D,aAKP,KAKN,OACET,eAAA,OAAAS,SAAA,CACEO,cAACwE,IAAa,CACZC,OAAQjB,EACR1F,KAAMiE,EACNtE,QAASA,IAWXuC,cAAC0E,QAAK,CAAC7C,KAAMA,EAAO,OAAQ8C,OAAQ,SAACzI,GAAK,OAAK8D,cAAC/D,EAASkC,wBAAA,GAAKjC,GAAK,IAAEQ,WAAYmF,IAAQ,IACzF7B,cAAC0E,QAAK,CAAC7C,KAAMA,EAAO,YAAa8C,OAAQ,SAACzI,GAAK,OAAK8D,cAAC/D,EAASkC,wBAAA,GAAKjC,GAAK,IAAEQ,WAAYmF,IAAQ,MAGpG,C,uTCjHM+C,EAAmBC,YAAOC,IAAPD,EAAmB,SAAAvD,GAAA,IAAEyD,EAAKzD,EAALyD,MAAK,MAAO,CACtD,4BAA2B3G,YAAA,GACtB2G,EAAMC,YAAYC,KAAK,MAAQ,CAC5BC,OAAQ,SACR1F,MAAO,SAGlB,IAEK2F,EAAcN,YAAOO,IAAPP,EAAc,SAAAd,GAAA,IAAA/F,EAAE+G,EAAKhB,EAALgB,MAAK,OAAA/G,EAAA,GAAAI,YAAAJ,EACpC+G,EAAMC,YAAYC,KAAK,MAAQ,CAC5BI,eAAgB,WACnBjH,YAAAJ,EAAC,UACO,QAAMI,YAAAJ,EAAC,iBACA,iBAAeI,YAAAJ,EAAC,WACtB,QAAMA,CAAA,IAqCLsH,EAlCS,SAAH/G,GAAmE,IAADgH,EAAAhH,EAA7DT,YAAI,IAAAyH,EAAG,GAAEA,EAAEC,EAAYjH,EAAZiH,aAAYC,EAAAlH,EAAEmH,YAAI,IAAAD,EAAG,EAACA,EAAAE,EAAApH,EAAEqH,aAAK,IAAAD,EAAG,EAACA,EAAAE,EAAAtH,EAAEuH,aAAK,IAAAD,EAAG,EAACA,EAC7E3I,EAA4BL,mBAAS,GAAEM,EAAAJ,YAAAG,EAAA,GAAhC6I,EAAM5I,EAAA,GAAE6I,EAAS7I,EAAA,GAExBkB,qBAAU,WACF4H,MAAMC,QAAQpI,IACdkI,EAAUlI,EAAKiI,OAEvB,GAAG,CAACjI,IAQJ,OAAIiI,EAAS,IAAMH,EAAQ,GAChB,KAGP5G,eAACmG,EAAW,CAAC7E,UAAU,MAAM6F,WAAY,SAAS1G,SAAA,CAC7CmG,EAAQ,IACT5G,eAACoH,IAAU,CAAC7G,GAAI,CAACI,MAAO,WAAY0G,SAAU,GAAG5G,SAAA,CAAC,WAAS3B,EAAKiI,OAAO,OAAKH,EAAM,cACjF9H,EAAKiI,SAAWH,GAAS5F,cAAC4E,EAAgB,CACvCgB,MAAOU,KAAKC,KAAKX,EAAQE,GACzBnG,MAAM,UACNuE,QAAQ,YACRwB,KAAMA,EAAO,EACbc,KAAK,SACL3F,SAnBK,SAACM,EAAGsF,GACbjB,GACAA,EAAarE,EAAGsF,EAExB,MAmBJ,E,SCnDe,SAASC,IACtB,OACE1G,cAAA2G,IAAA,CAAKpH,GAAI,CACP2F,OAAQ,OACR0B,QAAS,OACTvB,eAAgB,SAChBc,WAAY,SACZ,YAAa,CACXU,WAAY,IAEdpH,SACAO,cAAC8G,IAAgB,KAGvB,C,iLCMMC,EAAOlC,YAAMmC,IAANnC,EAAkB,SAAAvD,GAAA,IAAEyD,EAAKzD,EAALyD,MAAK,OAAA3G,YAAA,GACjC2G,EAAMC,YAAYC,KAAK,MAAQ,CAC5BoB,SAAU,GACVY,QAAS,SACZ,IAECC,EAAarC,YAAMsC,IAANtC,EAAe,SAAA7G,GAAA,IAAE+G,EAAK/G,EAAL+G,MAAK,OAAA3G,YAAA,GACpC2G,EAAMC,YAAYC,KAAK,MAAQ,CAC5BoB,SAAU,IACb,IAGL,SAASe,EAAO3I,GAA+B,IAAD4I,EAAA5I,EAA5BkF,eAAO,IAAA0D,EAAG,GAAEA,EAAAC,EAAA7I,EAAEgG,cAAM,IAAA6C,EAAG,CAAC,EAACA,EACvCC,EAAuC9C,EAAhC+C,oBAAY,IAAAD,EAAG,CAAC,EAACA,EAAEE,EAAahD,EAAbgD,UACpBC,EAAUC,mBAAQ,WACpB,OAAOhE,EAAQiE,KAAI,SAACC,EAAQC,GACxB,IAAAC,EAA8CF,GAAU,CAAC,EAACG,EAAAD,EAAnDnH,aAAK,IAAAoH,EAAG,GAAEA,EAAAC,EAAAF,EAAEtL,UAAE,IAAAwL,EAAG,GAAEA,EAAAC,EAAAH,EAAEI,eAAO,IAAAD,GAAOA,EAG1C,OADkB1G,IAAE4G,WAAWD,GAAWA,EAAQ,CAACN,WAAWM,GAK1DnI,cAAC+G,EAAI,CAACE,QAAS,SAAU1H,GAAEpB,YAAA,CAAGwB,MAAO,OAAQ0I,QAAS,UAAWvI,WAAY,KAAQ0H,GAAc/H,SAC1EmB,GAAdnE,GAAMqL,GAJV,IAMf,GACJ,GAAG,CAACnE,EAAS6D,IACb,OAAOxI,eAAAsJ,IAAA,CAAA7I,SAAA,CACFiI,EACAD,GAAazH,cAAC+G,EAAI,CAACE,QAAS,OAAQ1H,GAAEpB,YAAA,GAAMqJ,OAErD,CAEA,IAyDMe,EAAY,SAAHC,GAAkF,IAA7E7E,EAAO6E,EAAP7E,QAAO8E,EAAAD,EAAE1K,YAAI,IAAA2K,EAAG,GAAEA,EAAAC,EAAAF,EAAE/D,cAAM,IAAAiE,EAAG,CAAC,EAACA,EAAEC,EAAcH,EAAdG,eAAgBC,EAAYJ,EAAZI,aAAiBC,EAAIC,YAAAN,EAAAO,GAEtF,OAAQjL,GAAQ,IAAI8J,KAAI,SAAC7F,EAAK+F,GAC1B,IAAAkB,EAAuBvE,EAAhBwE,eAAO,IAAAD,EAAG,GAAEA,EAInB,OAHIC,IACAlH,EAAMA,EAAIkH,IA9DD,SAAHC,GASW,IAADC,EAAAD,EARFnH,WAAG,IAAAoH,EAAG,GAAEA,EAAAC,EAAAF,EACRvF,eAAO,IAAAyF,EAAG,CAAC,EAACA,EAAAC,EAAAH,EACZzE,cAAM,IAAA4E,EAAG,CAAC,EAACA,EACXV,EAAcO,EAAdP,eACAW,EAAQJ,EAARI,SACAV,EAAYM,EAAZN,aACAW,EAAmBL,EAAnBK,oBACGV,EAAIC,YAAAI,EAAAM,GAE7BC,EAKIhF,EAJAgD,iBAAS,IAAAgC,GAAQA,EAAAC,EAIjBjF,EAHAhB,sBAAc,IAAAiG,EAAG,OAAMA,EAAAC,EAGvBlF,EAFAmF,kBAAU,IAAAD,OAAGE,EAASF,EACtBG,EACArF,EADAqF,WAEG9F,EAAQ6E,EAAR7E,KACH+F,EAAW,CAAC,EACZD,IACAC,EAAWD,EAAW,CAAC/H,SAAS,CAAC,GAErC,IAIIiI,EAAahK,cAAC+G,EAAI,CAACxH,GAAI,CAAC,EAAG0H,QAAS,OAAQ7G,UAAU,KAAK6J,MAAM,MAAKxK,SAClEO,cAAAkK,IAAA,CAAYhJ,QAAS0H,EAAatE,U,EAAWvC,EAAIqC,IAAKrC,GAAMjB,UAAWyI,EAAoB9J,SACvFO,cAACkH,EAAU,CAACvH,MAAO,cAIzBwK,EAAOxG,EAAQiE,KAAI,SAACC,EAAQuC,GAC9B,IAKID,EALJE,EAA6ExC,GAAU,CAAC,EAACyC,EAAAD,EAAlF5N,UAAE,IAAA6N,EAAG,GAAEA,EAAEzG,EAAQwG,EAARxG,SAAQ0G,EAAAF,EAAEzG,kBAAU,IAAA2G,EAAG,GAAEA,EAAEC,EAAcH,EAAdG,eAAcC,EAAAJ,EAAElC,eAAO,IAAAsC,GAAOA,EAEzE,OADkBjJ,IAAE4G,WAAWD,GAAWA,EAAQ,CAACN,WAAWM,IAM1DgC,EADAK,GAAkBhJ,IAAE4G,WAAWoC,GACxBA,EAAezI,EAAItF,IACnB+E,IAAE4G,WAAWvE,GACbA,EAAS,CAAC9B,MAAKiC,QAAOsF,IAAa1F,EAEnCpC,IAAEkJ,SAAS3I,GAAOP,IAAEe,IAAIR,EAAKtF,EAAImH,GAAe7B,EAAItF,IAAOmH,EAE/D5D,cAAC+G,EAAI,CAAcE,QAASxD,GAAkB,SAAUrD,UAAU,KAAK6J,MAAM,MAAKxK,SACpF0K,GADa1N,EAAK2N,IAVZ,IAaf,IAEA,OAAOpL,eAAAsJ,IAAA,CAAyBqC,QAASf,EAAY1I,QA7B7B,SAACC,GACjBA,EAAEC,iBACEI,IAAE4G,WAAWO,IAAiBA,EAAe5G,EACrD,EA2BaxC,GAAMqK,EAAUzL,YAAA,CAAIyM,OAAQ,WAAcb,GAAY,CAAC,EAAEtK,SAAA,CACrE0K,EACA1C,GAAauC,IAHIV,EAK1B,CASeuB,CAAY1M,YAAC,CAAC4D,MAAK4B,UAASc,SAAQkE,iBAAgBW,SAAUxB,EAAOc,gBAAiBC,GACjG,GACJ,EAGMrE,EAAgB,SAAHsG,GAAqF,IAADC,EAAAD,EAA/ErG,cAAM,IAAAsG,EAAG,CAAC,EAACA,EAAAC,EAAAF,EAAEhN,YAAI,IAAAkN,EAAG,GAAEA,EAAE7O,EAAO2O,EAAP3O,QAAO8O,EAAAH,EAAErN,eAAO,IAAAwN,GAAQA,EAAEC,EAASJ,EAATI,UAAWC,EAAYL,EAAZK,aACjFrN,EAAOA,GAAQ,GACf,IAAAZ,EAAoCL,mBAAS,CAAC,GAAEM,EAAAJ,YAAAG,EAAC,GAA1CkO,EAAUjO,EAAA,GAAEkO,EAAalO,EAAA,GAAA8E,EACNpF,mBAAS,CAACuC,MAAM,EAAOqF,OAAQ,CAAC,IAAGvC,EAAAnF,YAAAkF,EAAC,GAAzDqJ,EAAMpJ,EAAA,GAAEqJ,EAASrJ,EAAA,GAAAsJ,EAiBd/G,EAfAd,eAAO,IAAA6H,EAAG,GAAEA,EACZ5B,EAcAnF,EAdAmF,WAAU6B,EAcVhH,EAbAiH,qBAAa,IAAAD,GAAOA,EACpBjG,EAYAf,EAZAe,aACAE,EAWAjB,EAXAiB,KACAE,EAUAnB,EAVAmB,MACAE,EASArB,EATAqB,MAAK6F,EASLlH,EARA+B,YAAI,IAAAmF,EAAG,SAAQA,EAAAC,EAQfnH,EAPAf,qBAAY,IAAAkI,EAAG,GAAEA,EACjBC,GAMApH,EANAoH,uBAAsBC,GAMtBrH,EALAsH,oBAAW,IAAAD,IAAQA,GACnB1I,GAIAqB,EAJArB,SACA4I,GAGAvH,EAHAuH,cAAaC,GAGbxH,EAFAyH,0BAAiB,IAAAD,GAAG,GAAEA,GAAAE,GAEtB1H,EADA2H,wBAAe,IAAAD,GAAC,GAAEA,GAAAE,GAERC,cAAgBC,KAA7BvI,aAAI,IAAAqI,GAAG,GAAEA,GACV9C,GAAsB2C,GAAkBM,QAAQxI,KAAS,IAAK,EAC9DyI,GAAM7P,IAAM8P,OAAO,IACjB3G,GAASE,MAAMC,QAAQpI,IAASA,EAAKiI,OAErC4C,GAAiB,SAAC5G,GACpB,GAAI2J,GAAiB9B,EAAY,CAC7B,IAAM+C,EAAM/C,EAAW7H,GACnB8J,KACA9J,EAAM8J,GAAuB9J,IAEjC5F,EAAQ4C,KAAK4N,EAAK5K,EACtB,MAAW6H,GACPA,EAAW7H,EAEnB,EAEM6G,GAAe,SAACnM,EAAIsF,EAAKZ,GAC3BA,EAAEkC,kBACF,IAAMoB,EAAS,CACXmI,MAAO,kBAAM5N,eAAA6N,IAAA,CAAM1M,WAAS,EAACgG,WAAW,SAAS5G,GAAI,CAACiB,EAAG,aAAcsM,IAAK,EAAErN,SAAA,CAC1EO,cAAC+M,IAAgB,CAACpN,MAAM,UACxBK,cAAAgN,IAAA,CAAYzN,GAAI,CAAC8G,SAAU,UAAWvG,WAAY,KAAMH,MAAM,QAAOF,SAAC,aACnE,EACPwN,OAAQ,SACRC,KAAM,kBAAM9J,GAAS3G,EAAI0Q,GAAc,EACvCC,QAAS,kBAAMpN,cAAAqN,IAAA,CACX9N,GAAI,CAACI,MAAO,QAAQF,SAAEuM,IAAiB,+CAAkE,GAEjHT,EAASpN,wBAAC,CAAC,EAAGmN,GAAM,IAAElM,MAAM,EAAMqF,WACtC,EAEA,SAAS0I,KACL5B,EAASpN,wBAAC,CAAC,EAAGmN,GAAM,IAAElM,MAAM,IAChC,CAEA,IASMkO,GAAkB3F,mBAAQ,WAC5B,OAAK5B,GAOE/G,eAAC8E,WAAQ,CAAArE,SAAA,CACZO,cAAAuN,IAAA,CAAWC,UAAW,GAAIjO,GAAI,CAACkO,gBAAiB,UAAWC,UAAW,oCAAoCjO,SACtGO,cAACoH,EAAO,CAACzD,QAASA,EAASc,OAAQA,MAEvCzE,cAAA2N,IAAA,CAAAlO,SACIO,cAACuI,EAAS,CACNvE,KAAMA,GAENL,QAASA,EACT7F,KAAMA,EACN2G,OAAQA,EACRkE,eAAgBA,GAChBC,aAAcA,GACdW,oBAAqBA,IANhBqE,KAAKC,YAbV7N,cAAA,SAAO8N,MAAO,CAAC5I,OAAQ,KAAKzF,SACpCO,cAAA,MAAAP,SACIO,cAAA,MAAI8N,MAAO,CAACjO,UAAW,UAAUJ,SAACO,cAAA,MAAAP,SAAKiE,IAAgB,0BAqBnE,GAAG,CAAC5F,EAAM2G,IASV,OAPApG,qBAAU,WAAO,IAAD0P,EACZ,GAAO,OAAHtB,SAAG,IAAHA,IAAY,QAATsB,EAAHtB,GAAKuB,eAAO,IAAAD,GAAZA,EAAcE,MAAO,CACrB,IAAMC,EAAmBzB,GAAIuB,QAAQC,MAAME,aAC3C9C,EAAalN,wBAAC,CAAC,EAAGiN,GAAU,IAAElG,OAAQgJ,EAAmB,IAAMA,OAAmBrE,IACtF,CACJ,GAAG,IAEI7K,eAAA2H,IAAA,CAAK6G,UAAU,iBAAiBjO,GAAI,CAAC2F,OAAQa,KAAWtI,EAAW2O,IAAmB,MAAS,QAAQ3M,SAAA,CACzGsM,IAAe/L,cAAAoO,IAAA,CAAOjI,WAAW,WAAU1G,SACxCO,cAAAkK,IAAA,CAAY0C,MAAM,UAAU1L,QAASgK,EAAUzL,SAC3CO,cAAAqO,IAAA,CAASb,UAAYrC,EAAgB,kBAAetB,QAG5D7J,cAAAsO,IAAA,CACIlO,UAASmO,IACTf,UAAW,GACXjO,GAAI,CAACiP,UAAW,yBAA0BC,GAAI,EAAGvJ,OAAQa,KAAWtI,EAAU,oBAAsB,QAAQgC,SAE3GhC,EAtDS,WACd,IAAMiR,EAAcxL,OAAOwL,YAAc,IACrCxJ,GAAUkG,EAAWlG,OAASkG,EAAWlG,OAASwJ,EAAcA,EAActD,EAAWlG,OAASwJ,IAAgBA,EACtH,OAAO1O,cAAA6M,IAAA,CAAM1M,WAAS,EAACgG,WAAY,SAAUd,eAAe,SAAS9F,GAAI,CAAC2F,UAAQzF,SAC9EO,cAAA6M,IAAA,CAAMpM,MAAI,EAAC0F,WAAW,SAAS5G,GAAI,CAACoP,SAAU,YAAYlP,SACtDO,cAAC4O,EAAO,OAGpB,CA+CcC,GACA7O,cAAA8O,IAAA,CAAOrC,IAAK,SAAAsC,GAAE,OAAItC,GAAIuB,QAAe,MAAIe,CAAE,EAAE,aAAW,gBAAgBvI,KAAMA,EAAMwI,cAAY,EAAAvP,SAC7F6N,QAGX7P,GAAWK,EAAKiI,OAAS,GACvB/F,cAACsF,EAAe,CAACxH,KAAMA,EAAM0H,aAAcA,EAAcE,KAAMA,EAAME,MAAOA,EAAOE,MAAOA,IAC9F9F,cAACf,IAAM,CAACuO,UAAU,uBAAuBpO,KAAMkM,EAAOlM,KAAMqF,OAAQ6G,EAAO7G,OAAQpF,QAAS8N,OAEpG,EAEe8B,yBAAWC,eAAK1K,G,8DCtNhB7G,IAlCE,SAACgP,GAA0B,IAArBwC,EAAQC,UAAArJ,OAAA,QAAA8D,IAAAuF,UAAA,GAAAA,UAAA,GAAG,KAC9BlS,EAAwBL,mBAAS,MAAKM,EAAAJ,YAAAG,EAAA,GAA/BY,EAAIX,EAAA,GAAEkS,EAAOlS,EAAA,GACpB8E,EAA8BpF,oBAAS,GAAMqF,EAAAnF,YAAAkF,EAAA,GAAtCxE,EAAOyE,EAAA,GAAEC,EAAUD,EAAA,GAC1BoN,EAA0BzS,mBAAS,MAAK0S,EAAAxS,YAAAuS,EAAC,GAAlCE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAAAG,EACgB7S,oBAAS,GAAM8S,EAAA5S,YAAA2S,EAAA,GAAhDvE,EAAYwE,EAAA,GAAEC,EAAeD,EAAA,GAGlC,SAASE,IACLC,YAAW,CAACC,IAAKpD,EAAKwC,WAAUa,cAAc,IACzCvN,MAAK,SAAAwN,GACFA,EAAOnS,MAAQuR,EAAQY,EAAOnS,KAClC,IACCoS,SAAQ,WACL/N,GAAW,GACXyN,GAAgB,EACpB,GACR,CAeA,OARAvR,qBAAU,WACN8D,GAAW,GACXkN,EAAQ,MACRI,EAAS,MACTI,GAEJ,GAAG,CAAClD,IAEG,CAAC7O,OAAML,UAAS+R,QAAOW,QAb9B,WACIP,GAAgB,GAChBC,GACJ,EAUkD1E,eACtD,C","file":"static/js/21.1b05aad5.chunk.js","sourcesContent":["import DialogTitle from \"@mui/material/DialogTitle\";\r\nimport _ from 'lodash';\r\nimport {blue} from \"../../components/layout/ui/Theme\";\r\nimport Grid from '@mui/material/Grid'\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {notification} from \"../../actions/alert\";\r\nimport {triggerCustomEvent} from \"../../utils/utils\";\r\nimport useMutation from \"../../hooks/useMutation\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport {Input, LoadingButton} from \"../../components/Atoms\";\r\n\r\nconst validateForm = ({firstName, lastName, phone}) => {\r\n    let errors = {}\r\n    if (!firstName) {\r\n        errors.firstName = 'Please provide the First Name'\r\n    }\r\n    if (!lastName) {\r\n        errors.lastName = 'Please provide the Last Name'\r\n        // return [false, 'Please provide the Last Name', 'lastName']\r\n    }\r\n    if (!phone) {\r\n        errors.phone = 'Please provide the Phone Number'\r\n    }\r\n    return errors\r\n}\r\nconst formTemplate = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    phone: \"\",\r\n}\r\n\r\n\r\nconst FormModal = (props) => {\r\n    const {history, match: {params: {id = ''} = {}} = {}, onCloseUrl} = props;\r\n    const [form, setForm] = React.useState(formTemplate);\r\n    const [errors, setErrors] = useState(formTemplate);\r\n    const {mutation, loading} = useMutation(\"/api/ownerOperator\"),\r\n        {loading: isFetching, data} = useFetch(\"/api/ownerOperator/\" + id),\r\n        {data: ownerOpData} = data || {};\r\n\r\n    const updateForm = ({name, value}) => {\r\n        setForm({...form, [name]: value});\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (ownerOpData) {\r\n            setForm(ownerOpData);\r\n        }\r\n    }, [ownerOpData])\r\n\r\n    const onBlur = ({name, value}) => {\r\n        if (value) {\r\n            setErrors({...errors, [name]: ''});\r\n        }\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const body = {...form};\r\n        const errors = validateForm(body);\r\n        if (_.isEmpty(errors)) {\r\n            mutation(body, null, afterSubmit);\r\n        } else {\r\n            setErrors({...errors})\r\n        }\r\n    };\r\n\r\n    const afterSubmit = ({success, data}) => {\r\n        const {message} = data || {};\r\n        if (success) {\r\n            triggerCustomEvent('refreshOwnerOp');\r\n            notification(message || 'Owner operator created');\r\n            handleClose();\r\n        } else {\r\n            notification(message, 'error');\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        history.push(onCloseUrl);\r\n    }\r\n    return (\r\n        <Dialog\r\n            fullWidth={false}\r\n            maxWidth={\"md\"}\r\n            open={true}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n            PaperProps={{\r\n                sx: {\r\n                    width: 400\r\n                }\r\n            }}\r\n        >\r\n            <DialogTitle id=\"form-dialog-title\" sx={{\r\n                color: blue,\r\n                textAlign: 'center',\r\n                fontWeight: 400,\r\n                letterSpacing: 1\r\n            }}>\r\n                {id ? \"Edit\" : 'Add'} Owner Operator\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <Grid container component='form' noValidate direction='column' rowSpacing={3} p={1}>\r\n                    <Grid item xs={12}>\r\n                        <div>\r\n                            <Input\r\n                                name={\"firstName\"}\r\n                                label={\"First Name\"}\r\n                                onChange={updateForm}\r\n                                value={form.firstName || ''}\r\n                                errors={errors}\r\n                                onBlur={onBlur}\r\n                                fullWidth\r\n                                disabled={isFetching || loading}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Input\r\n                            name={\"lastName\"}\r\n                            label={\"Last Name\"}\r\n                            onChange={updateForm}\r\n                            value={form.lastName || ''}\r\n                            errors={errors}\r\n                            onBlur={onBlur}\r\n                            fullWidth\r\n                            disabled={isFetching || loading}\r\n                            required\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Input\r\n                            name={\"phone\"}\r\n                            label={\"Phone Number\"}\r\n                            onChange={updateForm}\r\n                            value={form.phone || ''}\r\n                            onBlur={onBlur}\r\n                            errors={errors}\r\n                            fullWidth\r\n                            disabled={isFetching || loading}\r\n                            required\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <LoadingButton\r\n                            fullWidth\r\n                            type=\"submit\"\r\n                            onClick={onSubmit}\r\n                            isLoading={loading || isFetching}\r\n                            loadingText={loading ? 'Updating...' : isFetching ? 'Please wait...' : null}\r\n                        >\r\n                            Update\r\n                        </LoadingButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default FormModal","import React, {Fragment, useEffect, useState} from \"react\";\r\nimport {Button} from \"@mui/material\";\r\nimport {Route, useHistory, useRouteMatch} from \"react-router-dom\";\r\nimport EnhancedTable from \"../../components/Atoms/table/Table\";\r\nimport axios from \"axios\";\r\nimport {getBaseUrl} from \"../../config\";\r\nimport FormModal from \"./FormModal\";\r\nimport {notification} from \"../../actions/alert\";\r\nimport {addEvent, removeEvent} from \"../../utils/utils\";\r\n\r\n\r\nconst OwnerOperator = () => {\r\n  const { path } = useRouteMatch(),\r\n      [row, setRow] = useState([]),\r\n      [loading, setLoading] = useState(false),\r\n    history = useHistory();\r\n\r\n  function fetchOwnerOp() {\r\n      setLoading(true);\r\n      axios.get(getBaseUrl() + '/api/ownerOperator').then(r => {\r\n          const {data: {data = []} = {}} = r;\r\n          setRow(data);\r\n          setLoading(false);\r\n      })\r\n          .catch(err => {\r\n              console.log(err.message)\r\n              setLoading(false);\r\n          })\r\n  }\r\n\r\n  useEffect(() => {\r\n      fetchOwnerOp();\r\n      addEvent(window, 'refreshOwnerOp', fetchOwnerOp)\r\n\r\n      return () => removeEvent(window, 'refreshOwnerOp', fetchOwnerOp)\r\n  }, [])\r\n\r\n    const onDelete = (id, e) => {\r\n      e.stopPropagation();\r\n      axios.delete(getBaseUrl() + \"/api/ownerOperator/\"+id)\r\n          .then(({data = {}}) => {\r\n              notification(data.message)\r\n              fetchOwnerOp()\r\n          })\r\n        .catch(err => console.log(err.message))\r\n    }\r\n\r\n  const tableConfig = {\r\n    rowCellPadding: \"inherit\",\r\n    emptyMessage: \"No Owner Operator Found\",\r\n    columns: [\r\n      {\r\n        id: \"firstName\",\r\n        label: \"First Name\",\r\n        emptyState: '--',\r\n      },\r\n      {\r\n        id: \"lastName\",\r\n        label: \"Last Name\",\r\n        emptyState: '--',\r\n      },\r\n      {\r\n        id: \"role\",\r\n        label: \"Role\",\r\n        renderer: () => {\r\n          return <Fragment>Owner Operator</Fragment>;\r\n        },\r\n      },\r\n\r\n      {\r\n        id: \"update\",\r\n        renderer: ({ row, role }) => {\r\n          return (\r\n            <Fragment>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  history.push(path + `/edit/${row._id}`);\r\n                }}\r\n                sx={{mr: 1}}\r\n              >\r\n                Update\r\n              </Button>\r\n              <Button\r\n                  variant=\"contained\"\r\n                  color={'error'}\r\n                  onClick={onDelete.bind(this, row._id)}\r\n                  disabled={['ownerOperator', 'dispatch',].includes(role)}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </Fragment>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <EnhancedTable\r\n        config={tableConfig}\r\n        data={row}\r\n        loading={loading}\r\n      />\r\n        {/*<Button*/}\r\n        {/*    variant='contained'*/}\r\n        {/*    component={Link}*/}\r\n        {/*    to={path + '/add'}*/}\r\n        {/*    className={'addNewOwnerOp'}*/}\r\n        {/*    sx={{position: 'absolute', right: 10}}*/}\r\n        {/*>*/}\r\n        {/*    Add Owner Operator*/}\r\n        {/*</Button>*/}\r\n      <Route path={path + \"/add\"} render={(props) => <FormModal {...props} onCloseUrl={path} />} />\r\n      <Route path={path + \"/edit/:id\"} render={(props) => <FormModal {...props} onCloseUrl={path} />} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OwnerOperator;\r\n","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport styled from \"@mui/material/styles/styled\";\r\n\r\nconst StyledPagination = styled(Pagination)(({theme}) => ({\r\n    \"& .MuiPaginationItem-root\": {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            height: \"1.8rem\",\r\n            width: \"1rem\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst StyledStack = styled(Stack)(({theme}) => ({\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        justifyContent: 'center'\r\n    },\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexWrap: 'wrap'\r\n}))\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 0, count = 0, limit = 1}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (onPageChange) {\r\n            onPageChange(e, pgNum)\r\n        }\r\n    }\r\n\r\n    if (length < 10 && count < 10) {\r\n        return null;\r\n    }\r\n    return (\r\n        <StyledStack direction='row' alignItems={'center'}>\r\n            {count > 10 &&\r\n            <Typography sx={{color: '#525F7F'}} fontSize={12}>Showing {data.length} of {count} entries</Typography>}\r\n            {data.length !== count && <StyledPagination\r\n                count={Math.ceil(count / limit)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                page={page + 1}\r\n                size=\"medium\"\r\n                onChange={onChange}\r\n            />}\r\n        </StyledStack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport {Box} from \"@mui/material\";\r\n\r\n\r\nexport default function CircularIndeterminate() {\r\n  return (\r\n    <Box sx={{\r\n      height: '100%',\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      '& > * + *': {\r\n        marginLeft: 2,\r\n      },\r\n    }}>\r\n      <CircularProgress />\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n    Box,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getUserDetail} from \"../../../utils/utils\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}}) {\r\n    const {headerCellSx = {}, hasDelete} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>{label}</Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb\r\n    } = config;\r\n    const {role} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                <DeleteIcon color={'error'}/>\r\n            </IconButton>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '', valueFormatter, visible = true} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id]);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.isObject(row) ? _.get(row, id, emptyState) : (row[id] || emptyState);\r\n        }\r\n        return <Cell key={id + i} padding={rowCellPadding || 'normal'} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching}) => {\r\n    data = data || [];\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns = [],\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const length = Array.isArray(data) && data.length;\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    key={Date.now()}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        {showRefresh && <Stack alignItems='flex-end'>\r\n            <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>\r\n        </Stack>}\r\n        <TableContainer\r\n            component={Paper}\r\n            className={''}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 64px)' : 'auto'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit}/>}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","import {useEffect, useState} from \"react\";\r\nimport {requestGet} from \"../utils/request\";\r\n\r\nconst useFetch = (url, callback = null) => {\r\n    const [data, setData] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null),\r\n        [isRefetching, setIsRefetching] = useState(false);\r\n\r\n\r\n    function requestCall() {\r\n        requestGet({uri: url, callback, showTriggers: false })\r\n            .then(result => {\r\n                result.data && setData(result.data);\r\n            })\r\n            .finally(() => {\r\n                setLoading(false);\r\n                setIsRefetching(false);\r\n            })\r\n    }\r\n\r\n    function onRefetch() {\r\n        setIsRefetching(true);\r\n        requestCall();\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        setData(null);\r\n        setError(null);\r\n        requestCall();\r\n\r\n    }, [url])\r\n\r\n    return {data, loading, error, refetch: onRefetch, isRefetching}\r\n}\r\n\r\nexport default useFetch;"],"sourceRoot":""}