(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[7],{1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1049),i=n(13),r=n(4),o=n(10),c=n(1),s=n(61),l=n.n(s),u=n(15),d=n(529),b=n(525),p=n(530),j=n(213),f=n(143),O=n.n(f),h=n(58),m=n(2),v=["children","onClose","showClose"],g=Object(u.a)(d.a)((function(e){var t=e.theme;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),x=function(e){var t=e.children,n=e.onClose,a=e.showClose,i=Object(o.a)(e,v);return Object(m.jsxs)(b.a,Object(r.a)(Object(r.a)({sx:{m:0,p:2,textAlign:"center"}},i),{},{children:[a?Object(m.jsx)(j.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(m.jsx)(O.a,{})}):null,t]}))};function y(e){var t=e.config,n=void 0===t?{}:t,o=e.children,s=n.title,u=void 0===s?"":s,d=n.closeUrl,b=void 0===d?"":d,j=(n.okButtonText,n.showClose),f=void 0===j||j,O=n.onOk,v=(void 0===O&&l.a.noop(),n.paperProps),y=void 0===v?{}:v,C=n.maxWidth,w=void 0===C?"xl":C,E=c.useState(!1),I=Object(i.a)(E,2),L=I[0],P=I[1],S=function(){P(!1)};c.useEffect((function(){P(!0)}),[]);var k=Object(c.useMemo)((function(){return c.forwardRef((function(e,t){var n=Object(h.useHistory)();return Object(m.jsx)(a.a,Object(r.a)(Object(r.a)({ref:t},e),{},{onExited:function(){return n.push(b||"/dashboard")}}))}))}),[]);return Object(m.jsxs)(g,{onClose:S,"aria-labelledby":"customized-dialog-title",open:L,maxWidth:w,TransitionComponent:k,PaperProps:y,children:[u&&Object(m.jsx)(x,{id:"customized-dialog-title",onClose:S,showClose:f,children:u}),Object(m.jsx)(p.a,{dividers:!0,sx:{borderTop:"none"},children:o})]})}},1049:function(e,t,n){"use strict";var a=n(3),i=n(11),r=n(1),o=n(210),c=n(80),s=n(102),l=n(55),u=n(2),d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},p=r.forwardRef((function(e,t){var n=Object(c.a)(),p={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},j=e.addEndListener,f=e.appear,O=void 0===f||f,h=e.children,m=e.easing,v=e.in,g=e.onEnter,x=e.onEntered,y=e.onEntering,C=e.onExit,w=e.onExited,E=e.onExiting,I=e.style,L=e.timeout,P=void 0===L?p:L,S=e.TransitionComponent,k=void 0===S?o.a:S,H=Object(i.a)(e,d),U=r.useRef(null),A=Object(l.a)(U,h.ref,t),R=function(e){return function(t){if(e){var n=U.current;void 0===t?e(n):e(n,t)}}},T=R(y),M=R((function(e,t){Object(s.b)(e);var a=Object(s.a)({style:I,timeout:P,easing:m},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),g&&g(e,t)})),N=R(x),D=R(E),F=R((function(e){var t=Object(s.a)({style:I,timeout:P,easing:m},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),C&&C(e)})),W=R(w);return Object(u.jsx)(k,Object(a.a)({appear:O,in:v,nodeRef:U,onEnter:M,onEntered:N,onEntering:T,onExit:F,onExited:W,onExiting:D,addEndListener:function(e){j&&j(U.current,e)},timeout:P},H,{children:function(e,t){return r.cloneElement(h,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||v?void 0:"hidden"},b[e],I,h.props.style),ref:A},t))}}))}));t.a=p},1074:function(e,t,n){"use strict";var a=n(12);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(79)),r=n(2),o=(0,i.default)((0,r.jsx)("path",{d:"M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z"}),"Attachment");t.default=o},1120:function(e,t,n){"use strict";n.r(t);var a=n(160),i=n(45),r=(n(213),n(1)),o=n(358),c=n(32),s=n(16),l=n(28),u=n(67),d=n(14),b=function(){return function(){var e=Object(l.a)(Object(s.a)().mark((function e(t){var n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:d.m,payload:{loading:!0,data:{}}}),e.prev=1,e.next=4,Object(u.b)({uri:"/api/fmcsa"});case 4:n=e.sent,a=n.data,t({type:d.m,payload:{loading:!1,data:a.data}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),t({type:d.m,payload:{loading:!1,data:{}}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},p=n(58),j=n(40),f=n(50),O=n(177),h=n(41),m=n(138),v=n(190),g=n(5),x=n(4),y=n(13),C=n(1043),w=n(1030),E=n(27),I=n(2),L=function(e){var t=e.onCloseUrl,n=Object(r.useState)({}),o=Object(y.a)(n,2),d=o[0],j=o[1],C=Object(p.useHistory)(),L=Object(r.useState)(!1),P=Object(y.a)(L,2),S=P[0],k=P[1],H=(Object(f.d)().user||{}).id,U=Object(c.d)();Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(s.a)().mark((function e(){var t,n,a,i,r,o,c,l,d,b;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.b)({uri:"/api/fmcsa/"+H});case 2:t=e.sent,n=t.success,a=t.data,n&&(i=a.data,o=(r=void 0===i?{}:i).autoLiabilityInsurance,c=r.generalLiabilityInsurance,l=r.cargoLiabilityInsurance,d=r.email,b=r.phone,j({autoLiabilityInsurance:o?o.url:"",generalLiabilityInsurance:c?c.url:"",cargoLiabilityInsurance:l?l.url:"",email:d,phone:b}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var A=function(e){var t=e.target,n=t.name,a=t.files;j((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(g.a)({},n,a||null))}))},R=function(e){var t=e.target,n=t.name,a=t.value;j(Object(x.a)(Object(x.a)({},d),{},Object(g.a)({},n,a)))};return Object(I.jsx)(O.a,{component:"form",noValidate:!0,sx:{minWidth:400},onSubmit:function(e){k(!0),e.preventDefault();for(var n=new FormData,a=0,i=Object.keys(d);a<i.length;a++){var r=i[a];if(["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"].indexOf(r)<0){var o=d[r],c=Array.isArray(o)&&!(null===o)?JSON.stringify(o):o;n.append(r,c)}}for(var s=0,l=["generalLiabilityInsurance","autoLiabilityInsurance","cargoLiabilityInsurance"];s<l.length;s++){var p=l[s],j=d[p];if(j){var f,O=Object(v.a)(j);try{for(O.s();!(f=O.n()).done;){var h=f.value;n.append(p,h)}}catch(m){O.e(m)}finally{O.f()}}}Object(u.d)({uri:"/api/fmcsa",body:n}).then((function(e){Object(E.a)(e.data.message),U(b()),C.push(t)})).catch((function(e){console.log(e),Object(E.a)(e.message,"error")})).finally((function(){return k(!1)}))},children:Object(I.jsxs)(i.a,{spacing:3,children:[Object(I.jsx)(m.a,{type:"email",label:"Email",fullWidth:!0,onChange:R,value:d.email||"",name:"email"}),Object(I.jsx)(m.a,{type:"email",label:"Phone Number",fullWidth:!0,value:d.phone||"",onChange:R,name:"phone"}),Object(I.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(h.a,{children:"General Liability Insurance"}),Object(I.jsxs)("label",{htmlFor:"contained-button-file1",children:[Object(I.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"generalLiabilityInsurance",onChange:A,id:"contained-button-file1"}),Object(I.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(I.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(h.a,{children:"Auto Liability Insurance"}),Object(I.jsxs)("label",{htmlFor:"contained-button-file2",children:[Object(I.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"autoLiabilityInsurance",onChange:A,id:"contained-button-file2"}),Object(I.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(I.jsxs)(i.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(h.a,{children:"Cargo Liability Insurance"}),Object(I.jsxs)("label",{htmlFor:"contained-button-file3",children:[Object(I.jsx)("input",{style:{display:"none"},type:"file",accept:"application/pdf,application/msword,application/vnd.ms-excel",name:"cargoLiabilityInsurance",onChange:A,id:"contained-button-file3"}),Object(I.jsx)(a.a,{variant:"contained",component:"span",children:"Attach"})]})]}),Object(I.jsx)(w.a,{loading:S,loadingIndicator:"Updating...",type:"submit",variant:"contained",children:"Update"})]})})},P=function(e){var t=e.onCloseUrl,n={title:"Update Carrier Profile",closeUrl:t,paperProps:{sx:{width:"auto"}}};return Object(I.jsx)(C.a,{config:n,children:Object(I.jsx)(L,{onCloseUrl:t})})};n(54),n(368),n(1074),t.default=Object(p.withRouter)((function(e){var t=e.match,n=(void 0===t?{}:t).path,i=Object(p.useRouteMatch)(n+"/updateCarrierProfile"),s=(Object(f.d)().user||{}).role,l=void 0===s?"admin":s,u=Object(c.e)((function(e){return e.carrierProfile})),d=u.data,O=u.loading,h=Object(c.d)();Object(r.useEffect)((function(){h(b())}),[h]);var m={rowCellPadding:"normal",showRefresh:!0,columns:[{id:"companyName",label:"Company Name"},{id:"ein",label:"EIN#"},{id:"dotNumber",label:"DOT#"},{id:"operatingStatus",label:"Operating Status",renderer:function(e){var t=e.row,n=(void 0===t?{}:t).operatingStatus;return Object(f.c)("Y"===n)}}]};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(o.a,{data:d,loading:O,config:m,onRefetch:function(){return h(b())}}),i&&Object(I.jsx)(P,{onCloseUrl:n}),"admin"!==l&&Object(I.jsx)(a.a,{variant:"contained",component:j.b,to:n+"/updateCarrierProfile",sx:{position:"absolute",right:10,"&.MuiButton-contained:hover":{color:"#fff"}},children:"Update Profile"})]})}))}}]);
//# sourceMappingURL=7.0c4c2ab3.chunk.js.map