(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{271:function(e,t,n){"use strict";var a=n(208),r=n(253),o=n(1088),c=n(1089),i=n(467),s=n(293),l=n.n(s),d=n(1087),u=n(1086),b=n(1067),j=n(207),h=n(95),f=n(15),p=n(254),v=n(23),O=n(1085),g=n(2),m=n(297),x=n.n(m),y=n(8),w=n(1084),k=n(265),C=n.n(k),D=n(285),S=n.n(D),F=n(0),R=n.n(F),P=n(17),A=n(1043),I=n(12),N=n(3),z=Object(I.a)(A.a)((function(e){var t=e.theme;return{"& .MuiPaginationItem-root":Object(y.a)({},t.breakpoints.down("md"),{height:"1.8rem",width:"1rem"})}})),L=Object(I.a)(i.a)((function(e){var t,n=e.theme;return t={},Object(y.a)(t,n.breakpoints.down("sm"),{justifyContent:"center"}),Object(y.a)(t,"display","flex"),Object(y.a)(t,"justifyContent","space-between"),Object(y.a)(t,"flexWrap","wrap"),t})),B=function(e){var t=e.data,n=void 0===t?[]:t,a=e.onPageChange,r=e.page,o=void 0===r?0:r,c=e.count,i=void 0===c?0:c,s=e.limit,l=void 0===s?1:s,d=Object(F.useState)(0),u=Object(f.a)(d,2),b=u[0],j=u[1];Object(F.useEffect)((function(){Array.isArray(n)&&j(n.length)}),[n]);return b<10&&i<10?null:Object(N.jsxs)(L,{direction:"row",alignItems:"center",children:[i>10&&Object(N.jsxs)(h.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",n.length," of ",i," entries"]}),n.length!==i&&Object(N.jsx)(z,{count:Math.ceil(i/l),color:"primary",variant:"contained",page:o+1,size:"medium",onChange:function(e,t){a&&a(e,t)}})]})},M=n(209);function T(){return Object(N.jsx)(a.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:2}},children:Object(N.jsx)(M.a,{})})}var H=n(284),J=n(100),_=["row","columns","config","handleRowClick","rowIndex","handleDelete","hasDeletePermission"],K=["columns","data","config","handleRowClick","handleDelete"],W=Object(I.a)(w.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:12,padding:"0 8px"})})),E=Object(I.a)(x.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:14})}));function U(e){var t=e.columns,n=void 0===t?[]:t,a=e.config,r=void 0===a?{}:a,o=e.role,c=r.headerCellSx,i=void 0===c?{}:c,s=r.hasDelete,l=Object(F.useMemo)((function(){return n.map((function(e,t){var n=e||{},a=n.label,r=void 0===a?"":a,c=n.id,s=void 0===c?"":c,l=n.visible,d=void 0===l||l;return(C.a.isFunction(d)?d({column:e,role:o}):d)?Object(N.jsx)(W,{padding:"normal",sx:Object(g.a)({color:"#000",bgcolor:"#fafafa",fontWeight:800},i),children:r},s||t):null}))}),[n,i]);return Object(N.jsxs)(O.a,{children:[l,s&&Object(N.jsx)(W,{padding:"none",sx:Object(g.a)({},i)})]})}var q=function(e){var t=e.columns,n=e.data,a=void 0===n?[]:n,r=e.config,o=void 0===r?{}:r,c=e.handleRowClick,i=e.handleDelete,s=Object(v.a)(e,K);return(a||[]).map((function(e,n){var a=o.dataKey,r=void 0===a?"":a;return r&&(e=e[r]),function(e){var t=e.row,n=void 0===t?[]:t,a=e.columns,r=void 0===a?{}:a,o=e.config,c=void 0===o?{}:o,i=e.handleRowClick,s=e.rowIndex,l=e.handleDelete,d=e.hasDeletePermission,u=Object(v.a)(e,_),b=c.hasDelete,j=void 0!==b&&b,h=c.rowCellPadding,f=void 0===h?"none":h,m=c.onRowClick,x=void 0===m?void 0:m,y=c.rowStyleCb,w=u.role,k={};y&&(k=y({row:n})||{});var D=Object(N.jsx)(W,{sx:{},padding:"none",component:"th",scope:"row",children:Object(N.jsx)(p.a,{onClick:l.bind(void 0,n._id,n),disabled:!d,children:Object(N.jsx)(E,{color:"error"})})}),S=r.map((function(e,t){var a,r=e||{},o=r.id,c=void 0===o?"":o,i=r.renderer,l=r.emptyState,d=void 0===l?"":l,u=r.valueFormatter,b=r.visible,j=void 0===b||b;return(C.a.isFunction(j)?j({column:e,role:w}):j)?(a=u&&C.a.isFunction(u)?u(n[c]):C.a.isFunction(i)?i({row:n,role:w},s)||d:C.a.isObject(n)?C.a.get(n,c,d):n[c]||d,Object(N.jsx)(W,{padding:f||"normal",component:"th",scope:"row",children:a},c+t)):null}));return Object(N.jsxs)(O.a,{hover:!!x,onClick:function(e){e.preventDefault(),C.a.isFunction(i)&&i(n)},sx:x?Object(g.a)({cursor:"pointer"},k):Object(g.a)({},k),children:[S,j&&D]},s)}(Object(g.a)({row:e,columns:t,config:o,handleRowClick:c,rowIndex:n,handleDelete:i},s))}))},G=function(e){var t=e.config,n=void 0===t?{}:t,s=e.data,v=void 0===s?[]:s,O=e.history,m=e.loading,x=void 0!==m&&m,y=e.onRefetch,w=e.isRefetching;v=v||[];var k=Object(F.useState)({}),C=Object(f.a)(k,2),D=C[0],P=C[1],A=Object(F.useState)({open:!1,config:{}}),I=Object(f.a)(A,2),z=I[0],L=I[1],M=n.columns,_=void 0===M?[]:M,K=n.onRowClick,W=n.hasOnClickUrl,E=void 0===W||W,G=n.onPageChange,Q=n.page,V=n.count,X=n.limit,Y=n.size,Z=void 0===Y?"medium":Y,$=n.emptyMessage,ee=void 0===$?"":$,te=n.onRowClickDataCallback,ne=n.showRefresh,ae=void 0!==ne&&ne,re=n.onDelete,oe=n.deleteMessage,ce=n.deletePermissions,ie=void 0===ce?[]:ce,se=n.containerHeight,le=void 0===se?"":se,de=Object(J.d)().user.role,ue=void 0===de?"":de,be=ie.indexOf(ue)>-1||!1,je=R.a.useRef([]),he=Array.isArray(v)&&v.length,fe=function(e){if(E&&K){var t=K(e);te&&(e=te(e)),O.push(t,e)}else K&&K(e)},pe=function(e,t,n){n.stopPropagation();var a={title:function(){return Object(N.jsxs)(j.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(N.jsx)(S.a,{color:"error"}),Object(N.jsx)(h.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]})},okText:"Delete",onOk:function(){return re(e,ve)},content:function(){return Object(N.jsx)(b.a,{sx:{color:"#000"},children:oe||"Are you sure you want to delete the record?"})}};L(Object(g.a)(Object(g.a)({},z),{},{open:!0,config:a}))};function ve(){L(Object(g.a)(Object(g.a)({},z),{},{open:!1}))}var Oe=Object(F.useMemo)((function(){return he?Object(N.jsxs)(F.Fragment,{children:[Object(N.jsx)(u.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(N.jsx)(U,{columns:_,config:n,role:ue})}),Object(N.jsx)(d.a,{children:Object(N.jsx)(q,{role:ue,columns:_,data:v,config:n,handleRowClick:fe,handleDelete:pe,hasDeletePermission:be},Date.now())})]}):Object(N.jsx)("tbody",{style:{height:300},children:Object(N.jsx)("tr",{children:Object(N.jsx)("td",{style:{textAlign:"center"},children:Object(N.jsx)("h4",{children:ee||"No records found"})})})})}),[v,n]);return Object(F.useEffect)((function(){var e;if(null!==je&&void 0!==je&&null!==(e=je.current)&&void 0!==e&&e.table){var t=je.current.table.offsetHeight;P(Object(g.a)(Object(g.a)({},D),{},{height:t>200?t:void 0}))}}),[]),Object(N.jsxs)(a.a,{className:"enhanced-table",sx:{height:he&&!x?le||"95%":"auto"},children:[ae&&Object(N.jsx)(i.a,{alignItems:"flex-end",children:Object(N.jsx)(p.a,{title:"Refresh",onClick:y,children:Object(N.jsx)(l.a,{className:w?"rotateIcon":void 0})})}),Object(N.jsx)(o.a,{component:r.a,className:"",sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:he&&!x?"calc(100% - 64px)":"auto"},children:x?function(){var e=window.innerHeight-180,t=(D.height?D.height>e?e:D.height:e)||e;return Object(N.jsx)(j.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(N.jsx)(j.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(N.jsx)(T,{})})})}():Object(N.jsx)(c.a,{ref:function(e){return je.current.table=e},"aria-label":"caption table",size:Z,stickyHeader:!0,children:Oe})}),!x&&v.length>0&&Object(N.jsx)(B,{data:v,onPageChange:G,page:Q,count:V,limit:X}),Object(N.jsx)(H.a,{className:"enhancedTable_dialog",open:z.open,config:z.config,onClose:ve})]})};t.a=Object(P.withRouter)(Object(F.memo)(G))},279:function(e,t,n){"use strict";var a=n(95),r=n(2),o=(n(0),n(265)),c=n.n(o),i=n(418),s=n(419),l=n(3),d=function(e){var t=e,n=t.label,a=void 0===n?"":n,o=t.type,s=void 0===o?"text":o,d=t.options,u=void 0===d?[]:d,b=t.labelKey,j=void 0===b?"label":b,h=t.valueKey,f=void 0===h?"id":h,p=t.onChangeSelect,v=t.showFirstBlank,O=void 0!==v&&v,g=t.onBlur;if(delete(e=c.a.cloneDeep(e)).showFirstBlank,"select"===s.toLowerCase()){Array.isArray(u)&&u.length||console.error("Options are mandatory in array format");var m=(u||[]).map((function(e){return Object(l.jsx)("option",{value:e[f],children:e[j]},e[f])}));return O&&m.unshift(Object(l.jsx)("option",{value:"",children:"Select an option"})),Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({},e),{},{onChange:p,id:a,type:s,children:m}))}return Object(l.jsx)(i.a,Object(r.a)(Object(r.a)({id:a,type:s},e),{},{onBlur:g}))};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.label,n=void 0===t?"":t,o=e.type,c=void 0===o?"text":o,i=e.multiple,u=void 0!==i&&i,b=e.onChange,j=e.labelStyle,h=void 0===j?{}:j,f=e.direction,p=void 0===f?"column":f,v=e.formGrpStyle,O=void 0===v?{}:v,g=e.errorText,m=void 0===g?"":g,x=e.onBlur;return Object(l.jsxs)(s.a,{style:"row"===p?Object(r.a)({display:"flex",alignItems:"center"},O):Object(r.a)({},O),children:[n&&Object(l.jsx)("label",{className:"form-control-label",htmlFor:n,style:Object(r.a)({color:"#525F7F",marginRight:8},h),children:n}),Object(l.jsx)(d,Object(r.a)(Object(r.a)({},e),{},{onChangeSelect:function(e){if("select"===c.toLowerCase()&&u){for(var t=e.target,n=t.options,a=t.name,r=[],o=0,i=n.length;o<i;o++)n[o].selected&&r.push(n[o].value);b&&b(e,r,a)}else b&&b(e)},onBlur:function(e){x&&x(e.target.name,e.target.value)}})),m&&Object(l.jsx)(a.a,{variant:"subtitle2",sx:{color:"red",fontSize:"0.75em"},children:m})]})}},281:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"b",(function(){return O}));n(2);var a=n(341),r=n(20),o=n(37),c=n(29),i=n.n(c),s=n(32),l=n(4),d=n(61),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var a=Object(o.a)(Object(r.a)().mark((function a(o){var c,i,u;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(d.b)({uri:"/api/load/me?page=".concat(e+1,"&limit=").concat(t,"&module=").concat(n)});case 3:c=a.sent,i=c.success,u=c.data,i?o({type:l.F,payload:{loads:u,page:e,limit:t}}):Object(s.a)(u.message,"error"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),o(Object(s.b)(a.t0.message,"error"));case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(){var a=Object(o.a)(Object(r.a)().mark((function a(o){var c,d,u,b,j,h;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o({type:l.L,payload:{data:[],loading:!0}}),a.prev=1,c="/api/load/invoice_loads?page=".concat(e+1,"&limit=").concat(t,"&search=").concat(n),a.next=5,i.a.get(c);case 5:d=a.sent,u=d.data,b=u.loads,j=u.total,h=u.totalPages,o({type:l.L,payload:{data:b,page:e,limit:t,search:n,total:j,totalPages:h,loading:!1}}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),o(Object(s.b)(a.t0.message,"error"));case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var c=Object(o.a)(Object(r.a)().mark((function o(c){var d,u;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,d="/api/load/me?page=".concat(e+1,"&limit=15&search=").concat(n,"&module=").concat(a),r.next=4,i.a.get(d);case 4:u=r.sent,c({type:l.gb,payload:{data:u.data,page:e,limit:t,search:n}}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),c(Object(s.b)(r.t0.message,"error"));case 11:case"end":return r.stop()}}),o,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},h=function(){return function(){var e=Object(o.a)(Object(r.a)().mark((function e(t,n){var a,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:l.eb}),a=n(),o=a.load,o.page,o.rowsPerPage;case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:l.hb,payload:e}},p=function(e,t){return function(){var n=Object(o.a)(Object(r.a)().mark((function n(a){var o,c;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o={headers:{"Content-Type":"application/json"}},n.next=4,i.a.post("/api/load",e,o);case 4:c=n.sent,a({type:l.b,payload:c.data}),Object(s.a)("Load Created"),t&&t(200===c.status,c.data),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a(Object(s.b)(n.t0.message,"error"));case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;return function(){var i=Object(o.a)(Object(r.a)().mark((function o(i,l){var b,h,f,p,v,O,g,m,x,y,w,k,C,D,S,F,R,P,A,I,N,z,L;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(r.prev=0,b=new FormData,h=0,f=Object.keys(e);h<f.length;h++)p=f[h],["rateConfirmation","proofDelivery"].indexOf(p)<0&&(v=e[p],O=Array.isArray(v),g=null===v,m=O&&!g?JSON.stringify(v):v,b.append(p,m));for(b.append("bucketFiles",JSON.stringify(n)),x=0,y=["rateConfirmation","proofDelivery"];x<y.length;x++)if(k=e[w=y[x]]){C=Object(a.a)(k);try{for(C.s();!(D=C.n()).done;)S=D.value,b.append(w,S)}catch(o){C.e(o)}finally{C.f()}}return r.next=7,Object(d.c)({uri:"/api/load/modify",body:b});case 7:F=r.sent,R=F.success,P=F.data,R&&Object(s.a)("Load Updated"),A=l(),I=A.load.search,N=I.page,z=I.limit,L=I.query,i(L?j(N,z,L):u(0,5,t)),c(R,P),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),Object(s.a)(r.t0.message,"error");case 19:case"end":return r.stop()}}),o,null,[[0,16]])})));return function(e,t){return i.apply(this,arguments)}}()},O=function(e,t){return function(){var n=Object(o.a)(Object(r.a)().mark((function n(a){var o,c,i;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(d.a)({uri:"/api/load",body:{data:{load_id:e}}});case 3:o=n.sent,c=o.success,i=o.data,Object(s.a)(i.message,c?"success":"error"),c&&a({type:l.t,payload:e}),t&&t(c,i),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),Object(s.a)(n.t0.message,"error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=8.a7efc4cc.chunk.js.map