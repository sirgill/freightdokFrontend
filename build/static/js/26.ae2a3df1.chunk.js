(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[26],{1066:function(e,t,a){"use strict";a.r(t);var n=a(188),r=a(363),i=a(359),o=a(261),c=a(262),s=a(458),l=a.n(s),d=a(4),u=a(14),b=a(419),j=a(0),p=a.n(j),O=a(1008),f=a.n(O),v=a(34),m=a(448),h=a(698),x=a(520),g=a(98),y=a(43),w=a(33),C=a(51),_=a(457),k=a(99),N=a.n(k),S=a(166),D=a(576),R=a.n(D),I=a(260),P=a(575),L=a.n(P),Y=a(195),z=a(91),T=a(35),B=a(1),F=function(){var e=Object(C.a)(Object(w.a)().mark((function e(){var t,a,n,r=arguments;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1?r[1]:void 0,e.next=4,Object(z.d)({uri:"/api/bid/saveChOfferRequestId",body:t});case 4:n=e.sent,n.success&&a.goBack();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=e.location,a=(void 0===t?{}:t).state,n=void 0===a?{}:a,r=e.match,s=(void 0===r?{}:r).params,l=s.loadNumber,d=s.counterOffer,b=void 0!==d&&d,p=s.finalOffer,O=void 0!==p&&p,f=Object(v.useHistory)(),m=n.loadNumber,h=void 0===m?"":m,k=n.company,D=n.vendor,P=n.price,z=0;if(n.hasOwnProperty("availableLoadCosts")){var q=(n||{}).availableLoadCosts,A=(void 0===q?[]:q)||[],E=Object(u.a)(A,1)[0];E&&(z=E.sourceCostPerUnit||0)}var M=Object(j.useState)(P||z),V=Object(u.a)(M,2),H=V[0],U=V[1],W=function(e,t){if(t.offerRequestId){var a={status:!1,loadNumber:h,bidAmount:H,vendorName:"C.H. Robinson",loadDetail:n,offerRequestId:t.offerRequestId};F(a,f)}else t.error?Object(T.a)(t.message,"error"):f.goBack()},K=function(e,t){if(null!==t&&void 0!==t&&t.success||"success"===t.status)if(t.offerRequestId){var a={status:!1,loadNumber:h,bidAmount:H,vendorName:"C.H. Robinson",loadDetail:n,offerRequestId:t.offerRequestId};F(a,f)}else f.goBack()},G=function(){var e=Object(C.a)(Object(w.a)().mark((function e(t){var a,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),D!==Y.d){e.next=11;break}if(a={external_id:Object(I.a)(),offer_amount:H,expired_at:N()(new Date,"YYYY-MM-DDTHH:mm").add(1,"day").utc().format(),terms_condition:!0,driver_name:"Driver Name",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:n.id,vendorName:"New Trul",loadDetail:n},!b){e.next=6;break}return a={external_id:n.external_id,offer_amount:n.bidAmount,expired_at:N()(new Date,"YYYY-MM-DDTHH:mm").utc().format()},e.abrupt("return",Object(x.f)(a,K));case 6:if(!O){e.next=9;break}return a={loadId:l,offerStatus:"accept"},e.abrupt("return",Object(x.d)(a,K));case 9:return Object(x.e)(a,l,K),e.abrupt("return");case 11:return Object.assign(n,{defaultEmail:"vy4693@gmail.com",env:"dev",bidAmount:H}),r={carrierCode:Y.h.carrierCode,offerPrice:parseFloat(H),offerNote:"",currencyCode:"USD"},e.next=15,Object(x.a)(h,r,W);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)(_.a,{config:{showClose:!0},children:Object(B.jsx)(g.a,{sx:{px:3},justifyContent:"center",display:"flex",children:Object(B.jsxs)("form",{onSubmit:G,style:{textAlign:"center"},className:"form_bidding",children:[Object(B.jsx)(y.a,{sx:{fontSize:32},children:k}),Object(B.jsxs)(y.a,{sx:{fontSize:32},children:["Load Number: ",h]}),Object(B.jsxs)(o.a,{direction:"row",sx:{py:5},alignItems:"end",gap:"10px",justifyContent:"center",children:[Object(B.jsx)(c.a,{onClick:function(){H>0&&U(H-1)},disabled:H<=0,children:Object(B.jsx)(L.a,{})}),Object(B.jsx)("div",{className:"dollarInput",children:Object(B.jsx)(S.a,{name:"bidAmount",label:"Amount ($)",onChange:function(e){var t=e.target.value;U(t)},type:"number",value:H,className:""})}),Object(B.jsx)(c.a,{onClick:function(){U(parseInt(H)+1)},children:Object(B.jsx)(R.a,{})})]}),Object(B.jsx)(i.a,{variant:"contained",color:"success",onClick:G,sx:{px:3,py:1,fontSize:16},children:"Submit Bid"})]})})})},A=a(1009),E=a(74),M=a(189),V=a(703),H=a(702),U=a(701),W=a(700),K=a(205),G=a.n(K),$=a(30),J="T2244688",Q=function(e){var t=e.label,a=e.children;return Object(B.jsxs)(g.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(B.jsx)(g.a,{item:!0,xs:5,children:Object(B.jsx)(y.a,{sx:{fontSize:22,textAlign:"left"},children:t})}),Object(B.jsx)(g.a,{item:!0,xs:7,children:a})]})},X=function(){return Object(B.jsxs)(g.a,{container:!0,direction:"column",sx:{py:3},spacing:2,children:[Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(G.a,{sx:{fontSize:80,color:"rgb(45, 206, 137)"}})}),Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(y.a,{fontSize:24,children:"Your load has been booked!"})}),Object(B.jsx)(g.a,{item:!0,pl:"0 !important",children:Object(B.jsx)(y.a,{fontSize:24,children:"Moved to your personal load board"})})]})},Z=function(e){var t=e.location,a=(void 0===t?{}:t).state,n=void 0===a?{}:a,r=n.loadNumber,o=Object(j.useState)({emptyDate:new Date,emptyTime:new Date}),c=Object(u.a)(o,2),s=c[0],l=c[1],b=Object(j.useState)(!1),p=Object(u.a)(b,2),O=p[0],f=p[1],v=Object(j.useState)(!1),m=Object(u.a)(v,2),h=m[0],w=m[1],C=0;if(n.hasOwnProperty("availableLoadCosts")){var k=(n||{}).availableLoadCosts,N=(void 0===k?[]:k)||[],S=Object(u.a)(N,1)[0];S&&(C=S.sourceCostPerUnit)}return Object(B.jsx)(_.a,{config:{paperProps:{sx:{width:"auto"}}},children:Object(B.jsx)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=s.emptyDate.toDateString(),a=s.emptyTime.toTimeString();if(new Date(t+" "+a)<new Date)return Object(T.a)("Empty Date and Time cannot be a past","error");w(!0);var r=n.loadNumber,i=n.availableLoadCosts[0]||{},o=i.type,c=i.code,l=i.description,d=i.units,u=i.currencyCode,b=i.sourceCostPerUnit,j=Object($.d)().user,p=void 0===j?{}:j,O=p.name,v=void 0===O?"":O,m=p.email,h=void 0===m?"":m,g={loadNumber:r,carrierCode:J,emptyDateTime:new Date(t+" "+a).toISOString(),availableLoadCosts:[{type:o,code:c,description:l,units:d,currencyCode:u,sourceCostPerUnit:b}],emptyLocation:{city:"Greenwood",state:"IN",country:"NA",zip:"46143"},rateConfirmation:{email:h,name:v}};Object(x.g)(n,!1).then((function(e){var t=(null===e||void 0===e?void 0:e.data)||{},a=t.success,r=t.message;a?Object(x.b)(g).then((function(e){var t;(w(!1),200===e.status)?(!function(e){var t=e.success;void 0!==t&&t&&(f(!0),Object(x.g)(n,!0),Object($.i)("getBiddings"))}({success:!0}),Object(T.a)("Booking successful")):(console.log(e),Object(T.a)((null===(t=e.data)||void 0===t?void 0:t.message)||"","error"))})).catch((function(e){console.log(e),w(!1),Object(T.a)(e.message,"error")})):(Object(T.a)(r,"error"),w(!1))}))},children:Object(B.jsxs)(g.a,{container:!0,direction:"column",textAlign:"center",px:8,pb:4,gap:"10px",children:[Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(y.a,{sx:{fontSize:32},children:"C.H Robinson"})}),Object(B.jsxs)(g.a,{item:!0,direction:"",display:"flex",justifyContent:"center",children:[Object(B.jsx)(y.a,{sx:{fontSize:32,mr:2},children:"Load Number: "}),Object(B.jsx)(y.a,{sx:{fontSize:32},children:r})]}),O?Object(B.jsx)(X,{}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(g.a,{item:!0,display:"flex",justifyContent:"space-between",mt:2,children:Object(B.jsx)(Q,{label:"Carrier T-Code",children:Object(B.jsx)(M.a,{disabled:!0,variant:"standard",fullWidth:!0,value:J,readOnly:!0})})}),Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(Q,{label:"Empty Date",children:Object(B.jsx)(W.a,{dateAdapter:U.a,children:Object(B.jsx)(H.a,{disablePast:!0,value:s.emptyDate||new Date,onChange:function(e){return l(Object(d.a)(Object(d.a)({},s),{},{emptyDate:e}))},renderInput:function(e){return Object(B.jsx)(M.a,Object(d.a)(Object(d.a)({},e),{},{fullWidth:!0,variant:"standard"}))}})})})}),Object(B.jsx)(g.a,{item:!0,mt:2,children:Object(B.jsx)(Q,{label:"Empty Time",children:Object(B.jsx)(W.a,{dateAdapter:U.a,children:Object(B.jsx)(V.a,{value:s.emptyTime||new Date,onChange:function(e){l(Object(d.a)(Object(d.a)({},s),{},{emptyTime:e}))},renderInput:function(e){return Object(B.jsx)(M.a,Object(d.a)(Object(d.a)({},e),{},{fullWidth:!0,variant:"standard"}))}})})})})]}),!O&&Object(B.jsx)(g.a,{item:!0,mt:2,children:Object(B.jsxs)(i.a,{type:"submit",disabled:h,variant:"contained",sx:{p:2,fontSize:16,px:3,py:2},children:["Book Now $",C]})})]})})})},ee=a(704),te=a(163),ae=a(3),ne=a(1016),re=a(27),ie=a(54),oe=a.n(ie),ce=["classNameRoot","disabled","label","hasError","labelKey","selectSx","className","placeholder","errorText"],se=["label","name","valueKey","labelKey","errors","disablePortal","onChange","disabled","value","options","className","classNameRoot","disableClearable","selectSx","placeholder"],le=function(e){var t=e.classNameRoot,a=e.disabled,n=e.label,r=e.hasError,i=e.labelKey,o=e.selectSx,c=e.className,s=e.placeholder,l=(e.errorText,Object(re.a)(e,ce)),u="autocomplete-label-"+n;return Object(B.jsx)("div",{className:oe()(t,{fieldDisabled:a}),children:Object(B.jsx)(te.a,{fullWidth:!0,children:Object(B.jsx)(ne.a,Object(d.a)({renderInput:function(e){return Object(B.jsx)(M.a,Object(d.a)({placeholder:s,error:r,label:n},e))},getOptionLabel:function(e){return e[i]},isOptionEqualToValue:function(e,t){return e.id===t.id},id:u,classes:{paper:c},sx:o},l))})})},de=Object(j.memo)(le),ue=function(e){var t=e.label,a=e.name,n=e.valueKey,r=void 0===n?"value":n,i=e.labelKey,o=void 0===i?"label":i,c=e.errors,s=void 0===c?{}:c,l=e.disablePortal,b=void 0===l||l,p=e.onChange,O=e.disabled,f=void 0!==O&&O,v=e.value,m=e.options,h=void 0===m?[]:m,x=e.className,g=e.classNameRoot,y=e.disableClearable,w=void 0===y||y,C=e.selectSx,_=void 0===C?{}:C,k=e.placeholder,N=Object(re.a)(e,se),S=Object(j.useState)(null),D=Object(u.a)(S,2),R=D[0],I=D[1],P=!!s[a]||!1,L=s[a]||"";return Object(j.useEffect)((function(){var e=Array.isArray(h)&&h.find((function(e){return e[r]===v}))||null;I(e)}),[v,h,r]),Object(B.jsx)(de,Object(d.a)(Object(d.a)({},N),{},{value:R,options:h,label:t,selectSx:_,labelKey:o,valueKey:r,hasError:P,disabled:f,errorText:L,className:x,onChange:function(e,t){p&&p({name:a,value:t?t[r]:""})},placeholder:k,classNameRoot:g,disablePortal:b,disableClearable:w}))},be=a(208),je=a(209),pe=a(25),Oe=a(1007),fe=a.n(Oe),ve=a(119),me=a.n(ve),he=a(5),xe=a.n(he),ge=function(e){var t=e.label,a=void 0===t?"":t,r=e.name,i=e.onSelect,o=e.parentOnClear,c=p.a.useState(null),s=Object(u.a)(c,2),l=s[0],b=s[1],O=p.a.useState(""),f=Object(u.a)(O,2),v=f[0],m=f[1],h=p.a.useState([]),x=Object(u.a)(h,2),w=x[0],C=x[1],_=p.a.useMemo((function(){return me.a.debounce((function(e,t){Object(z.b)({uri:"/api/searchLocationAutocomplete?search="+e.input}).then((function(e){return t(e.data,e.success)}))}),500)}),[]);return Object(j.useEffect)((function(){var e=!0;if(i&&i({selectedObj:l,value:v,name:r}),""!==v)return _({input:v},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var a=[];if((arguments.length>1?arguments[1]:void 0)||Object(T.a)(t.error_message,"error"),l&&(a=[l]),t){var n=t.predictions,r=void 0===n?[]:n;a=[].concat(Object(pe.a)(a),Object(pe.a)(r))}C(a)}})),function(){e=!1};C(l?[l]:[])}),[l,v,_]),Object(j.useEffect)((function(){o&&(b(null),m(""))}),[o]),Object(B.jsx)(ne.a,{id:"searchAutocomplete",sx:{width:300},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:w,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:l,onChange:function(e,t){C(t?[t].concat(Object(pe.a)(w)):w),b(t)},onInputChange:function(e,t){m(t)},renderInput:function(e){return Object(B.jsx)(M.a,Object(d.a)(Object(d.a)({},e),{},{label:a,size:"small",fullWidth:!0}))},renderOption:function(e,t){return Object(B.jsx)("li",Object(d.a)(Object(d.a)({},e),{},{children:Object(B.jsxs)(g.a,{container:!0,alignItems:"center",children:[Object(B.jsx)(g.a,{item:!0,children:Object(B.jsx)(n.a,{component:fe.a,sx:{color:"text.secondary",mr:2}})}),Object(B.jsx)(g.a,{item:!0,xs:!0,children:Object(B.jsx)(y.a,{variant:"body2",color:"text.primary",children:t.description})})]})}))}})},ye=ge;ge.prototype={label:xe.a.string.isRequired,name:xe.a.string.isRequired,onSelect:xe.a.func,parentOnClear:xe.a.bool};var we=a(64),Ce=a(501),_e={title:"",defaultValue:"origin_states[]",name:"origin",options:[{label:"City",value:"origin_city"},{label:"State",value:"origin_states[]"}]},ke={title:"",defaultValue:"destination_states[]",name:"destination",options:[{label:"City",value:"destination_city"},{label:"State",value:"destination_states[]"}]},Ne=[{label:"Select",value:null},{label:"Reefer",value:"Reefer"},{label:"Dry Van",value:"Dry Van"}],Se=function(e){var t=Object(d.a)({},e);return t.originGeoLocation&&delete t.originGeoLocation,t.destinationGeoLocation&&delete t.destinationGeoLocation,t.originRadius||delete t.originRadius,t.destinationRadius||delete t.destinationRadius,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var a in e)if(e.hasOwnProperty(a)){var n=encodeURIComponent(a)+"="+encodeURIComponent(e[a]);t.push(n.replaceAll("%20","+"))}return t.join("&")}(t)},De={originRadio:"origin_city",destinationRadio:"destination_city",destination_radius:"",origin_radius:""},Re=function(e){var t=e.getNewTrulList,a=e.setFilters,n=e.pageSize,r=e.pageIndex,c=e.setParams,s=e.defaultParams,l=Object(j.useState)(De),b=Object(u.a)(l,2),p=b[0],O=b[1],f=Object(j.useState)(!1),v=Object(u.a)(f,2),m=v[0],h=v[1],x=function(e){var t=e.name,a=e.value;if("pickup"===t){var n={pick_up_start_date:a.startDate,pick_up_end_date:a.endDate};return O(Object(d.a)(Object(d.a)({},p),n))}if("dropOff"===t){var r={drop_off_start_date:a.startDate,drop_off_end_date:a.endDate};return O(Object(d.a)(Object(d.a)({},p),r))}O(Object(d.a)(Object(d.a)({},p),{},Object(ae.a)({},t,a)))},y=Object(j.useCallback)((function(e){var t=e.name,a=e.value;O(Object(d.a)(Object(d.a)({},p),{},Object(ae.a)({},t+"Radio",a)))}),[p]),_=function(){var e=Object(C.a)(Object(w.a)().mark((function e(i){var o,s,l,u,b,j,O,f,v,m,h,x;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),o=["pick_up_start_date","pick_up_end_date","drop_off_start_date","drop_off_end_date"],s=Object(d.a)({},p),p.originRadio&&(s[p.originRadio]=p.origin||""),p.destinationRadio&&(s[p.destinationRadio]=p.destination||""),p["equipments[]"]&&(s["equipments[]"]=p["equipments[]"]),o.forEach((function(e){p[e]&&(s[e]=N()(p[e]).format("YYYY-MM-DD"))})),delete s.originRadio,delete s.destinationRadio,!s.destination){e.next=18;break}return e.next=12,Object(Ce.b)({address:s.destination});case 12:l=e.sent,u=l.data,j=(b=void 0===u?{}:u).data,b.success&&(s.destinationGeoLocation=j);case 18:if(!s.origin){e.next=27;break}return e.next=21,Object(Ce.b)({address:s.origin});case 21:O=e.sent,f=O.data,m=(v=void 0===f?{}:f).data,v.success&&(s.originGeoLocation=m);case 27:h=Object(d.a)(Object(d.a)({},s),{},{pageSize:n,pageIndex:r}),a(h),x=Se(s),c(x),t(h,x);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)(g.a,{container:!0,gap:1,component:"form",noValidate:!0,onSubmit:_,flexWrap:"wrap",children:[Object(B.jsxs)(o.a,{children:[Object(B.jsx)(ye,{label:"Origin",onSelect:x,name:"origin",parentOnClear:m}),Object(B.jsx)(te.a,{sx:{m:.5},variant:"standard",children:Object(B.jsx)(be.a,{parentValue:p.originRadio,config:_e,onChange:y})})]}),Object(B.jsx)(we.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:p.origin_radius,onChange:x,name:"origin_radius",fullWidth:!1}),Object(B.jsxs)(o.a,{children:[Object(B.jsx)(ye,{name:"destination",label:"Destination",onSelect:x,parentOnClear:m}),Object(B.jsx)(te.a,{sx:{m:.5},variant:"standard",children:Object(B.jsx)(be.a,{config:ke,onChange:y,parentValue:p.destinationRadio})})]}),Object(B.jsx)(we.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:p.destination_radius,onChange:x,name:"destination_radius",fullWidth:!1}),Object(B.jsx)(o.a,{children:Object(B.jsx)(ue,{options:Ne,value:p["equipments[]"]||null,label:"Equipment",size:"small",onChange:x,name:"equipments[]",sx:{minWidth:200,width:"inherit"}})}),Object(B.jsx)(o.a,{children:Object(B.jsx)(je.a,{label:"Pick Up Date Range",name:"pickup",onChange:x})}),Object(B.jsx)(o.a,{children:Object(B.jsx)(je.a,{name:"dropOff",onChange:x,label:"Drop Off Date Range"})}),Object(B.jsx)(o.a,{children:Object(B.jsx)(i.a,{type:"submit",variant:"contained",children:"Search"})}),Object(B.jsx)(o.a,{children:Object(B.jsx)(i.a,{onClick:function(){O((function(){return De})),h(!0),a(s),setTimeout((function(){t(s),h(!1)}),200)},variant:"outlined",children:"Clear"})})]})},Ie=function(e){var t=e.history,a=e.path,n=e.totalResults,r=e.onPageChange,o=e.pageIndex,c=e.pageSize,s=e.showDialog;return{containerHeight:"100%",rowCellPadding:"normal",emptyMessage:"No Shipments Found",onRowClick:function(e){var t=e.loadNumber,n=e.id;return"newtrul"===e.vendorName.toLowerCase()?"".concat(a,"/newtrul/").concat(n):"".concat(a,"/").concat(t)},count:n,limit:c,page:o,onPageChange:r,rowStyleCb:function(e){var t=e.row,a=t.bidLevel,n=t.status;return 2===a?{borderLeft:"5px solid #ffeaa7"}:1===a?{borderLeft:n?"5px solid #00b894":"5px solid #e74c3c"}:void 0},columns:[{id:"loadNumber",label:"Load Number",renderer:function(e){var t=e.row;return t.vendorName===Y.d?Object(B.jsx)(j.Fragment,{children:t.id}):Object(B.jsx)(j.Fragment,{children:t.loadNumber})}},{id:"country",label:"Pickup City/State",renderer:function(e){var t,a,n=e.row;if(n.vendorName===Y.d){var r=n.stops||[],i=Object(u.a)(r,2),o=(i[0],(i[1]||{}).geo||{}),c=o.city,s=void 0===c?"":c,l=o.state,d=void 0===l?"":l;return Object(B.jsxs)(j.Fragment,{children:[s,", ",d]})}return Object(B.jsxs)(j.Fragment,{children:[null===n||void 0===n||null===(t=n.origin)||void 0===t?void 0:t.city,", ",null===n||void 0===n||null===(a=n.origin)||void 0===a?void 0:a.stateCode]})}},{id:"pickupDate",label:"Pickup Date",renderer:function(e){var t=e.row,a="";if(t.vendorName===Y.d){var n=t.stops||[{}],r=Object(u.a)(n,2),i=(r[0],(r[1]||{}).early_datetime),o=void 0===i?"":i;a=o?N()(o).format("M/DD/YYYY"):"--"}else N()(null===t||void 0===t?void 0:t.pickUpByDate).isValid()&&(a=N()(t.pickUpByDate).format("M/DD/YYYY"));return Object(B.jsx)(j.Fragment,{children:a})}},{id:"deliveryCountry",label:"Delivery City/State",renderer:function(e){var t,a,n=e.row,r=void 0===n?{}:n;if(r.vendorName===Y.d){var i=r.stops||[],o=Object(u.a)(i,2),c=o[0],s=(o[1],(c||{}).geo||{}),l=s.city,d=void 0===l?"":l,b=s.state,p=void 0===b?"":b;return Object(B.jsxs)(j.Fragment,{children:[d,", ",p]})}return Object(B.jsxs)(j.Fragment,{children:[null===r||void 0===r||null===(t=r.destination)||void 0===t?void 0:t.city,", ",null===r||void 0===r||null===(a=r.destination)||void 0===a?void 0:a.stateCode]})}},{id:"deliveryDate",label:"Delivery Date",renderer:function(e){var t=e.row,a="";if(t.vendorName===Y.d){var n=t.stops||[],r=Object(u.a)(n,2),i=r[0],o=(r[1],(i||{}).early_datetime);return o?N()(o).format("M/DD/YYYY"):"--"}return N()(t.deliverBy).isValid()&&(a=N()(null===t||void 0===t?void 0:t.deliverBy).format("M/DD/YYYY")),Object(B.jsx)(j.Fragment,{children:a})}},{id:"equipment",label:"Equipment",renderer:function(e){var t=e.row;if(t.vendorName===Y.d){var a=t.equipment;return"string"===typeof a?Object(B.jsx)(j.Fragment,{children:a}):null}var n=Object(Y.g)(t||{}),r=n.modesString,i=void 0===r?"":r,o=n.standard,c=void 0===o?"":o;return Object(B.jsxs)(j.Fragment,{children:[i," ",c]})}},{id:"weight",label:"Weight",renderer:function(e){var t=e.row;if(t.vendorName===Y.d){var a=(t||{}).weight;return"number"===typeof a?Object(B.jsxs)(j.Fragment,{children:[a," lbs"]}):null}var n=(t||{}).weight,r=(void 0===n?{}:n).pounds,i=void 0===r?"":r;return i&&(i+=" lbs"),Object(B.jsx)(j.Fragment,{children:i})}},{id:"company",label:"Company",renderer:function(e){var t=e.row;if(t.vendorName===Y.d){var a=(t||{}).client;return(void 0===a?{}:a).client_name||"--"}return Object(B.jsx)(j.Fragment,{children:"C.H Robinson"})}},{id:"bookNow",label:"Book Now",renderer:function(e){var n=e.row,r=void 0===n?{}:n;if(r.vendorName===Y.d){var o=r.book_now_price;if(r.available_book_type.equalsIgnoreCase("both")){return Object(B.jsxs)(i.a,{variant:"contained",color:"primary",onClick:function(e){e.stopPropagation();var t={title:"Book Now",maxWidth:"md",content:Object(B.jsxs)(y.a,{fontSize:16,children:["Do you want to Book now at? $",o]}),okButtonText:"Book",onOk:function(e){var t={external_id:Object(I.a)(),terms_condition:!0,driver_name:"Driver Namme",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:r.id};Object(Y.e)(t,r,(function(){return e()}))}};s(t)},disabled:0===o,children:["$ ",o]})}return null}if(r.hasOwnProperty("availableLoadCosts")){var c=(r||{}).availableLoadCosts,l=(void 0===c?[]:c)||[],d=Object(u.a)(l,1)[0];if(d)return Object(B.jsxs)(i.a,{variant:"contained",color:"primary",onClick:function(e){e.stopPropagation(),t.push(a+"/".concat(r.loadNumber,"/bookNow"),r)},children:["$ ",null===d||void 0===d?void 0:d.sourceCostPerUnit]})}return null}},{id:"Bidding",label:"Bid",renderer:function(e){var n=e.row;if(n.vendorName===Y.d){var r=n.available_book_type;if(!(r.equalsIgnoreCase("both")||r.equalsIgnoreCase("auction")))return null}return Object(B.jsx)(i.a,{variant:"contained",color:"success",onClick:function(e){if(e.stopPropagation(),n.vendorName===Y.d)return t.push(a+"/".concat(n.id,"/bid"),Object(d.a)(Object(d.a)({},n),{},{vendor:n.vendorName,company:"New Trul",price:n.book_now_price}));t.push(a+"/".concat(n.loadNumber,"/bid"),Object(d.a)(Object(d.a)({},n),{},{vendor:n.vendorName,company:n.vendorName===Y.d?"New Trul":"C.H Robinson"}))},children:"Bid +"})}}]}},Pe=a(454),Le=a(705),Ye=Y.f;Ye=Y.h;t.default=Object(A.withRouter)((function(){var e=Object(b.a)((function(e){return e.breakpoints.down("sm")})),t=Object(v.useRouteMatch)().path,a=Object(j.useState)(Ye),s=Object(u.a)(a,2),O=s[0],g=s[1],y=Object(j.useState)(""),w=Object(u.a)(y,2),C=w[0],_=w[1],k=Object(j.useState)({open:!1,content:null}),N=Object(u.a)(k,2),S=N[0],D=N[1],R=Object(E.d)(),I=Object(E.e)((function(e){return e.openBoard})),P=I.data,L=void 0===P?{}:P,Y=L.results,z=L.totalResults,T=L.message,F=I.loading,A=void 0!==F&&F,M=Object(v.useHistory)(),V=p.a.useState(null),H=Object(u.a)(V,2),U=H[0],W=H[1],K=Object(j.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";te(),R(Object(x.c)(Object(d.a)(Object(d.a)({},e),{},{newTrulQuery:t,env:"production",pageSize:100})))}),[R]),G=Object(j.useCallback)((function(){R(Object(x.c)(Object(d.a)(Object(d.a)({},O),{},{newTrulQuery:C,env:"production",pageSize:100})))}),[R,O,C]),J=Object(j.useCallback)((function(){D((function(e){return Object(d.a)(Object(d.a)({},e),{},{open:!1})}))}),[]),Q=Object(j.useCallback)((function(e){var t=e.content;D((function(e){return Object(d.a)(Object(d.a)({},e),{},{open:!0,content:t})}))}),[]);Object(j.useEffect)((function(){return G(),Object($.a)(window,"getBiddings",G),function(){return Object($.g)(window,"getBiddings",G)}}),[]);var X=function(e,t){g((function(e){return K(Object(d.a)(Object(d.a)({},e),{},{pageIndex:t-1}),C),Object(d.a)(Object(d.a)({},e),{},{pageIndex:t-1})}))},te=function(){W(null)},ae=Object(j.useMemo)((function(){return Object(B.jsx)(m.a,{config:Ie({showDialog:Q,history:M,path:t,totalResults:z,onPageChange:X,pageSize:O.pageSize,pageIndex:O.pageIndex}),data:Y||[],loading:A})}),[Y]),ne=Object(B.jsx)(Re,{defaultParams:Ye,setParams:_,setFilters:g,pageSize:O.pageSize,pageIndex:O.pageIndex,getNewTrulList:K,onRefetch:G});return T?Object(B.jsx)(Le.a,{message:T}):Object(B.jsxs)(o.a,{style:{gap:"10px",height:"100%"},children:[Object(B.jsxs)(o.a,{direction:"row",justifyContent:"end",children:[Object(B.jsx)(o.a,{children:Object(B.jsx)(c.a,{title:"Refresh",onClick:G,children:Object(B.jsx)(l.a,{className:A?"rotateIcon":void 0})})}),e&&Object(B.jsx)(o.a,{children:Object(B.jsx)(i.a,{"aria-describedby":"open-board-filters",variant:"outlined",onClick:function(e){W(e.currentTarget)},endIcon:Object(B.jsx)(f.a,{}),children:"Filters"})})]}),e?Object(B.jsx)(r.b,{open:!!U,PaperProps:{sx:{p:3}},id:"open-board-filters",onClose:te,anchorEl:U,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:ne}):ne,Object(B.jsx)(n.a,{sx:{height:"100%",overflow:"hidden"},children:ae}),Object(B.jsx)(v.Route,{path:t+"/newtrul/:loadId",component:ee.a}),Object(B.jsx)(v.Route,{path:t+"/:loadNumber",exact:!0,component:h.b}),Object(B.jsx)(v.Route,{path:t+"/:loadNumber/bid",component:q}),Object(B.jsx)(v.Route,{path:t+"/:loadNumber/bookNow",component:Z}),Object(B.jsx)(Pe.a,{onClose:J,config:S})]})}))},501:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return b}));var n=a(4),r=a(33),i=a(51),o=a(48),c=a.n(o),s=a(35),l=a(10),d=function(){return function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l.A,payload:{loading:!0}}),e.next=4,c.a.get("/api/warehouse");case 4:a=e.sent,n=a.data,200===a.status&&t({type:l.A,payload:{warehouses:n,loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e,t){return Object(i.a)(Object(r.a)().mark((function a(){var n;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.post("/api/warehouse",e);case 3:200===(n=a.sent).status&&(Object(s.a)(n.data.message||e._id?"Facility Updated":"Facility Added"),t&&t(n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))},b=function(e,t){return function(){var a=Object(i.a)(Object(r.a)().mark((function a(n){var i;return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.get("/api/warehouse/"+e);case 3:200===(i=a.sent).status&&(n({type:l.z,payload:{warehouseById:i.data}}),t&&t(i.data.data)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},j=function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("/api/warehouse/getLocation",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return function(){var t=Object(i.a)(Object(r.a)().mark((function t(a){var i,o,c;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:i=t.sent,o=i.status,c=i.data,a({type:l.pb,payload:{loading:!0}});try{200===o&&c.success?a({type:l.pb,payload:{loading:!1,location:Object(n.a)({},c)}}):c.success||(Object(s.a)(c.message,"error"),a({type:l.pb,payload:{loading:!1,location:{}}}))}catch(r){Object(s.a)(c.message,"error"),a({type:l.pb,payload:{loading:!1,location:{}}})}case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=26.ae2a3df1.chunk.js.map