(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[18],{1028:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.default=c},1038:function(e,t,n){"use strict";var a=n(1),o=n(4),r=n(0),c=n(102),i=n(233),s=n(186),l=n(196),d=n(328),u=n(188),b=n(58),j=n(240),m=n(199);const p=(e,t,n)=>{const a=e.keys[0];if(Array.isArray(t))t.forEach(((t,a)=>{n(((t,n)=>{a<=e.keys.length-1&&(0===a?Object.assign(t,n):t[e.up(e.keys[a])]=n)}),t)}));else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(o=e.keys,r=Object.keys(t),o.filter((e=>r.includes(e))))).forEach((o=>{if(-1!==e.keys.indexOf(o)){const r=t[o];void 0!==r&&n(((t,n)=>{a===o?Object.assign(t,n):t[e.up(o)]=n}),r)}}))}else"number"!==typeof t&&"string"!==typeof t||n(((e,t)=>{Object.assign(e,t)}),t);var o,r};function h(e){return e?"Level".concat(e):""}function f(e){return e.unstable_level>0&&e.container}function g(e){return function(t){return"var(--Grid-".concat(t,"Spacing").concat(h(e.unstable_level),")")}}function x(e){return function(t){return 0===e.unstable_level?"var(--Grid-".concat(t,"Spacing)"):"var(--Grid-".concat(t,"Spacing").concat(h(e.unstable_level-1),")")}}function O(e){return 0===e.unstable_level?"var(--Grid-columns)":"var(--Grid-columns".concat(h(e.unstable_level-1),")")}const v=e=>{let{theme:t,ownerState:n}=e;const a=g(n),o={};return p(t.breakpoints,n.gridSize,((e,t)=>{let r={};!0===t&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(r={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / ").concat(O(n)).concat(f(n)?" + ".concat(a("column")):"",")")}),e(o,r)})),o},C=e=>{let{theme:t,ownerState:n}=e;const a={};return p(t.breakpoints,n.gridOffset,((e,t)=>{let o={};"auto"===t&&(o={marginLeft:"auto"}),"number"===typeof t&&(o={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / ").concat(O(n),")")}),e(a,o)})),a},w=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=f(n)?{["--Grid-columns".concat(h(n.unstable_level))]:O(n)}:{"--Grid-columns":12};return p(t.breakpoints,n.columns,((e,t)=>{e(a,{["--Grid-columns".concat(h(n.unstable_level))]:t})})),a},y=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=x(n),o=f(n)?{["--Grid-rowSpacing".concat(h(n.unstable_level))]:a("row")}:{};return p(t.breakpoints,n.rowSpacing,((e,a)=>{var r;e(o,{["--Grid-rowSpacing".concat(h(n.unstable_level))]:"string"===typeof a?a:null==(r=t.spacing)?void 0:r.call(t,a)})})),o},k=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a=x(n),o=f(n)?{["--Grid-columnSpacing".concat(h(n.unstable_level))]:a("column")}:{};return p(t.breakpoints,n.columnSpacing,((e,a)=>{var r;e(o,{["--Grid-columnSpacing".concat(h(n.unstable_level))]:"string"===typeof a?a:null==(r=t.spacing)?void 0:r.call(t,a)})})),o},S=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const a={};return p(t.breakpoints,n.direction,((e,t)=>{e(a,{flexDirection:t})})),a},E=e=>{let{ownerState:t}=e;const n=g(t),o=x(t);return Object(a.a)({minWidth:0,boxSizing:"border-box"},t.container&&Object(a.a)({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},{margin:"calc(".concat(n("row")," / -2) calc(").concat(n("column")," / -2)")},t.disableEqualOverflow&&{margin:"calc(".concat(n("row")," * -1) 0px 0px calc(").concat(n("column")," * -1)")}),(!t.container||f(t))&&Object(a.a)({padding:"calc(".concat(o("row")," / 2) calc(").concat(o("column")," / 2)")},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:"".concat(o("row")," 0px 0px ").concat(o("column"))}))},A=e=>{const t=[];return Object.entries(e).forEach((e=>{let[n,a]=e;!1!==a&&void 0!==a&&t.push("grid-".concat(n,"-").concat(String(a)))})),t},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach((e=>{let[a,o]=e;n(o)&&t.push("spacing-".concat(a,"-").concat(String(o)))})),t}return[]},P=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map((e=>{let[t,n]=e;return"direction-".concat(t,"-").concat(n)})):["direction-xs-".concat(String(e))];var I=n(2);const T=["className","children","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow","unstable_level"],M=Object(m.a)(),z=Object(d.a)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>t.root});function F(e){return Object(u.a)({props:e,name:"MuiGrid",defaultTheme:M})}var D=n(10),_=n(12);const L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=z,useThemeProps:n=F,componentName:d="MuiGrid"}=e,u=r.createContext(void 0),m=t(w,k,y,v,S,E,C),p=r.forwardRef((function(e,t){var p,h,f,g,x,O,v,C;const w=Object(b.a)(),y=n(e),k=Object(j.a)(y),S=r.useContext(u),{className:E,children:M,columns:z=12,container:F=!1,component:D="div",direction:_="row",wrap:L="wrap",spacing:G=0,rowSpacing:N=G,columnSpacing:q=G,disableEqualOverflow:W,unstable_level:B=0}=k,$=Object(o.a)(k,T);let H=W;B&&void 0!==W&&(H=e.disableEqualOverflow);const U={},K={},V={};Object.entries($).forEach((e=>{let[t,n]=e;void 0!==w.breakpoints.values[t]?U[t]=n:void 0!==w.breakpoints.values[t.replace("Offset","")]?K[t.replace("Offset","")]=n:V[t]=n}));const J=null!=(p=e.columns)?p:B?void 0:z,Q=null!=(h=e.spacing)?h:B?void 0:G,X=null!=(f=null!=(g=e.rowSpacing)?g:e.spacing)?f:B?void 0:N,Y=null!=(x=null!=(O=e.columnSpacing)?O:e.spacing)?x:B?void 0:q,Z=Object(a.a)({},k,{level:B,columns:J,container:F,direction:_,wrap:L,spacing:Q,rowSpacing:X,columnSpacing:Y,gridSize:U,gridOffset:K,disableEqualOverflow:null!=(v=null!=(C=H)?C:S)&&v,parentDisableEqualOverflow:S}),ee=((e,t)=>{const{container:n,direction:a,spacing:o,wrap:r,gridSize:c}=e,l={root:["root",n&&"container","wrap"!==r&&"wrap-xs-".concat(String(r)),...P(a),...A(c),...n?R(o,t.breakpoints.keys[0]):[]]};return Object(i.a)(l,(e=>Object(s.a)(d,e)),{})})(Z,w);let te=Object(I.jsx)(m,Object(a.a)({ref:t,as:D,ownerState:Z,className:Object(c.a)(ee.root,E)},V,{children:r.Children.map(M,(e=>{var t;return r.isValidElement(e)&&Object(l.a)(e,["Grid"])?r.cloneElement(e,{unstable_level:null!=(t=e.props.unstable_level)?t:B+1}):e}))}));return void 0!==H&&H!==(null!=S&&S)&&(te=Object(I.jsx)(u.Provider,{value:H,children:te})),te}));return p.muiName="Grid",p}({createStyledComponent:Object(D.a)("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,t)=>t.root}),componentName:"MuiGrid2",useThemeProps:e=>Object(_.a)({props:e,name:"MuiGrid2"})});t.a=L},1135:function(e,t,n){"use strict";n.r(t);var a=n(201),o=n(1036),r=n(0),c=n.n(r),i=n(72),s=n(13),l=n(409),d=n(275),u=n(248),b=n(90),j=n(74),m=n(354),p=n.n(m),h=n(2);const f=e=>{let{path:t,editOpCosts:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columnsBuilder:e=>{let{data:t,columns:n}=e,a=6;return t.forEach((e=>{const{additionalCosts:t}=e;for(let o in t){n.findIndex((e=>e.id===o))<0&&(n.splice(a,0,{id:o,label:o,valueFormatter:(e,t)=>Object(b.e)(t.additionalCosts[o]||0)}),a++)}})),n},columns:[{id:"ownerOperatorId",label:"Owner Operator",valueFormatter(e){const{firstName:t,lastName:n,name:a}=e||{};return a||t+" "+(n||"")}},{id:"lease",label:"Lease (%)",valueFormatter:e=>e+"%"},{id:"truckInsurance",label:"Truck Insurance",valueFormatter:e=>Object(b.e)(e)},{id:"trailerInsurance",label:"Trailer Insurance",valueFormatter:e=>Object(b.e)(e)},{id:"eld",label:"ELD",valueFormatter:e=>Object(b.e)(e)},{id:"parking",label:"Parking",valueFormatter:e=>Object(b.e)(e)},{id:"total",label:"Total",valueFormatter:e=>Object(b.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(h.jsx)(u.a,{color:"primary",component:i.b,to:t+j.g+"/".concat(n._id),children:Object(h.jsx)(p.a,{})})}}]}},g=e=>{let{path:t,editEfsTransactionRates:n}=e;return{showRefresh:!0,rowCellPadding:"normal",columns:[{id:"AmountRange",label:"Amount Range",renderer:e=>{let{row:t}=e;const{maxAmount:n,minAmount:a}=t||{};return"$".concat(a,"-").concat(n)}},{id:"transactionCost",label:"Transaction Cost",valueFormatter:e=>Object(b.e)(e)},{id:"actions",visible:n,renderer:e=>{let{row:n}=e;return Object(h.jsx)(u.a,{color:"primary",component:i.b,to:t+j.a+"/".concat(n._id),children:Object(h.jsx)(p.a,{})})}}]}};var x=n(288),O=n(98),v=n(200),C=n(1152),w=n(269),y=n(256),k=n(266),S=n(28),E=n(400);const A=e=>{let{id:t,data:n,efsData:a}=e;const o=Object(s.useHistory)(),{mutation:c,loading:i}=Object(k.a)(O.h+"/".concat(t)),{mutation:l,loading:d}=Object(k.a)(O.h),[u,m]=Object(r.useState)({maxAmount:null===n||void 0===n?void 0:n.maxAmount,minAmount:null===n||void 0===n?void 0:n.minAmount,transactionCost:null===n||void 0===n?void 0:n.transactionCost}),[p,f]=Object(r.useState)({}),g=e=>{let{name:t,value:n}=e;m({...u,[t]:n}),f({...p,[t]:""})};const x=e=>{let{success:t,data:n}=e;t?(Object(S.a)(n.message),Object(b.p)("refetchEfsTransactionCosts"),o.replace(j.b+"/serviceCosts")):Object(S.a)(n.message,"error")};return Object(h.jsxs)(v.a,{container:!0,spacing:3,component:"form",sx:{width:{xs:"auto"}},onSubmit:e=>{e.preventDefault();const{valid:n,errors:o}=function(e){let{minAmount:t,maxAmount:n,transactionCost:a}=e,o=!0,r={};return t||(o=!1,r.minAmount="Enter Minimum Amount"),n||(o=!1,r.maxAmount="Enter Maximum Amount"),a||(o=!1,r.transactionCost="Enter Transaction Cost"),{valid:o,errors:r}}(u);if(!n)return f(o);!function(e,t){for(const n of a)if(e>=n.minAmount&&e<=n.maxAmount||t>=n.minAmount&&t<=n.maxAmount||e<=n.minAmount&&t>=n.maxAmount)return console.log("Range (".concat(e,"-").concat(t,") overlaps with existing range (").concat(n.minAmount,"-").concat(n.maxAmount,").")),!1;return console.log("Range (".concat(e,"-").concat(t,") is valid and does not overlap.")),!0}(u.minAmount,u.maxAmount)?Object(S.a)("This range conflicts with the previous range","error"):t?c(u,"put",x):l(u,null,x)},children:[Object(h.jsx)(v.a,{item:!0,xs:12,children:Object(h.jsx)(y.d,{name:"minAmount",value:u.minAmount,onChange:g,label:"Minimum Amount",errors:p,type:"number",autoFocus:!0,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(v.a,{item:!0,xs:12,children:Object(h.jsx)(y.d,{name:"maxAmount",value:u.maxAmount,onChange:g,label:"Maximum  Amount",errors:p,type:"number",InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(v.a,{item:!0,xs:12,children:Object(h.jsx)(y.d,{name:"transactionCost",value:u.transactionCost,onChange:g,label:"Transaction Cost",errors:p,type:"number",InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(v.a,{xs:12,item:!0,children:Object(h.jsx)(y.e,{fullWidth:!0,isLoading:i||d,type:"submit",children:i||d?t?"Updating...":"Saving...":t?"Update":"Save"})})]})};var R=e=>{const{match:{params:{id:t}}={},data:n}=e,{data:a,loading:o}=Object(E.a)(O.h+"/".concat(t),{lazyFetchCondition:()=>"new"!==t});return o?Object(h.jsx)(y.c,{}):Object(h.jsx)(w.a,{config:{title:"Edit EFS Transaction Cost",preventBackdropClick:!0,maxWidth:"sm"},children:Object(h.jsx)(A,{id:"new"===t?null:t,data:null===a||void 0===a?void 0:a.data,efsData:n})})},P=n(57),I=n(1028),T=n.n(I),M=n(1168),z=n(88),F=n(1041),D=n(10),_=n(235),L=n(299);const G=Object(D.a)((e=>Object(h.jsx)(F.a,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(_.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function N(e){let{data:t=[],onRefetch:n}=e;const[i,s]=c.a.useState(null),l=Boolean(i),d=()=>{s(null)},u=e=>{let{success:t}=e;t&&n&&n(),d()},b=e=>{Object(L.c)({message:Object(h.jsxs)(a.a,{children:[Object(h.jsx)(z.a,{variant:"h6",children:"Are you sure you want to delete column ".concat(e,"?")}),Object(h.jsx)(z.a,{variant:"subtitle2",color:"text.secondary",align:"center",sx:{mt:2},children:"This will remove the column from every record."})]}),uri:O.j,afterSuccessCb:u,body:{key:e}})()},j=Object(r.useMemo)((()=>{const e=[];return t.forEach((t=>{const{additionalCosts:n}=t||{};for(let a in n)e.includes(a)||e.push(a)})),e.map((e=>Object(h.jsx)(M.a,{onClick:b.bind(this,e),disableRipple:!0,children:e},e)))}),[t]);return Object(h.jsxs)(a.a,{sx:{display:j.length?"flex":"none"},children:[Object(h.jsx)(o.a,{id:"demo-customized-button","aria-controls":l?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":l?"true":void 0,variant:"contained",disableElevation:!0,color:"error",onClick:e=>{s(e.currentTarget)},endIcon:Object(h.jsx)(T.a,{}),children:"Delete"}),Object(h.jsx)(G,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:i,open:l,onClose:d,children:j})]})}const q=e=>{let{visible:t,onRefetch:n,data:c,showAlert:i,onCloseAlert:s}=e;const[l,d]=Object(r.useState)(""),u=Object(r.useRef)(null),{mutation:b,loading:j}=Object(k.a)(O.d),m=Object(r.useCallback)((e=>{e.preventDefault();let t=!0;if(c.forEach((e=>{const{additionalCosts:n}=e||{};n.hasOwnProperty(l)&&(t=!1)})),!t)return u.current.focus(),i({message:l+" is already present as a Cost. Please check the Category provided."});b({category:l},"post").then((e=>{let{success:t,data:a}=e;s(),t?(Object(S.a)(a.message),n(),d("")):i({message:a.message})}))}),[l,b,n]);return t?Object(h.jsxs)(a.a,{sx:{display:"flex",gap:1.5},component:"form",onSubmit:m,children:[Object(h.jsx)(y.d,{onBlur:e=>{let{value:t}=e;d(t.trim())},isCapitalize:!0,label:"Add Category",value:l,onChange:e=>{let{value:t}=e;return d(t)},inputRef:u}),Object(h.jsx)(o.a,{variant:"contained",type:"submit",disabled:j||l.length<3,children:"Add"}),Object(h.jsx)(N,{data:c,onRefetch:n})]}):null};var W=Object(r.memo)(q),B=n(1038);const $=e=>{let{id:t,data:n}=e;const[a,o]=Object(r.useState)(n),c=Object(s.useHistory)(),[i,l]=Object(r.useState)(n.additionalCosts),{mutation:d,loading:u}=Object(k.a)(O.i+"/".concat(t)),{additionalCosts:m}=n,p=Object(r.useMemo)((()=>{const e=[];for(let t in m)e.push(Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:t,value:i[t],type:"number",label:t,onChange:f,onBlur:g,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})},t));return e}),[i,m]);function f(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n})))}function g(e){let{name:t,value:n}=e;l((e=>({...e,[t]:n||0})))}const x=e=>{let{name:t,value:n}=e;o({...a,[t]:n})};function v(e){let{name:t,value:n}=e;o({...a,[t]:parseFloat(n)||0})}return Object(h.jsxs)(B.a,{spacing:2,container:!0,sx:{maxWidth:{xs:"auto",sm:"auto"}},component:"form",onSubmit:e=>{e.preventDefault();const{lease:t,truckInsurance:n,trailerInsurance:o,eld:r,parking:s}=a,l=Object(b.k)({lease:t,truckInsurance:n,trailerInsurance:o,eld:r,parking:s,additionalCosts:i});d(l,"put").then((e=>{let{success:t,data:n}=e;t?(c.replace(j.b+"/serviceCosts"),Object(S.a)(n.message),Object(b.p)("refetchServiceCosts")):Object(S.a)(n.message,"error")}))},children:[Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:"lease",value:null===a||void 0===a?void 0:a.lease,type:"number",label:"Lease (%)",autoFocus:!0,onChange:x,onBlur:v,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"%"})}})}),Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:"truckInsurance",value:null===a||void 0===a?void 0:a.truckInsurance,type:"number",label:"Truck Insurance",onChange:x,onBlur:v,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:"trailerInsurance",value:null===a||void 0===a?void 0:a.trailerInsurance,type:"number",label:"Trailer Insurance",onChange:x,onBlur:v,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:"eld",value:null===a||void 0===a?void 0:a.eld,type:"number",label:"ELD",onChange:x,onBlur:v,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),Object(h.jsx)(B.a,{xs:12,md:6,children:Object(h.jsx)(y.d,{name:"parking",value:null===a||void 0===a?void 0:a.parking,type:"number",label:"Parking",onChange:x,onBlur:v,InputProps:{startAdornment:Object(h.jsx)(C.a,{position:"start",children:"$"})}})}),p,Object(h.jsx)(B.a,{xs:12,children:Object(h.jsx)(y.e,{type:"submit",fullWidth:!0,isLoading:u,loadingText:"Updating...",children:"Update"})})]})};var H=e=>{let{match:t}=e;const{params:{id:n}}=t,{data:a,loading:o}=Object(x.a)(O.i+"/".concat(n));return o?Object(h.jsx)(y.c,{}):Object(h.jsx)(w.a,{config:{title:"Edit Service Cost",preventBackdropClick:!0,maxWidth:"sm"},children:Object(h.jsx)($,{id:n,data:(null===a||void 0===a?void 0:a.data)||{}})})};t.default=e=>{const{viewEfsTransactionRates:t,editEfsTransactionRates:n,addEfsTransactionRates:c,viewOpCosts:u,addOpCosts:m,editOpCosts:p}=P.a.getUserPermissionsByDashboardId("serviceCosts"),{match:{path:v}={}}=e,[C,w]=Object(r.useState)({open:!1,message:"",severity:"error"}),{data:k={},loading:S,refetch:E,isRefetching:A}=Object(x.a)(O.i),{data:I={},loading:T,refetch:M,isRefetching:z}=Object(x.a)(O.h),F=Object(r.useMemo)((()=>c&&Object(h.jsx)(o.a,{component:i.b,to:v+"/efs/new",variant:"contained",children:"Add"})),[c,v]);Object(r.useEffect)((()=>(Object(b.a)(window,"refetchEfsTransactionCosts",M),Object(b.a)(window,"refetchServiceCosts",E),()=>{Object(b.m)(window,"refetchEfsTransactionCosts",M),Object(b.m)(window,"refetchServiceCosts",M)})),[]);const D=Object(r.useCallback)((e=>{let{message:t,severity:n="error"}=e;w({open:!0,message:t,severity:n})}),[]),_=Object(r.useCallback)((()=>{w({...C,open:!1})}),[C]);return Object(h.jsxs)(a.a,{sx:{height:"100%"},className:"dashboardRoot",children:[Object(h.jsx)(y.a,{config:C,onClose:_,inStyles:{width:"fit-content",margin:"auto",mt:1}}),u&&Object(h.jsx)(l.a,{title:"Owner Operator Costs",sx:{mt:2},children:Object(h.jsx)(d.a,{data:k.data,config:f({path:v,editOpCosts:p}),onRefetch:E,loading:S,actions:Object(h.jsx)(W,{visible:m,onRefetch:E,data:k.data,showAlert:D,onCloseAlert:_}),isRefetching:A})}),t&&Object(h.jsx)(l.a,{title:"EFS Transaction Costs",sx:{mt:2},children:Object(h.jsx)(d.a,{data:I.data,config:g({path:v,editEfsTransactionRates:n}),isRefetching:z,onRefetch:M,loading:T,actions:F})}),Object(h.jsx)(s.Route,{path:v+"".concat(j.a,"/:id"),render:e=>Object(h.jsx)(R,{...e,data:I.data})}),Object(h.jsx)(s.Route,{path:v+"".concat(j.g,"/:id"),component:H})]})}},266:function(e,t,n){"use strict";var a=n(0),o=n(48),r=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,s]=Object(a.useState)(!1);return{mutation:async function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;c.queryParams&&(d=d+"?"+Object(r.n)(c.queryParams)),s(!0),i||(i="post");const u=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(i.toLowerCase());if(u)return u({uri:d,callback:t,body:a,showTriggers:n}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{s(!1)}))},loading:i}}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(367),o=n(236),r=n(0),c=n.n(r),i=n(10),s=n(34),l=n(575),d=n(576),u=n(683),b=n(248),j=n(278),m=n.n(j),p=n(13),h=n(90),f=n(74),g=n(2);const x=Object(i.a)(l.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),O=e=>{const{children:t,onClose:n,showClose:a,titleStyles:o,...r}=e;return Object(g.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...o},...r,children:[a?Object(g.jsx)(b.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(g.jsx)(m.a,{})}):null,t]})};function v(e){const{config:t={},children:n,closeCallback:i}=e,{title:l="",closeUrl:d="",showClose:b=!0,paperProps:j={},preventBackdropClick:m=!1,titleStyles:v={},maxWidth:C="md"}=t,[w,y]=c.a.useState(!1),k=Object(s.a)(),S=Object(o.a)(k.breakpoints.down("sm")),E=function(e){m&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||y(!1)};c.a.useEffect((()=>(y(!0),Object(h.a)(window,"closeModal",E),()=>Object(h.m)(window,"closeModal",E))),[]);const A=Object(r.useMemo)((()=>c.a.forwardRef((function(e,t){const n=Object(p.useHistory)();return Object(g.jsx)(a.a,{ref:t,...e,onExited:()=>i?i():d?n.push(d||f.b):n.goBack()})}))),[]);return Object(g.jsxs)(x,{onClose:E,"aria-labelledby":l||"customized-dialog-title",open:w,maxWidth:C,TransitionComponent:A,PaperProps:j,fullScreen:S,children:[l&&Object(g.jsx)(O,{id:l||"customized-dialog-title",onClose:E,showClose:b,titleStyles:v,children:l}),Object(g.jsx)(u.a,{dividers:!0,sx:{borderTop:"none"},children:n})]})}},273:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),o=n(1036),r=n(575),c=n(1043),i=n(683),s=n(576),l=n(237),d=n(2);const u=a.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function b(e){const{open:t=!1,config:n,onClose:a,preventBackdropClose:l=!1,className:b}=e,{title:j,onOk:m,okText:p="Save",content:h,onCancel:f}=n,g=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||a()};return Object(d.jsx)("div",{children:Object(d.jsxs)(r.a,{className:b,open:t,TransitionComponent:u,onClose:g,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof j?j({...n}):Object(d.jsx)(s.a,{sx:{fontWeight:550},children:j}),Object(d.jsx)(i.a,{children:"function"===typeof h?h({config:n}):h}),Object(d.jsxs)(c.a,{children:["function"===typeof f?f({config:n,onClose:a}):Object(d.jsx)(o.a,{variant:"outlined",onClick:g,children:"Cancel"}),"function"===typeof p?p({config:n,onOk:m}):Object(d.jsx)(o.a,{variant:"contained",color:p.equalsIgnoreCase("delete")?"error":"primary",onClick:m,children:p})]})]})})}},275:function(e,t,n){"use strict";var a=n(201),o=n(247),r=n(1175),c=n(1164),i=n(1176),s=n(526),l=n(280),d=n.n(l),u=n(1174),b=n(1173),j=n(1040),m=n(200),p=n(88),h=n(1137),f=n(248),g=n(1172),x=n(1148),O=n(295),v=n.n(O),C=n(1171),w=n(257),y=n.n(w),k=n(287),S=n.n(k),E=n(0),A=n.n(E),R=n(13),P=n(1125),I=n(10),T=n(256),M=n(2);const z=Object(I.a)(P.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),F=Object(I.a)(s.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var D=e=>{let{data:t=[],onPageChange:n,page:a=1,count:o=0,limit:r=1,onLimitChange:c,isLoading:i}=e;const[l,d]=Object(E.useState)(0);Object(E.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(M.jsxs)(F,{direction:"row",alignItems:"center",children:[Object(M.jsxs)(p.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",o," entries"]}),Object(M.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(M.jsx)(T.h,{disabled:i,name:"pageSize",label:"",value:r,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof c&&c({value:t})}}),Object(M.jsx)(z,{disabled:i,count:Math.ceil(o/r),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},_=n(277),L=n(273),G=n(90),N=n(276);const q=Object(I.a)(C.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),W=Object(I.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function B(e){let{columns:t=[],config:n={},role:a,handleRequestSort:o,hasSort:r}=e;const{headerCellSx:c={},hasDelete:i,sortField:s,sortOrder:l,showCheckbox:d}=n,u=Object(E.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:i="",visible:d=!0,sort:u=!1}=e||{};return(y.a.isFunction(d)?d({column:e,role:a}):d)?Object(M.jsx)(q,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...c},children:r&&u?Object(M.jsx)(x.a,{onClick:e=>o(e,i),active:i===s,direction:l,sx:{...c},children:n}):n},i||t):null}))),[t,c]);return d&&u.unshift(Object(M.jsx)(q,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...c}},"checkbox-header")),Object(M.jsxs)(g.a,{children:[u,i&&Object(M.jsx)(q,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...c}})]})}const $=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:o,handleDelete:r,...c}=e;return(n||[]).map(((e,n)=>{const{dataKey:i=""}=a;return i&&(e=e[i]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:o,rowIndex:r,handleDelete:c,hasDeletePermission:i,checkboxKey:s,...l}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:b,rowStyleCb:j,showCheckbox:m=!1,rowCellSx:p={}}=a,{role:x,onCheckboxChange:O,checkboxes:v}=l;let C={};j&&(C=j({row:t})||{});const w=Object(M.jsx)(q,{sx:{},padding:"none",component:"th",scope:"row",children:Object(M.jsx)(N.a,{title:"Delete",placement:"top",children:Object(M.jsx)(f.a,{onClick:c.bind(void 0,t._id,t),disabled:!i,children:Object(M.jsx)(W,{color:i?"error":"disabled"})})})}),k=n.map(((e,n)=>{const{id:a="",renderer:o,emptyState:c="--",valueFormatter:i,visible:s=!0,cellPadding:l,isCostCell:d}=e||{};if(!(y.a.isFunction(s)?s({column:e,role:x}):s))return null;let b;return b=d?t[a]?Object(G.e)(t[a]||""):c:i&&y.a.isFunction(i)?i(t[a],t):y.a.isFunction(o)?o({row:t,role:x},r)||c:y.a.get(t,a,c)||c,Object(M.jsx)(q,{padding:l||u||"normal",sx:p,component:"th",scope:"row",children:b},a+n)}));if(m){if(!s)throw new Error("Checkbox key not provided");const e=v.indexOf(t[s])>-1;k.unshift(Object(M.jsx)(q,{onClick:O.bind(void 0,t),sx:p,children:Object(M.jsx)(h.a,{checked:e})},"checkbox-".concat(r)))}return Object(M.jsxs)(g.a,{hover:!!b,onClick:e=>{e.preventDefault(),y.a.isFunction(o)&&o(t)},sx:b?{cursor:"pointer",...C}:{...C},children:[k,d&&w]},r)})({row:e,columns:t,config:a,handleRowClick:o,rowIndex:n,handleDelete:r,...c})}))},H=e=>{let{config:t={},data:n=[],history:l,loading:h=!1,onRefetch:g,isRefetching:x,actions:O,isPaginationLoading:v=!1,...C}=e;n=n||[];const{onCheckboxChange:w,checkboxes:k,checkboxKey:R}=C,[P,I]=Object(E.useState)({}),[T,z]=Object(E.useState)({open:!1,config:{}}),{columns:F=[],columnsBuilder:N,onRowClick:q,hasOnClickUrl:W=!0,onPageChange:H,page:U,count:K,limit:V,onPageSizeChange:J,onLimitChange:Q,size:X="medium",emptyMessage:Y="",onRowClickDataCallback:Z,showRefresh:ee=!1,onDelete:te,deleteMessage:ne,deletePermissions:ae=[],containerHeight:oe="",sortField:re,sortOrder:ce="asc",handleSortChange:ie,hasSort:se=!1}=t,{role:le=""}=Object(G.h)().user,de="boolean"===typeof ae?ae:ae.indexOf(le)>-1||!1,ue=A.a.useRef([]),be="function"===typeof N?N({data:n,columns:F}):F,je=Array.isArray(n)&&n.length,me=Object(E.useMemo)((()=>O&&A.a.isValidElement(O)?O:Object(M.jsx)(M.Fragment,{})),[O]),pe=e=>{if(W&&q){const t=q(e);Z&&(e=Z(e)),l.push(t,e)}else q&&q(e)},he=(e,t)=>{ie&&ie({field:t,order:re===t&&"asc"===ce?"desc":"asc"})},fe=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(M.jsxs)(m.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(M.jsx)(S.a,{color:"error"}),Object(M.jsx)(p.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,ge,{row:t}),content:()=>Object(M.jsx)(j.a,{sx:{color:"#000"},children:y.a.isFunction(ne)?ne({row:t}):ne||"Are you sure you want to delete the record?"})};z({...T,open:!0,config:a})};function ge(){z({...T,open:!1})}const xe=Object(E.useMemo)((()=>je?Object(M.jsxs)(E.Fragment,{children:[Object(M.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(M.jsx)(B,{columns:be,config:t,role:le,handleRequestSort:he,hasSort:se})}),Object(M.jsx)(u.a,{children:Object(M.jsx)($,{role:le,columns:be,data:n,config:t,checkboxes:k,checkboxKey:R,handleRowClick:pe,handleDelete:fe,onCheckboxChange:w,hasDeletePermission:de})})]}):Object(M.jsx)("tbody",{style:{height:300},children:Object(M.jsx)("tr",{children:Object(M.jsx)("td",{style:{textAlign:"center"},children:Object(M.jsx)("h4",{children:Y||"No records found"})})})})),[n,t,k]);return Object(E.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.current)&&void 0!==e&&e.table){const e=ue.current.table.offsetHeight;I({...P,height:e>200?e:void 0})}}),[]),Object(E.useEffect)((()=>{var e;(v||x)&&null!==(e=ue.current)&&void 0!==e&&e.tableContainer&&ue.current.tableContainer.scrollTo(0,0)}),[v,x]),Object(M.jsxs)(a.a,{className:"enhanced-table",sx:{height:je&&!h?oe||"95%":"auto"},children:[Object(M.jsxs)(s.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[me,ee&&Object(M.jsx)(f.a,{title:"Refresh",onClick:g,children:Object(M.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(M.jsxs)(r.a,{component:o.a,className:"tableContainer",ref:e=>ue.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:je&&!h?"calc(100% - 80px)":"auto",position:"relative"},children:[h?(()=>{const e=window.innerHeight-180,t=(P.height?P.height>e?e:P.height:e)||e;return Object(M.jsx)(m.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(M.jsx)(m.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(M.jsx)(_.a,{})})})})():Object(M.jsx)(i.a,{ref:e=>ue.current.table=e,"aria-label":"caption table",size:X,stickyHeader:!0,children:xe}),Object(M.jsx)(c.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||x||!1,children:Object(M.jsx)(_.a,{sx:{color:"inherit"}})})]}),!h&&n.length>0&&Object(M.jsx)(D,{data:n,onPageChange:H,page:U,count:K,limit:V,onLimitChange:Q||J,isLoading:x||v}),Object(M.jsx)(L.a,{className:"enhancedTable_dialog",open:T.open,config:T.config,onClose:ge})]})};t.a=Object(R.withRouter)(Object(E.memo)(H))},278:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=c},280:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.default=c},288:function(e,t,n){"use strict";var a=n(0),o=n(48),r=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[c,i]=Object(a.useState)(void 0),[s,l]=Object(a.useState)(!1),[d,u]=Object(a.useState)(null),[b,j]=Object(a.useState)(!1);function m(){let a=e;n.queryParams&&(a="".concat(a,"?").concat(Object(r.n)(n.queryParams))),Object(o.b)({uri:a,callback:t,showTriggers:!1}).then((e=>{e.data&&i(e.data)})).finally((()=>{l(!1),j(!1)}))}return Object(a.useEffect)((()=>{l(!0),u(null),m()}),[e]),{data:c,loading:s,error:d,refetch:function(){j(!0),m()},isRefetching:b}}},354:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(91)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.default=c},367:function(e,t,n){"use strict";var a=n(1),o=n(4),r=n(0),c=n(135),i=n(34),s=n(41),l=n(24),d=n(2);const u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b={entering:{transform:"none"},entered:{transform:"none"}},j=r.forwardRef((function(e,t){const n=Object(i.a)(),j={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:m,appear:p=!0,children:h,easing:f,in:g,onEnter:x,onEntered:O,onEntering:v,onExit:C,onExited:w,onExiting:y,style:k,timeout:S=j,TransitionComponent:E=c.a}=e,A=Object(o.a)(e,u),R=r.useRef(null),P=Object(l.a)(R,h.ref,t),I=e=>t=>{if(e){const n=R.current;void 0===t?e(n):e(n,t)}},T=I(v),M=I(((e,t)=>{Object(s.b)(e);const a=Object(s.a)({style:k,timeout:S,easing:f},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),x&&x(e,t)})),z=I(O),F=I(y),D=I((e=>{const t=Object(s.a)({style:k,timeout:S,easing:f},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),C&&C(e)})),_=I(w);return Object(d.jsx)(E,Object(a.a)({appear:p,in:g,nodeRef:R,onEnter:M,onEntered:z,onEntering:T,onExit:D,onExited:_,onExiting:F,addEndListener:e=>{m&&m(R.current,e)},timeout:S},A,{children:(e,t)=>r.cloneElement(h,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden"},b[e],k,h.props.style),ref:P},t))}))}));t.a=j},400:function(e,t,n){"use strict";var a=n(0),o=n(48),r=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{showPagination:c=!0,page:i,limit:s,lazyFetchCondition:l}=t,[d,u]=Object(a.useState)(void 0),[b,j]=Object(a.useState)({page:i||1,limit:s||10}),[m,p]=Object(a.useState)(!1),[h,f]=Object(a.useState)(!1),[g,x]=Object(a.useState)(!1);function O(a){const{page:i,limit:s}=a||{};let l=e;c&&(i&&s&&j({page:i,limit:s}),l="".concat(l,"?page=").concat(i||b.page,"&limit=").concat(s||b.limit)),t.queryParams&&(l="".concat(l,"&").concat(Object(r.n)(t.queryParams))),Object(o.b)({uri:l,callback:n,showTriggers:!1}).then((e=>{e.data&&u(e.data)})).finally((()=>{p(!1),f(!1),x(!1)}))}const v=()=>{p(!0),O()};return Object(a.useEffect)((()=>{("function"===typeof l?l():l)&&v()}),[]),{lazyFetch:v,data:d,loading:m,refetch:function(){f(!0),O({page:i,limit:b.limit})},isRefetching:h,onLimitChange:e=>{let{value:t}=e;x(!0),O({limit:t,page:b.page})},onPageChange:(e,t)=>{x(!0),O({page:t,limit:b.limit})},isPaginationLoading:g,...b}}},409:function(e,t,n){"use strict";var a=n(88),o=n(247),r=n(10),c=n(11),i=n.n(c),s=n(2);const l=Object(r.a)(o.a)((e=>{let{}=e;return{padding:"8px 16px"}})),d=e=>{let{title:t,children:n,sx:o={},titleSx:r={},variant:c="outlined"}=e;return Object(s.jsxs)(l,{elevation:0,variant:c,sx:o,children:[Object(s.jsx)(a.a,{variant:"h6",fontWeight:600,sx:r,children:t}),n]})};t.a=d,d.proptype={title:i.a.string.isRequired,children:i.a.element.isRequired,placement:i.a.oneOf(["right","left","bottom","top"]),sx:i.a.object,titleSx:i.a.object,variant:i.a.oneOf(["outlined","elevation"])}}}]);
//# sourceMappingURL=18.35f331e4.chunk.js.map