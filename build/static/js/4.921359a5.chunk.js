(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{1019:function(e,t,n){"use strict";var a=n(102),r=n(4),o=n(12),i=n(11),c=n(489),s=n(1133),l=n(955),u=n(1118),d=n(1137),b=n(1127),j=n(1),f=n(2),p=["title","options","defaultValue"],O=function(e){var t=e.name,n=e.value,a=e.handleChange,r=e.radioTitle,o=e.options,i=void 0===o?[]:o,p=e.labelPlacement,O=void 0===p?"end":p,m=e.className,v=e.defaultValue,h=e.disabled,x=void 0!==h&&h,g=e.displayAsRow,y=void 0===g||g,w=e.classNameGrp,C=void 0===w?"":w,D=[];return i.forEach((function(t,n){var a=t.label,r=void 0===a?"":a,o=t.value,i=t.info,c=t.tooltipText,s=void 0===c?"":c,l=t.shouldDisplay,p=void 0===l||l,v=t.disabled,h=void 0!==v&&v,g=t.labelClassName,y=void 0===g?"":g,w=t.labelSx,C=void 0===w?{}:w;if(p&&"function"===p&&!p(e))return;D.push(Object(f.jsxs)(j.Fragment,{children:[Object(f.jsx)(u.a,{title:s,arrow:!0,children:Object(f.jsx)(d.a,{control:Object(f.jsx)(b.a,{}),label:r,disabled:x||h,value:o,labelPlacement:O,className:y?"".concat(y," ").concat(m):m,role:"radio",componentsProps:{typography:{sx:C}}})}),i&&Object(f.jsx)("span",{className:"radioInfo",children:i})]},n))})),Object(f.jsxs)(c.a,{component:"fieldset",children:[Object(f.jsx)(l.a,{component:"legend",children:r}),Object(f.jsx)(s.a,{"aria-label":r,name:t,value:n,onChange:a,row:y,defaultValue:v,className:C,children:D})]})},m=Object(j.memo)(O);t.a=function(e){var t=e.config,n=void 0===t?{}:t,c=e.onChange,s=e.containerSx,l=e.parentValue,u=n.title,d=n.options,b=void 0===d?[]:d,O=n.defaultValue,v=void 0===O?"":O,h=Object(i.a)(n,p),x=Object(j.useState)(v),g=Object(o.a)(x,2),y=g[0],w=g[1];return Object(f.jsx)(a.a,{container:!0,sx:s,children:Object(f.jsx)(m,Object(r.a)({handleChange:function(e){var t=e.target,n=void 0===t?{}:t,a=n.name,r=n.value,o=n.type;w(r),c&&c({value:r,name:a,type:o})},value:l||y,radioTitle:u,options:b},h))})}},1020:function(e,t,n){"use strict";var a=n(1011),r=n(319),o=n(483),i=n(487),c=n(486),s=n(1049),l=n.n(s),u=n(12),d=n(1040),b=n(103),j=n.n(b),f=n(1021),p=n(1041),O=n(1031),m=n(1046),v=n(1119),h=n(1120),x=(n(1047),n(1048),n(1)),g=(n(1024),n(2)),y=[{label:"Today",isSelected:function(){return!1},range:function(){return{startDate:Object(f.default)(new Date),endDate:Object(p.default)(new Date)}}},{label:"This Week",isSelected:function(){return!1},range:function(){return{startDate:Object(O.default)(new Date),endDate:Object(p.default)(new Date)}}},{label:"This Month",isSelected:function(){return!1},range:function(){return{startDate:Object(m.default)(new Date),endDate:Object(p.default)(new Date)}}},{label:"This Quarter",isSelected:function(){return!1},range:function(){return{startDate:Object(v.a)(new Date),endDate:Object(p.default)(new Date)}}},{label:"This Year",isSelected:function(){return!1},range:function(){return{startDate:Object(h.a)(new Date),endDate:Object(p.default)(new Date)}}}],w=function(e,t){return j()(e).format("MM/DD/YYYY")+" - "+j()(t).format("MM/DD/YYYY")};t.a=function(e){e.value;var t=e.onChange,n=e.label,s=e.name,b=Object(x.useState)(!1),j=Object(u.a)(b,2),f=j[0],p=j[1],O=Object(x.useState)(null),m=Object(u.a)(O,2),v=m[0],h=m[1],C=f&&Boolean(v)?"transition-popper":void 0,D=Object(x.useState)({startDate:new Date,endDate:new Date,key:"selection"}),R=Object(u.a)(D,2),S=R[0],_=R[1],N=Object(x.useState)(new Date),k=Object(u.a)(N,2),P=(k[0],k[1]),I=Object(x.useState)(new Date),Y=Object(u.a)(I,2),L=(Y[0],Y[1]),T=Object(x.useState)(w()),z=Object(u.a)(T,2),M=z[0],A=z[1];var E=function(e){h(e.currentTarget),p(!f)};return Object(g.jsxs)(x.Fragment,{children:[Object(g.jsx)(o.a,{name:s,value:M,label:n,size:"small",InputProps:{endAdornment:Object(g.jsx)(i.a,{position:"end",children:Object(g.jsx)(c.a,{"aria-label":"toggle Date range picker",onClick:E,edge:"end","aria-describedby":C,children:Object(g.jsx)(l.a,{})})})},readOnly:!0}),Object(g.jsx)(a.b,{id:C,open:f,anchorEl:v,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(g.jsx)(r.a,{sx:{p:1,bgcolor:"background.paper","&.rdrStaticRangeLabel":{fontSize:"14px!important"}},children:Object(g.jsx)(d.DateRangePicker,{ranges:[S],onChange:function(e){var n=e.selection,a=void 0===n?{}:n,r=a.startDate,o=a.endDate;P((function(){return r})),L((function(){return o})),A(w(r,o)),_({startDate:r,endDate:o,key:"selection"}),t&&t({name:s,value:{startDate:r,endDate:o}})},className:"basePicker",staticRanges:y})})})]})}},1024:function(e,t,n){},1104:function(e,t,n){"use strict";var a=n(13);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(70)),o=n(2),i=(0,r.default)((0,o.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.default=i},1105:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(48),o=a(n(1)),i=n(90);n(6),n(133);var c=a(n(97));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),u(e.prototype.constructor=e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],0<=t.indexOf(n)||(r[n]=e[n]);return r}var b=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).history=i.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(r.Router,{history:this.history,children:this.props.children})},t}(o.Component),j=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).history=i.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return o.createElement(r.Router,{history:this.history,children:this.props.children})},t}(o.Component),f=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?i.createLocation(e,null,null,t):e},O=function(e){return e},m=o.forwardRef;void 0===m&&(m=O);var v=m((function(e,t){var n=e.innerRef,a=e.navigate,r=e.onClick,i=d(e,["innerRef","navigate","onClick"]),c=i.target,l=s({},i,{onClick:function(t){try{r&&r(t)}catch(e){throw t.preventDefault(),e}t.defaultPrevented||0!==t.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)||(t.preventDefault(),a())}});return l.ref=O!==m&&t||n,o.createElement("a",l)})),h=m((function(e,t){var n=e.component,a=void 0===n?v:n,l=e.replace,u=e.to,b=e.innerRef,j=d(e,["component","replace","to","innerRef"]);return o.createElement(r.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=e.history,r=p(f(u,e.location),e.location),d=r?n.createHref(r):"",v=s({},j,{href:d,navigate:function(){var t=f(u,e.location),a=i.createPath(e.location)===i.createPath(p(t));(l||a?n.replace:n.push)(t)}});return O!==m?v.ref=t||b:v.innerRef=b,o.createElement(a,v)}))})),x=function(e){return e},g=o.forwardRef;void 0===g&&(g=x);var y=g((function(e,t){var n=e["aria-current"],a=void 0===n?"page":n,i=e.activeClassName,l=void 0===i?"active":i,u=e.activeStyle,b=e.className,j=e.exact,O=e.isActive,m=e.location,v=e.sensitive,y=e.strict,w=e.style,C=e.to,D=e.innerRef,R=d(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(r.__RouterContext.Consumer,null,(function(e){e||c(!1);var n=m||e.location,i=p(f(C,n),n),d=i.pathname,S=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=S?r.matchPath(n.pathname,{path:S,exact:j,sensitive:v,strict:y}):null,N=!!(O?O(_,n):_),k="function"==typeof b?b(N):b,P="function"==typeof w?w(N):w;N&&(k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(k,l),P=s({},P,u));var I=s({"aria-current":N&&a||null,className:k,style:P,to:i},R);return x!==g?I.ref=t||D:I.innerRef=D,o.createElement(h,I)}))}));Object.defineProperty(t,"MemoryRouter",{enumerable:!0,get:function(){return r.MemoryRouter}}),Object.defineProperty(t,"Prompt",{enumerable:!0,get:function(){return r.Prompt}}),Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return r.Redirect}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return r.Route}}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return r.Router}}),Object.defineProperty(t,"StaticRouter",{enumerable:!0,get:function(){return r.StaticRouter}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return r.Switch}}),Object.defineProperty(t,"generatePath",{enumerable:!0,get:function(){return r.generatePath}}),Object.defineProperty(t,"matchPath",{enumerable:!0,get:function(){return r.matchPath}}),Object.defineProperty(t,"useHistory",{enumerable:!0,get:function(){return r.useHistory}}),Object.defineProperty(t,"useLocation",{enumerable:!0,get:function(){return r.useLocation}}),Object.defineProperty(t,"useParams",{enumerable:!0,get:function(){return r.useParams}}),Object.defineProperty(t,"useRouteMatch",{enumerable:!0,get:function(){return r.useRouteMatch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return r.withRouter}}),t.BrowserRouter=b,t.HashRouter=j,t.Link=h,t.NavLink=y},1126:function(e,t,n){"use strict";n.r(t);var a=n(484),r=n(486),o=n(444),i=n.n(o),c=n(4),s=n(12),l=n(1),u=n.n(l),d=n(48),b=n(325),j=n(1059),f=n(1027),p=n(102),O=n(219),m=n(57),v=n(19),h=n(23),x=n(1016),g=n(103),y=n.n(g),w=n(24),C=n(1056),D=n.n(C),R=n(482),S=n(1055),_=n.n(S),N=n(324),k=n(51),P=n(22),I=n(2),Y=function(){var e=Object(h.a)(Object(v.a)().mark((function e(){var t,n,a,r=arguments;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1?r[1]:void 0,e.next=4,Object(k.d)({uri:"/api/bid/saveChOfferRequestId",body:t});case 4:a=e.sent,a.success&&n.goBack();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.location,n=(void 0===t?{}:t).state,o=void 0===n?{}:n,i=e.match,c=(void 0===i?{}:i).params,u=c.loadNumber,b=c.counterOffer,j=void 0!==b&&b,g=c.finalOffer,C=void 0!==g&&g,S=Object(d.useHistory)(),k=o.loadNumber,L=void 0===k?"":k,T=o.company,z=o.vendor,M=o.price,A=0;if(o.hasOwnProperty("availableLoadCosts")){var E=(o||{}).availableLoadCosts,B=(void 0===E?[]:E)||[],q=Object(s.a)(B,1)[0];q&&(A=q.sourceCostPerUnit||0)}var F=Object(l.useState)(M||A),H=Object(s.a)(F,2),V=H[0],K=H[1],U=function(e,t){if(t.offerRequestId){var n={status:!1,loadNumber:L,bidAmount:V,vendorName:"C.H. Robinson",loadDetail:o,offerRequestId:t.offerRequestId};Y(n,S)}else t.error?Object(P.a)(t.message,"error"):S.goBack()},W=function(e,t){if(null!==t&&void 0!==t&&t.success||"success"===t.status)if(t.offerRequestId){var n={status:!1,loadNumber:L,bidAmount:V,vendorName:"C.H. Robinson",loadDetail:o,offerRequestId:t.offerRequestId};Y(n,S)}else S.goBack()},G=function(){var e=Object(h.a)(Object(v.a)().mark((function e(t){var n,a;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),z!==N.d){e.next=11;break}if(n={external_id:Object(R.a)(),offer_amount:V,expired_at:y()(new Date,"YYYY-MM-DDTHH:mm").add(1,"day").utc().format(),terms_condition:!0,driver_name:"Driver Name",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:o.id,vendorName:"New Trul",loadDetail:o},!j){e.next=6;break}return n={external_id:o.external_id,offer_amount:o.bidAmount,expired_at:y()(new Date,"YYYY-MM-DDTHH:mm").utc().format()},e.abrupt("return",Object(f.f)(n,W));case 6:if(!C){e.next=9;break}return n={loadId:u,offerStatus:"accept"},e.abrupt("return",Object(f.d)(n,W));case 9:return Object(f.e)(n,u,W),e.abrupt("return");case 11:return Object.assign(o,{defaultEmail:"vy4693@gmail.com",env:"dev",bidAmount:V}),a={carrierCode:N.h.carrierCode,offerPrice:parseFloat(V),offerNote:"",currencyCode:"USD"},e.next=15,Object(f.a)(L,a,U);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsx)(x.a,{config:{showClose:!0},children:Object(I.jsx)(p.a,{sx:{px:3},justifyContent:"center",display:"flex",children:Object(I.jsxs)("form",{onSubmit:G,style:{textAlign:"center"},className:"form_bidding",children:[Object(I.jsx)(m.a,{sx:{fontSize:32},children:T}),Object(I.jsxs)(m.a,{sx:{fontSize:32},children:["Load Number: ",L]}),Object(I.jsxs)(a.a,{direction:"row",sx:{py:5},alignItems:"end",gap:"10px",justifyContent:"center",children:[Object(I.jsx)(r.a,{onClick:function(){V>0&&K(V-1)},disabled:V<=0,children:Object(I.jsx)(_.a,{})}),Object(I.jsx)("div",{className:"dollarInput",children:Object(I.jsx)(w.a,{name:"bidAmount",label:"Amount ($)",onChange:function(e){var t=e.target.value;K(t)},type:"number",value:V,className:""})}),Object(I.jsx)(r.a,{onClick:function(){K(parseInt(V)+1)},children:Object(I.jsx)(D.a,{})})]}),Object(I.jsx)(O.a,{variant:"contained",color:"success",onClick:G,sx:{px:3,py:1,fontSize:16},children:"Submit Bid"})]})})})},T=n(1105),z=n(25),M=n(483),A=n(970),E=n(969),B=n(968),q=n(967),F=n(334),H=n.n(F),V=n(36),K="T2244688",U=function(e){var t=e.label,n=e.children;return Object(I.jsxs)(p.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(I.jsx)(p.a,{item:!0,xs:5,children:Object(I.jsx)(m.a,{sx:{fontSize:22,textAlign:"left"},children:t})}),Object(I.jsx)(p.a,{item:!0,xs:7,children:n})]})},W=function(){return Object(I.jsxs)(p.a,{container:!0,direction:"column",sx:{py:3},spacing:2,children:[Object(I.jsx)(p.a,{item:!0,children:Object(I.jsx)(H.a,{sx:{fontSize:80,color:"rgb(45, 206, 137)"}})}),Object(I.jsx)(p.a,{item:!0,children:Object(I.jsx)(m.a,{fontSize:24,children:"Your load has been booked!"})}),Object(I.jsx)(p.a,{item:!0,pl:"0 !important",children:Object(I.jsx)(m.a,{fontSize:24,children:"Moved to your personal load board"})})]})},G=function(e){var t=e.location,n=(void 0===t?{}:t).state,a=void 0===n?{}:n,r=a.loadNumber,o=Object(l.useState)({emptyDate:new Date,emptyTime:new Date}),i=Object(s.a)(o,2),u=i[0],d=i[1],b=Object(l.useState)(!1),j=Object(s.a)(b,2),v=j[0],h=j[1],g=Object(l.useState)(!1),y=Object(s.a)(g,2),w=y[0],C=y[1],D=0;if(a.hasOwnProperty("availableLoadCosts")){var R=(a||{}).availableLoadCosts,S=(void 0===R?[]:R)||[],_=Object(s.a)(S,1)[0];_&&(D=_.sourceCostPerUnit)}return Object(I.jsx)(x.a,{config:{paperProps:{sx:{width:"auto"}}},children:Object(I.jsx)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var t=u.emptyDate.toDateString(),n=u.emptyTime.toTimeString();if(new Date(t+" "+n)<new Date)return Object(P.a)("Empty Date and Time cannot be a past","error");C(!0);var r=a.loadNumber,o=a.availableLoadCosts[0]||{},i=o.type,c=o.code,s=o.description,l=o.units,d=o.currencyCode,b=o.sourceCostPerUnit,j=Object(V.e)().user,p=void 0===j?{}:j,O=p.name,m=void 0===O?"":O,v=p.email,x=void 0===v?"":v,g={loadNumber:r,carrierCode:K,emptyDateTime:new Date(t+" "+n).toISOString(),availableLoadCosts:[{type:i,code:c,description:s,units:l,currencyCode:d,sourceCostPerUnit:b}],emptyLocation:{city:"Greenwood",state:"IN",country:"NA",zip:"46143"},rateConfirmation:{email:x,name:m}};Object(f.g)(a,!1).then((function(e){var t=(null===e||void 0===e?void 0:e.data)||{},n=t.success,r=t.message;n?Object(f.b)(g).then((function(e){var t;(C(!1),200===e.status)?(!function(e){var t=e.success;void 0!==t&&t&&(h(!0),Object(f.g)(a,!0),Object(V.j)("getBiddings"))}({success:!0}),Object(P.a)("Booking successful")):(console.log(e),Object(P.a)((null===(t=e.data)||void 0===t?void 0:t.message)||"","error"))})).catch((function(e){console.log(e),C(!1),Object(P.a)(e.message,"error")})):(Object(P.a)(r,"error"),C(!1))}))},children:Object(I.jsxs)(p.a,{container:!0,direction:"column",textAlign:"center",px:8,pb:4,gap:"10px",children:[Object(I.jsx)(p.a,{item:!0,children:Object(I.jsx)(m.a,{sx:{fontSize:32},children:"C.H Robinson"})}),Object(I.jsxs)(p.a,{item:!0,direction:"",display:"flex",justifyContent:"center",children:[Object(I.jsx)(m.a,{sx:{fontSize:32,mr:2},children:"Load Number: "}),Object(I.jsx)(m.a,{sx:{fontSize:32},children:r})]}),v?Object(I.jsx)(W,{}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a,{item:!0,display:"flex",justifyContent:"space-between",mt:2,children:Object(I.jsx)(U,{label:"Carrier T-Code",children:Object(I.jsx)(M.a,{disabled:!0,variant:"standard",fullWidth:!0,value:K,readOnly:!0})})}),Object(I.jsx)(p.a,{item:!0,children:Object(I.jsx)(U,{label:"Empty Date",children:Object(I.jsx)(q.a,{dateAdapter:B.a,children:Object(I.jsx)(E.a,{disablePast:!0,value:u.emptyDate||new Date,onChange:function(e){return d(Object(c.a)(Object(c.a)({},u),{},{emptyDate:e}))},renderInput:function(e){return Object(I.jsx)(M.a,Object(c.a)(Object(c.a)({},e),{},{fullWidth:!0,variant:"standard"}))}})})})}),Object(I.jsx)(p.a,{item:!0,mt:2,children:Object(I.jsx)(U,{label:"Empty Time",children:Object(I.jsx)(q.a,{dateAdapter:B.a,children:Object(I.jsx)(A.a,{value:u.emptyTime||new Date,onChange:function(e){d(Object(c.a)(Object(c.a)({},u),{},{emptyTime:e}))},renderInput:function(e){return Object(I.jsx)(M.a,Object(c.a)(Object(c.a)({},e),{},{fullWidth:!0,variant:"standard"}))}})})})})]}),!v&&Object(I.jsx)(p.a,{item:!0,mt:2,children:Object(I.jsxs)(O.a,{type:"submit",disabled:w,variant:"contained",sx:{p:2,fontSize:16,px:3,py:2},children:["Book Now $",D]})})]})})})},$=n(1057),Q=n(489),J=n(5),X=n(979),Z=n(11),ee=n(130),te=n.n(ee),ne=["classNameRoot","disabled","label","hasError","labelKey","selectSx","className","placeholder","errorText"],ae=["label","name","valueKey","labelKey","errors","disablePortal","onChange","disabled","value","options","className","classNameRoot","disableClearable","selectSx","placeholder"],re=function(e){var t=e.classNameRoot,n=e.disabled,a=e.label,r=e.hasError,o=e.labelKey,i=e.selectSx,s=e.className,l=e.placeholder,u=(e.errorText,Object(Z.a)(e,ne)),d="autocomplete-label-"+a;return Object(I.jsx)("div",{className:te()(t,{fieldDisabled:n}),children:Object(I.jsx)(Q.a,{fullWidth:!0,children:Object(I.jsx)(X.a,Object(c.a)({renderInput:function(e){return Object(I.jsx)(M.a,Object(c.a)({placeholder:l,error:r,label:a},e))},getOptionLabel:function(e){return e[o]},isOptionEqualToValue:function(e,t){return e.id===t.id},id:d,classes:{paper:s},sx:i},u))})})},oe=Object(l.memo)(re),ie=function(e){var t=e.label,n=e.name,a=e.valueKey,r=void 0===a?"value":a,o=e.labelKey,i=void 0===o?"label":o,u=e.errors,d=void 0===u?{}:u,b=e.disablePortal,j=void 0===b||b,f=e.onChange,p=e.disabled,O=void 0!==p&&p,m=e.value,v=e.options,h=void 0===v?[]:v,x=e.className,g=e.classNameRoot,y=e.disableClearable,w=void 0===y||y,C=e.selectSx,D=void 0===C?{}:C,R=e.placeholder,S=Object(Z.a)(e,ae),_=Object(l.useState)(null),N=Object(s.a)(_,2),k=N[0],P=N[1],Y=!!d[n]||!1,L=d[n]||"";return Object(l.useEffect)((function(){var e=Array.isArray(h)&&h.find((function(e){return e[r]===m}))||null;P(e)}),[m,h,r]),Object(I.jsx)(oe,Object(c.a)(Object(c.a)({},S),{},{value:k,options:h,label:t,selectSx:D,labelKey:i,valueKey:r,hasError:Y,disabled:O,errorText:L,className:x,onChange:function(e,t){f&&f({name:n,value:t?t[r]:""})},placeholder:R,classNameRoot:g,disablePortal:j,disableClearable:w}))},ce=n(1019),se=n(1020),le=n(26),ue=n(319),de=n(1104),be=n.n(de),je=n(44),fe=n.n(je),pe=n(6),Oe=n.n(pe),me=function(e){var t=e.label,n=void 0===t?"":t,a=e.name,r=e.onSelect,o=e.parentOnClear,i=u.a.useState(null),d=Object(s.a)(i,2),b=d[0],j=d[1],f=u.a.useState(""),O=Object(s.a)(f,2),v=O[0],h=O[1],x=u.a.useState([]),g=Object(s.a)(x,2),y=g[0],w=g[1],C=u.a.useMemo((function(){return fe.a.debounce((function(e,t){Object(k.b)({uri:"/api/searchLocationAutocomplete?search="+e.input}).then((function(e){return t(e.data,e.success)}))}),500)}),[]);return Object(l.useEffect)((function(){var e=!0;if(r&&r({selectedObj:b,value:v,name:a}),""!==v)return C({input:v},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){var n=[];if((arguments.length>1?arguments[1]:void 0)||Object(P.a)(t.error_message,"error"),b&&(n=[b]),t){var a=t.predictions,r=void 0===a?[]:a;n=[].concat(Object(le.a)(n),Object(le.a)(r))}w(n)}})),function(){e=!1};w(b?[b]:[])}),[b,v,C]),Object(l.useEffect)((function(){o&&(j(null),h(""))}),[o]),Object(I.jsx)(X.a,{id:"searchAutocomplete",sx:{width:300},getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:y,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:b,onChange:function(e,t){w(t?[t].concat(Object(le.a)(y)):y),j(t)},onInputChange:function(e,t){h(t)},renderInput:function(e){return Object(I.jsx)(M.a,Object(c.a)(Object(c.a)({},e),{},{label:n,size:"small",fullWidth:!0}))},renderOption:function(e,t){return Object(I.jsx)("li",Object(c.a)(Object(c.a)({},e),{},{children:Object(I.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(I.jsx)(p.a,{item:!0,children:Object(I.jsx)(ue.a,{component:be.a,sx:{color:"text.secondary",mr:2}})}),Object(I.jsx)(p.a,{item:!0,xs:!0,children:Object(I.jsx)(m.a,{variant:"body2",color:"text.primary",children:t.description})})]})}))}})},ve=me;me.prototype={label:Oe.a.string.isRequired,name:Oe.a.string.isRequired,onSelect:Oe.a.func,parentOnClear:Oe.a.bool};var he=n(105),xe=n(108),ge={title:"",defaultValue:"origin_states[]",name:"origin",options:[{label:"City",value:"origin_city"},{label:"State",value:"origin_states[]"}]},ye={title:"",defaultValue:"destination_states[]",name:"destination",options:[{label:"City",value:"destination_city"},{label:"State",value:"destination_states[]"}]},we=[{label:"Select",value:null},{label:"Reefer",value:"Reefer"},{label:"Dry Van",value:"Dry Van"}],Ce=function(e){var t=Object(c.a)({},e);return t.originGeoLocation&&delete t.originGeoLocation,t.destinationGeoLocation&&delete t.destinationGeoLocation,t.originRadius||delete t.originRadius,t.destinationRadius||delete t.destinationRadius,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e)if(e.hasOwnProperty(n)){var a=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);t.push(a.replaceAll("%20","+"))}return t.join("&")}(t)},De={originRadio:"origin_city",destinationRadio:"destination_city",destination_radius:"",origin_radius:""},Re=function(e){var t=e.getNewTrulList,n=e.setFilters,r=e.pageSize,o=e.pageIndex,i=e.setParams,u=e.defaultParams,d=Object(l.useState)(De),b=Object(s.a)(d,2),j=b[0],f=b[1],m=Object(l.useState)(!1),x=Object(s.a)(m,2),g=x[0],w=x[1],C=function(e){var t=e.name,n=e.value;if("pickup"===t){var a={pick_up_start_date:n.startDate,pick_up_end_date:n.endDate};return f(Object(c.a)(Object(c.a)({},j),a))}if("dropOff"===t){var r={drop_off_start_date:n.startDate,drop_off_end_date:n.endDate};return f(Object(c.a)(Object(c.a)({},j),r))}f(Object(c.a)(Object(c.a)({},j),{},Object(J.a)({},t,n)))},D=Object(l.useCallback)((function(e){var t=e.name,n=e.value;f(Object(c.a)(Object(c.a)({},j),{},Object(J.a)({},t+"Radio",n)))}),[j]),R=function(){var e=Object(h.a)(Object(v.a)().mark((function e(a){var s,l,u,d,b,f,p,O,m,h,x,g;return Object(v.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),s=["pick_up_start_date","pick_up_end_date","drop_off_start_date","drop_off_end_date"],l=Object(c.a)({},j),j.originRadio&&(l[j.originRadio]=j.origin||""),j.destinationRadio&&(l[j.destinationRadio]=j.destination||""),j["equipments[]"]&&(l["equipments[]"]=j["equipments[]"]),s.forEach((function(e){j[e]&&(l[e]=y()(j[e]).format("YYYY-MM-DD"))})),delete l.originRadio,delete l.destinationRadio,!l.destination){e.next=18;break}return e.next=12,Object(xe.c)({address:l.destination});case 12:u=e.sent,d=u.data,f=(b=void 0===d?{}:d).data,b.success&&(l.destinationGeoLocation=f);case 18:if(!l.origin){e.next=27;break}return e.next=21,Object(xe.c)({address:l.origin});case 21:p=e.sent,O=p.data,h=(m=void 0===O?{}:O).data,m.success&&(l.originGeoLocation=h);case 27:x=Object(c.a)(Object(c.a)({},l),{},{pageSize:r,pageIndex:o}),n(x),g=Ce(l),i(g),t(x,g);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(p.a,{container:!0,gap:1,component:"form",noValidate:!0,onSubmit:R,flexWrap:"wrap",children:[Object(I.jsxs)(a.a,{children:[Object(I.jsx)(ve,{label:"Origin",onSelect:C,name:"origin",parentOnClear:g}),Object(I.jsx)(Q.a,{sx:{m:.5},variant:"standard",children:Object(I.jsx)(ce.a,{parentValue:j.originRadio,config:ge,onChange:D})})]}),Object(I.jsx)(he.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:j.origin_radius,onChange:C,name:"origin_radius"}),Object(I.jsxs)(a.a,{children:[Object(I.jsx)(ve,{name:"destination",label:"Destination",onSelect:C,parentOnClear:g}),Object(I.jsx)(Q.a,{sx:{m:.5},variant:"standard",children:Object(I.jsx)(ce.a,{config:ye,onChange:D,parentValue:j.destinationRadio})})]}),Object(I.jsx)(he.a,{type:"number",label:"Radius",sx:{width:100},placeholder:"Miles",inputProps:{min:1},value:j.destination_radius,onChange:C,name:"destination_radius"}),Object(I.jsx)(a.a,{children:Object(I.jsx)(ie,{options:we,value:j["equipments[]"]||null,label:"Equipment",size:"small",onChange:C,name:"equipments[]",sx:{minWidth:200,width:"inherit"}})}),Object(I.jsx)(a.a,{children:Object(I.jsx)(se.a,{label:"Pick Up Date Range",name:"pickup",onChange:C})}),Object(I.jsx)(a.a,{children:Object(I.jsx)(se.a,{name:"dropOff",onChange:C,label:"Drop Off Date Range"})}),Object(I.jsx)(a.a,{children:Object(I.jsx)(O.a,{type:"submit",variant:"contained",children:"Search"})}),Object(I.jsx)(a.a,{children:Object(I.jsx)(O.a,{onClick:function(){f((function(){return De})),w(!0),n(u),setTimeout((function(){t(u),w(!1)}),200)},variant:"outlined",children:"Clear"})})]})},Se=function(e){var t=e.history,n=e.path,a=e.totalResults,r=e.onPageChange,o=e.pageIndex,i=e.pageSize,u=e.showDialog;return{rowCellPadding:"normal",emptyMessage:"No Shipments Found",onRowClick:function(e){var t=e.loadNumber,a=e.id;return"newtrul"===e.vendorName.toLowerCase()?"".concat(n,"/newtrul/").concat(a):"".concat(n,"/").concat(t)},count:a,limit:i,page:o,onPageChange:r,rowStyleCb:function(e){var t=e.row,n=t.bidLevel,a=t.status;return 2===n?{borderLeft:"5px solid #ffeaa7"}:1===n?{borderLeft:a?"5px solid #00b894":"5px solid #e74c3c"}:void 0},columns:[{id:"loadNumber",label:"Load Number",renderer:function(e){var t=e.row;return t.vendorName===N.d?Object(I.jsx)(l.Fragment,{children:t.id}):Object(I.jsx)(l.Fragment,{children:t.loadNumber})}},{id:"country",label:"Pickup City/State",renderer:function(e){var t,n,a=e.row;if(a.vendorName===N.d){var r=a.stops||[],o=Object(s.a)(r,2),i=(o[0],(o[1]||{}).geo||{}),c=i.city,u=void 0===c?"":c,d=i.state,b=void 0===d?"":d;return Object(I.jsxs)(l.Fragment,{children:[u,", ",b]})}return Object(I.jsxs)(l.Fragment,{children:[null===a||void 0===a||null===(t=a.origin)||void 0===t?void 0:t.city,", ",null===a||void 0===a||null===(n=a.origin)||void 0===n?void 0:n.stateCode]})}},{id:"pickupDate",label:"Pickup Date",renderer:function(e){var t=e.row,n="";if(t.vendorName===N.d){var a=t.stops||[{}],r=Object(s.a)(a,2),o=(r[0],(r[1]||{}).early_datetime),i=void 0===o?"":o;n=i?y()(i).format("M/DD/YYYY"):"--"}else y()(null===t||void 0===t?void 0:t.pickUpByDate).isValid()&&(n=y()(t.pickUpByDate).format("M/DD/YYYY"));return Object(I.jsx)(l.Fragment,{children:n})}},{id:"deliveryCountry",label:"Delivery City/State",renderer:function(e){var t,n,a=e.row,r=void 0===a?{}:a;if(r.vendorName===N.d){var o=r.stops||[],i=Object(s.a)(o,2),c=i[0],u=(i[1],(c||{}).geo||{}),d=u.city,b=void 0===d?"":d,j=u.state,f=void 0===j?"":j;return Object(I.jsxs)(l.Fragment,{children:[b,", ",f]})}return Object(I.jsxs)(l.Fragment,{children:[null===r||void 0===r||null===(t=r.destination)||void 0===t?void 0:t.city,", ",null===r||void 0===r||null===(n=r.destination)||void 0===n?void 0:n.stateCode]})}},{id:"deliveryDate",label:"Delivery Date",renderer:function(e){var t=e.row,n="";if(t.vendorName===N.d){var a=t.stops||[],r=Object(s.a)(a,2),o=r[0],i=(r[1],(o||{}).early_datetime);return i?y()(i).format("M/DD/YYYY"):"--"}return y()(t.deliverBy).isValid()&&(n=y()(null===t||void 0===t?void 0:t.deliverBy).format("M/DD/YYYY")),Object(I.jsx)(l.Fragment,{children:n})}},{id:"equipment",label:"Equipment",renderer:function(e){var t=e.row;if(t.vendorName===N.d){var n=t.equipment;return"string"===typeof n?Object(I.jsx)(l.Fragment,{children:n}):null}var a=Object(N.g)(t||{}),r=a.modesString,o=void 0===r?"":r,i=a.standard,c=void 0===i?"":i;return Object(I.jsxs)(l.Fragment,{children:[o," ",c]})}},{id:"weight",label:"Weight",renderer:function(e){var t=e.row;if(t.vendorName===N.d){var n=(t||{}).weight;return"number"===typeof n?Object(I.jsxs)(l.Fragment,{children:[n," lbs"]}):null}var a=(t||{}).weight,r=(void 0===a?{}:a).pounds,o=void 0===r?"":r;return o&&(o+=" lbs"),Object(I.jsx)(l.Fragment,{children:o})}},{id:"company",label:"Company",renderer:function(e){var t=e.row;if(t.vendorName===N.d){var n=(t||{}).client;return(void 0===n?{}:n).client_name||"--"}return Object(I.jsx)(l.Fragment,{children:"C.H Robinson"})}},{id:"bookNow",label:"Book Now",renderer:function(e){var a=e.row,r=void 0===a?{}:a;if(r.vendorName===N.d){var o=r.book_now_price;if(r.available_book_type.equalsIgnoreCase("both")){return Object(I.jsxs)(O.a,{variant:"contained",color:"primary",onClick:function(e){e.stopPropagation();var t={title:"Book Now",maxWidth:"md",content:Object(I.jsxs)(m.a,{fontSize:16,children:["Do you want to Book now at? $",o]}),okButtonText:"Book",onOk:function(e){var t={external_id:Object(R.a)(),terms_condition:!0,driver_name:"Driver Namme",driver_phone_number:"(123) 456-6789",truck_number:"FVS200937",trailer_number:"EA5318",tracking_url:"https://www.google.com/",loadId:r.id};Object(N.e)(t,r,(function(){return e()}))}};u(t)},disabled:0===o,children:["$ ",o]})}return null}if(r.hasOwnProperty("availableLoadCosts")){var i=(r||{}).availableLoadCosts,c=(void 0===i?[]:i)||[],l=Object(s.a)(c,1)[0];if(l)return Object(I.jsxs)(O.a,{variant:"contained",color:"primary",onClick:function(e){e.stopPropagation(),t.push(n+"/".concat(r.loadNumber,"/bookNow"),r)},children:["$ ",null===l||void 0===l?void 0:l.sourceCostPerUnit]})}return null}},{id:"Bidding",label:"Bid",renderer:function(e){var a=e.row;if(a.vendorName===N.d){var r=a.available_book_type;if(!(r.equalsIgnoreCase("both")||r.equalsIgnoreCase("auction")))return null}return Object(I.jsx)(O.a,{variant:"contained",color:"success",onClick:function(e){if(e.stopPropagation(),a.vendorName===N.d)return t.push(n+"/".concat(a.id,"/bid"),Object(c.a)(Object(c.a)({},a),{},{vendor:a.vendorName,company:"New Trul",price:a.book_now_price}));t.push(n+"/".concat(a.loadNumber,"/bid"),Object(c.a)(Object(c.a)({},a),{},{vendor:a.vendorName,company:a.vendorName===N.d?"New Trul":"C.H Robinson"}))},children:"Bid +"})}}]}},_e=n(237),Ne=N.f;Ne=N.h;t.default=Object(T.withRouter)((function(){var e=Object(d.useRouteMatch)().path,t=Object(l.useState)(Ne),n=Object(s.a)(t,2),o=n[0],u=n[1],p=Object(l.useState)(""),O=Object(s.a)(p,2),m=O[0],v=O[1],h=Object(l.useState)({open:!1,content:null}),x=Object(s.a)(h,2),g=x[0],y=x[1],w=Object(z.d)(),C=Object(z.e)((function(e){return e.openBoard})),D=C.data,R=void 0===D?{}:D,S=R.results,_=R.totalResults,N=C.loading,k=void 0!==N&&N,P=Object(d.useHistory)(),Y=Object(l.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";w(Object(f.c)(Object(c.a)(Object(c.a)({},e),{},{newTrulQuery:t,env:"production",pageSize:100})))}),[]),T=Object(l.useCallback)((function(){w(Object(f.c)(Object(c.a)(Object(c.a)({},o),{},{newTrulQuery:m,env:"production",pageSize:100})))}),[w,o,m]),M=Object(l.useCallback)((function(){y((function(e){return Object(c.a)(Object(c.a)({},e),{},{open:!1})}))}),[]),A=Object(l.useCallback)((function(e){var t=e.content;y((function(e){return Object(c.a)(Object(c.a)({},e),{},{open:!0,content:t})}))}),[]);Object(l.useEffect)((function(){return T(),Object(V.a)(window,"getBiddings",T),function(){return Object(V.h)(window,"getBiddings",T)}}),[]);var E=function(e,t){u((function(e){return Y(Object(c.a)(Object(c.a)({},e),{},{pageIndex:t-1}),m),Object(c.a)(Object(c.a)({},e),{},{pageIndex:t-1})}))},B=Object(l.useMemo)((function(){return Object(I.jsx)(b.a,{config:Se({showDialog:A,history:P,path:e,totalResults:_,onPageChange:E,pageSize:o.pageSize,pageIndex:o.pageIndex}),data:S||[],loading:k})}),[S]);return Object(I.jsxs)(a.a,{style:{gap:"10px"},children:[Object(I.jsx)(a.a,{direction:"row",justifyContent:"end",children:Object(I.jsx)(a.a,{children:Object(I.jsx)(r.a,{title:"Refresh",onClick:T,children:Object(I.jsx)(i.a,{className:k?"rotateIcon":void 0})})})}),Object(I.jsx)(Re,{defaultParams:Ne,setParams:v,setFilters:u,pageSize:o.pageSize,pageIndex:o.pageIndex,getNewTrulList:Y,onRefetch:T}),B,Object(I.jsx)(d.Route,{path:e+"/newtrul/:loadId",component:$.a}),Object(I.jsx)(d.Route,{path:e+"/:loadNumber",exact:!0,component:j.b}),Object(I.jsx)(d.Route,{path:e+"/:loadNumber/bid",component:L}),Object(I.jsx)(d.Route,{path:e+"/:loadNumber/bookNow",component:G}),Object(I.jsx)(_e.a,{onClose:M,config:g})]})}))}}]);
//# sourceMappingURL=4.921359a5.chunk.js.map