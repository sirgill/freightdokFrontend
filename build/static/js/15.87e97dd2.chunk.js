(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{1067:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(188),c=n(359),o=n(0),r=n.n(o),s=n(34),l=n(46),d=n(501),u=n(74),j=n(456),b=n.n(j),f=n(14),h=n(581),p=n.n(h),x=n(3),m=n(1047),v=n(27),O=n(2),g=n(444),y=n(446),w=[0,1,2,3,4,5,6,7,8,9,10],C=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var S=o.forwardRef((function(e,t){var n=e.alignContent,a=void 0===n?"stretch":n,i=e.alignItems,c=void 0===i?"stretch":i,r=e.classes,s=e.className,l=e.component,d=void 0===l?"div":l,u=e.container,j=void 0!==u&&u,b=e.direction,f=void 0===b?"row":b,h=e.item,p=void 0!==h&&h,x=e.justify,m=e.justifyContent,y=void 0===m?"flex-start":m,w=e.lg,C=void 0!==w&&w,k=e.md,S=void 0!==k&&k,N=e.sm,W=void 0!==N&&N,R=e.spacing,A=void 0===R?0:R,z=e.wrap,F=void 0===z?"wrap":z,D=e.xl,T=void 0!==D&&D,P=e.xs,I=void 0!==P&&P,M=e.zeroMinWidth,L=void 0!==M&&M,E=Object(v.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),H=Object(g.a)(r.root,s,j&&[r.container,0!==A&&r["spacing-xs-".concat(String(A))]],p&&r.item,L&&r.zeroMinWidth,"row"!==f&&r["direction-xs-".concat(String(f))],"wrap"!==F&&r["wrap-xs-".concat(String(F))],"stretch"!==c&&r["align-items-xs-".concat(String(c))],"stretch"!==a&&r["align-content-xs-".concat(String(a))],"flex-start"!==(x||y)&&r["justify-content-xs-".concat(String(x||y))],!1!==I&&r["grid-xs-".concat(String(I))],!1!==W&&r["grid-sm-".concat(String(W))],!1!==S&&r["grid-md-".concat(String(S))],!1!==C&&r["grid-lg-".concat(String(C))],!1!==T&&r["grid-xl-".concat(String(T))]);return o.createElement(d,Object(O.a)({className:H,ref:t},E))})),N=Object(y.a)((function(e){return Object(O.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return w.forEach((function(a){var i=e.spacing(a);0!==i&&(n["spacing-".concat(t,"-").concat(a)]={margin:"-".concat(k(i,2)),width:"calc(100% + ".concat(k(i),")"),"& > $item":{padding:k(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var a={};C.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");a[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else a[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else a[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(O.a)(e,a):e[t.breakpoints.up(n)]=a}(t,e,n),t}),{}))}),{name:"MuiGrid"})(S),W=n(1053),R=n(1075),A=o.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,c=e.disableTypography,r=void 0!==c&&c,s=Object(v.a)(e,["children","classes","className","disableTypography"]);return o.createElement("div",Object(O.a)({className:Object(g.a)(a.root,i),ref:t},s),r?n:o.createElement(W.a,{component:"h2",variant:"h6"},n))})),z=Object(y.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(A),F=n(1049),D=n(119),T=n.n(D),P=n(166),I=n(354),M=n(6),L=n(9),E=n(37),H=n(5),_=n.n(H),B=n(54),V=n.n(B),K=n(62),Y=["className","cssModule","inline","tag","innerRef"],q={children:_.a.node,inline:_.a.bool,tag:K.b,innerRef:_.a.oneOfType([_.a.object,_.a.func,_.a.string]),className:_.a.string,cssModule:_.a.object},G=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(L.a)(n)),n.submit=n.submit.bind(Object(L.a)(n)),n}Object(E.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,a=e.inline,i=e.tag,c=e.innerRef,o=Object(M.a)(e,Y),s=Object(K.a)(V()(t,!!a&&"form-inline"),n);return r.a.createElement(i,Object(O.a)({},o,{ref:c,className:s}))},t}(o.Component);G.propTypes=q,G.defaultProps={tag:"form"};var U=G,Z=n(210),J=n(137),$=n(1),Q=Object(m.a)((function(e){return{backButton:{marginRight:e.spacing(1)},formTitle:{textAlign:"center",padding:e.spacing(3),color:"#4691FF"},errorText:{color:"red"},submitButton:{textTransform:"none"},form:{width:450,padding:e.spacing(2)}}})),X=function(e){var t=e.setData2,n=e.setPage,i=e.data,c=e.classes,o=e.getLocation,r=function(e){var n=e.target,i=n.name,c=n.value;t((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(x.a)({},i,c))}))};return Object($.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object($.jsx)(P.a,{label:"Phone",name:"phone",fullWidth:!0,onChange:r,value:i.phone}),Object($.jsx)(P.a,{name:"parking",onChange:r,label:"Parking",type:"select",value:i.parking,options:[{label:"Yes",value:!0},{label:"No",value:!1}],labelKey:"label",valueKey:"value"}),Object($.jsx)(P.a,{label:"Appointment",name:"appointment",fullWidth:!0,onChange:r,value:i.appointment,options:[{label:"Yes",value:!0},{label:"No",value:!1}],type:"select",labelKey:"label",valueKey:"value"}),Object($.jsx)(P.a,{label:"FCFS",name:"fcfs",fullWidth:!0,onChange:r,value:i.fcfs,options:[{label:"Yes",value:!0},{label:"No",value:!1}],type:"select",labelKey:"label",valueKey:"value"}),Object($.jsx)(P.a,{label:"Warehouse Hours of Service",name:"serviceHours",fullWidth:!0,onChange:r,value:i.serviceHours}),Object($.jsx)(P.a,{name:"restroom",onChange:r,label:"Restroom",type:"select",value:i.restroom,options:[{label:"Yes",value:!0},{label:"No",value:!1}],labelKey:"label",valueKey:"value"}),Object($.jsxs)(N,{item:!0,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object($.jsx)(W.a,{variant:"h6",children:"Facility Location"}),Object($.jsx)(I.a,{onClick:o,className:"font-14",color:"success",children:"Get Location"})]}),Object($.jsx)(P.a,{label:"Latitude",name:"latitude",fullWidth:!0,onChange:r,value:i.latitude}),Object($.jsx)(P.a,{label:"Longitude",name:"longitude",fullWidth:!0,onChange:r,value:i.longitude}),Object($.jsxs)(N,{item:!0,justifyContent:"space-between",alignItems:"center",style:{marginTop:10,display:"flex"},xs:12,children:[Object($.jsx)(p.a,{onClick:function(){return n(1)},style:{color:"#1891FC",height:25,width:25,cursor:"pointer"}}),Object($.jsx)(Z.a,{type:"submit",color:"primary",className:c.submitButton,children:"Submit"})]})]})},ee=function(e){var t=e.id,n=void 0===t?null:t,i=Q(),c=Object(o.useState)({name:"",address:"",city:"",state:"",zip:""}),r=Object(f.a)(c,2),l=r[0],j=r[1],h=Object(o.useState)({restroom:!0,parking:!1,phone:"",appointment:"",serviceHours:"",latitude:"",longitude:"",fcfs:!1}),p=Object(f.a)(h,2),m=p[0],v=p[1],O=Object(o.useState)(""),g=Object(f.a)(O,2),y=g[0],w=g[1],C=Object(o.useState)(1),k=Object(f.a)(C,2),S=k[0],R=k[1],A=Object(s.useHistory)(),z=Object(u.d)(),F=Object(u.e)((function(e){return e.warehouse})).location,D=(void 0===F?{}:F).data,I=void 0===D?{}:D,M=I.lat,L=void 0===M?0:M,E=I.lng,H=void 0===E?0:E,_=function(e){var t=e.target,n=t.name,i=t.value;j((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(x.a)({},n,i))})),w("")},B=function(){z(Object(d.e)()),A.push(J.b)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.a)({},l);for(var n in t)t[n]=e[n]||"";j(t);var i=Object(a.a)({},m);for(var c in m)i[c]=T.a.isBoolean(e[c])?Boolean(e[c]):e[c]||"";v(i)};return Object(o.useEffect)((function(){n&&z(Object(d.d)(n,V))}),[]),Object(o.useEffect)((function(){L&&H&&v(Object(a.a)(Object(a.a)({},m),{},{latitude:L,longitude:H}))}),[L,H]),Object($.jsxs)(U,{onSubmit:function(e){e.preventDefault(),z(n?Object(d.a)(T.a.extend(l,m,{_id:n}),B):Object(d.a)(T.a.extend(l,m),B))},className:i.form,autoComplete:"off",children:[1===S&&Object($.jsxs)(o.Fragment,{children:[Object($.jsx)(P.a,{label:"Facility Name",name:"name",fullWidth:!0,onChange:_,required:!0,autoCapitalize:!0,value:l.name}),Object($.jsx)(P.a,{label:"Address",name:"address",fullWidth:!0,onChange:_,required:!0,value:l.address}),Object($.jsx)(P.a,{label:"City",name:"city",fullWidth:!0,onChange:_,required:!0,value:l.city}),Object($.jsx)(P.a,{label:"State",name:"state",fullWidth:!0,onChange:_,required:!0,value:l.state}),Object($.jsx)(P.a,{label:"Zip",name:"zip",fullWidth:!0,onChange:_,required:!0,value:l.zip}),!!y&&Object($.jsx)(N,{item:!0,xs:12,children:Object($.jsx)(W.a,{className:i.errorText,align:"center",color:"red",children:y})}),Object($.jsx)(N,{item:!0,style:{marginTop:10,textAlign:"right"},xs:12,children:Object($.jsx)(b.a,{onClick:function(){if(!T.a.isEmpty(l))for(var e in l)if(!l[e]||T.a.isBoolean(l[e]))return w("Please fill all the fields");R(2)},style:{color:"#1891FC",height:25,width:25,cursor:"pointer"}})})]}),2===S&&Object($.jsx)(X,{getLocation:function(){z(Object(d.c)(Object(a.a)({},l)))},setData2:v,setPage:R,data:m,classes:i})]})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Q(),n=e.match,a=(void 0===n?{}:n).params,i=(void 0===a?{}:a).id,c=void 0===i?null:i,o=e.history;return Object($.jsxs)(R.a,{maxWidth:"sm",onClose:function(){return o.push(J.b)},"aria-labelledby":"customized-dialog-title",open:!0,children:[Object($.jsxs)(z,{className:t.formTitle,id:"dialog-title",onClose:function(){return null},children:[c?"Edit":"Add"," Facility"]}),Object($.jsx)(F.a,{dividers:!0,children:Object($.jsx)(ee,{id:c})})]})},ne=n(1087),ae=n(1088),ie=n(1056),ce=n(262),oe=n(504),re=n.n(oe),se=n(43),le=n(98),de=Object(m.a)((function(e){return{formTitle:{textAlign:"center",fontSize:"2.5rem",fontWeight:700},editIcon:{color:"#1891FC","&:hover":{cursor:"pointer"}},form:{padding:e.spacing(5)},infoContainer:{minWidth:""},loadTimeContainer:{},infoComponent:{display:"flex"},infoValues:{width:"100%",paddingTop:"1rem"}}})),ue=function(e){var t=e.data,n=void 0===t?{}:t,a=e.hasPermission,i=n._id,c=void 0===i?"":i,o=n.address,r=void 0===o?"":o,s=n.averageLoadTime,d=void 0===s?"":s,u=n.city,j=void 0===u?"":u,b=n.zip,f=n.state,h=n.parking,p=n.appointment,x=n.restrooms,m=n.serviceHours,v=de();return Object($.jsxs)(le.a,{container:!0,children:[Object($.jsx)(le.a,{item:!0,xs:12,children:Object($.jsxs)(le.a,{container:!0,className:v.infoComponent,display:"flex",children:[Object($.jsxs)(le.a,{item:!0,xs:5,className:v.infoContainer,children:[Object($.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center"},children:"INFO"}),Object($.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Address: "}),Object($.jsx)("span",{children:r})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"City: "}),Object($.jsx)("span",{children:j})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"State: "}),Object($.jsx)("span",{children:f})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Zip: "}),Object($.jsx)("span",{children:b})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Parking: "}),Object($.jsx)("span",{children:h?"Yes":"No"})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Appointment: "}),Object($.jsx)("span",{children:p})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"FCFS: "}),Object($.jsx)("span",{children:""})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Hours of Service: "}),Object($.jsx)("span",{children:m})]}),Object($.jsxs)("div",{className:v.infoValues,children:[Object($.jsx)("span",{children:"Restrooms: "}),Object($.jsx)("span",{children:x?"Yes":"No"})]})]})]}),Object($.jsxs)(le.a,{xs:2,item:!0,className:v.loadTimeContainer,children:[Object($.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center",marginTop:"50%"},children:"Average Load Time"}),Object($.jsx)(se.a,{style:{textAlign:"center"},variant:"h5",children:d})]}),Object($.jsx)(le.a,{item:!0,xs:5,className:v.infoContainer,children:Object($.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center"},children:"Recent Loading Times"})})]})}),Object($.jsx)(le.a,{item:!0,xs:12,style:{marginTop:"3rem"},children:Object($.jsx)(l.b,{to:J.b+"/edit/"+c,children:Object($.jsx)(ce.a,{disabled:!a,children:Object($.jsx)(re.a,{className:v.editIcon})})})})]})};var je=function(e){var t=de(),n=Object(u.d)(),a=e.history,i=e.match.params.id,c=void 0===i?"":i,r=e.closeUrl,s=Object(u.e)((function(e){return e}))||{},l=s.warehouse,j=(void 0===l?{}:l).warehouseById,b=(void 0===j?{}:j).data,f=void 0===b?{}:b,h=s.auth,p=(void 0===h?{}:h).user,x=(void 0===p?{}:p).role,m=void 0===x?"":x,v="admin"===m||"dispatch"===m||"support"===m;return Object(o.useEffect)((function(){n(Object(d.d)(c))}),[]),Object($.jsx)("div",{children:Object($.jsx)(ne.a,{maxWidth:"xl",onClose:function(){a.push(r)},"aria-labelledby":"customized-dialog-title",open:!0,children:Object($.jsxs)(ae.a,{dividers:!0,children:[Object($.jsx)(ie.a,{className:t.formTitle,id:"customized-dialog-title",onClose:function(){return null},children:Object($.jsx)(se.a,{sx:{fontWeight:600},children:f.name||"Warehouse"})}),Object($.jsx)(ue,{data:f,hasPermission:v})]})})})},be=n(448),fe=n(38),he=n(199);t.default=function(){var e=Object(s.useRouteMatch)().path,t=Object(u.d)(),n=Object(u.e)((function(e){return e})),r=n.warehouse,j=void 0===r?{}:r,b=j.totalCount,f=j.warehouses,h=void 0===f?[]:f,p=j.loading,x=void 0!==p&&p,m=n.auth,v=(void 0===m?{}:m).user,O=(void 0===v?{}:v).role,g=void 0===O?"":O,y="admin"===g||"dispatch"===g||"support"===g,w=Object(u.e)((function(e){return e.auth})).user,C=function(e){e.success&&t(Object(d.e)())},k={count:b,deletePermissions:["admin","superAdmin"],onRowClick:function(t){var n=t._id;return"".concat(e,"/preview/").concat(n)},rowCellPadding:"normal",columns:[{id:"name",label:"Facility"},{id:"address",label:"Address"},{id:"city",label:"City"},{id:"state",label:"State"},{id:"zip",label:"Zip Date"},{id:"averageLoadTime",label:"Average Load Time"},{id:"actions",label:"Actions",renderer:function(e){var t=e.row,n=t._id,a=t.name;return Object($.jsx)(c.a,{variant:"contained",color:"error",disabled:![fe.f.admin,fe.f.superadmin].includes(w.role),onClick:Object(he.c)({message:"Are you sure you want to delete "+a+"?",uri:"/api/warehouse/"+n,afterSuccessCb:C}),children:"Delete"})}}]};return Object(o.useEffect)((function(){t(Object(d.e)())}),[]),Object($.jsxs)("div",{children:[Object($.jsx)(i.a,{children:Object($.jsx)(be.a,{config:k,data:h.warehouses,loading:x})}),y&&Object($.jsx)(c.a,{variant:"contained",component:l.b,to:e+"/add",sx:{position:"absolute",right:10},children:"Add Facility"}),Object($.jsxs)(s.Switch,{children:[Object($.jsx)(s.Route,{component:te,path:e+"/add"}),Object($.jsx)(s.Route,{component:te,path:e+"/edit/:id"}),Object($.jsx)(s.Route,{render:function(t){return Object($.jsx)(je,Object(a.a)(Object(a.a)({},t),{},{closeUrl:e}))},path:e+"/preview/:id"})]})]})}},448:function(e,t,n){"use strict";var a=n(188),i=n(434),c=n(1094),o=n(1095),r=n(261),s=n(458),l=n.n(s),d=n(1093),u=n(1092),j=n(1082),b=n(98),f=n(43),h=n(14),p=n(262),x=n(27),m=n(1091),v=n(4),O=n(464),g=n.n(O),y=n(3),w=n(1090),C=n(119),k=n.n(C),S=n(455),N=n.n(S),W=n(0),R=n.n(W),A=n(34),z=n(1065),F=n(7),D=n(1),T=Object(F.a)(z.a)((function(e){var t=e.theme;return{"& .MuiPaginationItem-root":Object(y.a)({},t.breakpoints.down("md"),{height:"1.8rem",width:"1rem"})}})),P=Object(F.a)(r.a)((function(e){var t,n=e.theme;return t={},Object(y.a)(t,n.breakpoints.down("sm"),{justifyContent:"center"}),Object(y.a)(t,"display","flex"),Object(y.a)(t,"justifyContent","space-between"),Object(y.a)(t,"flexWrap","wrap"),t})),I=function(e){var t=e.data,n=void 0===t?[]:t,a=e.onPageChange,i=e.page,c=void 0===i?0:i,o=e.count,r=void 0===o?0:o,s=e.limit,l=void 0===s?1:s,d=Object(W.useState)(0),u=Object(h.a)(d,2),j=u[0],b=u[1];Object(W.useEffect)((function(){Array.isArray(n)&&b(n.length)}),[n]);return j<10&&r<10?null:Object(D.jsxs)(P,{direction:"row",alignItems:"center",children:[r>10&&Object(D.jsxs)(f.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",n.length," of ",r," entries"]}),n.length!==r&&Object(D.jsx)(T,{count:Math.ceil(r/l),color:"primary",variant:"contained",page:c+1,size:"medium",onChange:function(e,t){a&&a(e,t)}})]})},M=n(361);function L(){return Object(D.jsx)(a.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:2}},children:Object(D.jsx)(M.a,{})})}var E=n(454),H=n(30),_=["row","columns","config","handleRowClick","rowIndex","handleDelete","hasDeletePermission"],B=["columns","data","config","handleRowClick","handleDelete"],V=Object(F.a)(w.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:12,padding:"0 8px"})})),K=Object(F.a)(g.a)((function(e){var t=e.theme;return Object(y.a)({},t.breakpoints.down("xs"),{fontSize:14})}));function Y(e){var t=e.columns,n=void 0===t?[]:t,a=e.config,i=void 0===a?{}:a,c=i.headerCellSx,o=void 0===c?{}:c,r=i.hasDelete,s=Object(W.useMemo)((function(){return n.map((function(e,t){var n=e||{},a=n.label,i=void 0===a?"":a,c=n.id,r=void 0===c?"":c,s=n.visible,l=void 0===s||s;return(k.a.isFunction(l)?l({column:e}):l)?Object(D.jsx)(V,{padding:"normal",sx:Object(v.a)({color:"#000",bgcolor:"#fafafa",fontWeight:800},o),children:i},r||t):null}))}),[n,o]);return Object(D.jsxs)(m.a,{children:[s,r&&Object(D.jsx)(V,{padding:"none",sx:Object(v.a)({},o)})]})}var q=function(e){var t=e.columns,n=e.data,a=void 0===n?[]:n,i=e.config,c=void 0===i?{}:i,o=e.handleRowClick,r=e.handleDelete,s=Object(x.a)(e,B);return(a||[]).map((function(e,n){var a=c.dataKey,i=void 0===a?"":a;return i&&(e=e[i]),function(e){var t=e.row,n=void 0===t?[]:t,a=e.columns,i=void 0===a?{}:a,c=e.config,o=void 0===c?{}:c,r=e.handleRowClick,s=e.rowIndex,l=e.handleDelete,d=e.hasDeletePermission,u=Object(x.a)(e,_),j=o.hasDelete,b=void 0!==j&&j,f=o.rowCellPadding,h=void 0===f?"none":f,O=o.onRowClick,g=void 0===O?void 0:O,y=o.rowStyleCb,w=u.role,C={};y&&(C=y({row:n})||{});var S=Object(D.jsx)(V,{sx:{},padding:"none",component:"th",scope:"row",children:Object(D.jsx)(p.a,{onClick:l.bind(void 0,n._id,n),disabled:!d,children:Object(D.jsx)(K,{color:"error"})})}),N=i.map((function(e,t){var a,i=e||{},c=i.id,o=void 0===c?"":c,r=i.renderer,l=i.emptyState,d=void 0===l?"":l,u=i.valueFormatter,j=i.visible,b=void 0===j||j;return(k.a.isFunction(b)?b({column:e}):b)?(a=u&&k.a.isFunction(u)?u(n[o]):k.a.isFunction(r)?r({row:n,role:w},s)||d:k.a.isObject(n)?k.a.get(n,o,d):n[o]||d,Object(D.jsx)(V,{padding:h||"normal",component:"th",scope:"row",children:a},o+t)):null}));return Object(D.jsxs)(m.a,{hover:!!g,onClick:function(e){e.preventDefault(),k.a.isFunction(r)&&r(n)},sx:g?Object(v.a)({cursor:"pointer"},C):Object(v.a)({},C),children:[N,b&&S]},s)}(Object(v.a)({row:e,columns:t,config:c,handleRowClick:o,rowIndex:n,handleDelete:r},s))}))},G=function(e){var t=e.config,n=void 0===t?{}:t,s=e.data,x=void 0===s?[]:s,m=e.history,O=e.loading,g=void 0!==O&&O,y=e.onRefetch,w=e.isRefetching;x=x||[];var C=Object(W.useState)({}),k=Object(h.a)(C,2),S=k[0],A=k[1],z=Object(W.useState)({open:!1,config:{}}),F=Object(h.a)(z,2),T=F[0],P=F[1],M=n.columns,_=void 0===M?[]:M,B=n.onRowClick,V=n.hasOnClickUrl,K=void 0===V||V,G=n.onPageChange,U=n.page,Z=n.count,J=n.limit,$=n.size,Q=void 0===$?"medium":$,X=n.emptyMessage,ee=void 0===X?"":X,te=n.onRowClickDataCallback,ne=n.showRefresh,ae=void 0!==ne&&ne,ie=n.onDelete,ce=n.deleteMessage,oe=n.deletePermissions,re=void 0===oe?[]:oe,se=n.containerHeight,le=void 0===se?"":se,de=Object(H.d)().user.role,ue=void 0===de?"":de,je=re.indexOf(ue)>-1||!1,be=R.a.useRef([]),fe=Array.isArray(x)&&x.length,he=function(e){if(K&&B){var t=B(e);te&&(e=te(e)),m.push(t,e)}else B&&B(e)},pe=function(e,t,n){n.stopPropagation();var a={title:function(){return Object(D.jsxs)(b.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(D.jsx)(N.a,{color:"error"}),Object(D.jsx)(f.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]})},okText:"Delete",onOk:function(){return ie(e,xe)},content:function(){return Object(D.jsx)(j.a,{sx:{color:"#000"},children:ce||"Are you sure you want to delete the record?"})}};P(Object(v.a)(Object(v.a)({},T),{},{open:!0,config:a}))};function xe(){P(Object(v.a)(Object(v.a)({},T),{},{open:!1}))}var me=Object(W.useMemo)((function(){return fe?Object(D.jsxs)(W.Fragment,{children:[Object(D.jsx)(u.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(D.jsx)(Y,{columns:_,config:n})}),Object(D.jsx)(d.a,{children:Object(D.jsx)(q,{role:ue,columns:_,data:x,config:n,handleRowClick:he,handleDelete:pe,hasDeletePermission:je},Date.now())})]}):Object(D.jsx)("tbody",{style:{height:300},children:Object(D.jsx)("tr",{children:Object(D.jsx)("td",{style:{textAlign:"center"},children:Object(D.jsx)("h4",{children:ee||"No records found"})})})})}),[x,n]);return Object(W.useEffect)((function(){var e;if(null!==be&&void 0!==be&&null!==(e=be.current)&&void 0!==e&&e.table){var t=be.current.table.offsetHeight;A(Object(v.a)(Object(v.a)({},S),{},{height:t>200?t:void 0}))}}),[]),Object(D.jsxs)(a.a,{className:"enhanced-table",sx:{height:fe&&!g?le||"95%":"auto"},children:[ae&&Object(D.jsx)(r.a,{alignItems:"flex-end",children:Object(D.jsx)(p.a,{title:"Refresh",onClick:y,children:Object(D.jsx)(l.a,{className:w?"rotateIcon":void 0})})}),Object(D.jsx)(c.a,{component:i.a,className:"",sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:fe&&!g?"calc(100% - 64px)":"auto"},children:g?function(){var e=window.innerHeight-180,t=(S.height?S.height>e?e:S.height:e)||e;return Object(D.jsx)(b.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(D.jsx)(b.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(D.jsx)(L,{})})})}():Object(D.jsx)(o.a,{ref:function(e){return be.current.table=e},"aria-label":"caption table",size:Q,stickyHeader:!0,children:me})}),!g&&x.length>0&&Object(D.jsx)(I,{data:x,onPageChange:G,page:U,count:Z,limit:J}),Object(D.jsx)(E.a,{className:"enhancedTable_dialog",open:T.open,config:T.config,onClose:xe})]})};t.a=Object(A.withRouter)(Object(W.memo)(G))},456:function(e,t,n){"use strict";var a=n(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(116)),c=n(1),o=(0,i.default)((0,c.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.default=o},501:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return j}));var a=n(4),i=n(33),c=n(51),o=n(48),r=n.n(o),s=n(35),l=n(10),d=function(){return function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l.A,payload:{loading:!0}}),e.next=4,r.a.get("/api/warehouse");case 4:n=e.sent,a=n.data,200===n.status&&t({type:l.A,payload:{warehouses:a,loading:!1}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},u=function(e,t){return Object(c.a)(Object(i.a)().mark((function n(){var a;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.post("/api/warehouse",e);case 3:200===(a=n.sent).status&&(Object(s.a)(a.data.message||e._id?"Facility Updated":"Facility Added"),t&&t(a)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))},j=function(e,t){return function(){var n=Object(c.a)(Object(i.a)().mark((function n(a){var c;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.get("/api/warehouse/"+e);case 3:200===(c=n.sent).status&&(a({type:l.z,payload:{warehouseById:c.data}}),t&&t(c.data.data)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},b=function(){var e=Object(c.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.post("/api/warehouse/getLocation",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return function(){var t=Object(c.a)(Object(i.a)().mark((function t(n){var c,o,r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:c=t.sent,o=c.status,r=c.data,n({type:l.pb,payload:{loading:!0}});try{200===o&&r.success?n({type:l.pb,payload:{loading:!1,location:Object(a.a)({},r)}}):r.success||(Object(s.a)(r.message,"error"),n({type:l.pb,payload:{loading:!1,location:{}}}))}catch(i){Object(s.a)(r.message,"error"),n({type:l.pb,payload:{loading:!1,location:{}}})}case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},504:function(e,t,n){"use strict";var a=n(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(116)),c=n(1),o=(0,i.default)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},581:function(e,t,n){"use strict";var a=n(115);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(116)),c=n(1),o=(0,i.default)((0,c.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o}}]);
//# sourceMappingURL=15.87e97dd2.chunk.js.map