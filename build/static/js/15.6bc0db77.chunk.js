(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{1018:function(e,t,n){"use strict";var a=n(1),o=n(4),r=n(91),c=n(16),i=n(0),s=n.n(i),l=n(11),d=n.n(l),u=n(305),b=n.n(u),j=n(437),f=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"],m={children:d.a.node,type:d.a.string,size:d.a.oneOfType([d.a.number,d.a.string]),bsSize:d.a.string,valid:d.a.bool,invalid:d.a.bool,tag:j.b,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),plaintext:d.a.bool,addon:d.a.bool,className:d.a.string,cssModule:d.a.object},p=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(r.a)(n)),n.focus=n.focus.bind(Object(r.a)(n)),n}Object(c.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.focus=function(){this.ref&&this.ref.focus()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,r=e.type,c=e.bsSize,i=e.valid,l=e.invalid,d=e.tag,u=e.addon,m=e.plaintext,p=e.innerRef,h=Object(o.a)(e,f),g=["radio","checkbox"].indexOf(r)>-1,x=new RegExp("\\D","g"),O=d||("select"===r||"textarea"===r?r:"input"),y="form-control";m?(y+="-plaintext",O=d||"input"):"file"===r?y+="-file":"range"===r?y+="-range":g&&(y=u?null:"form-check-input"),h.size&&x.test(h.size)&&(Object(j.c)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),c=h.size,delete h.size);var v=Object(j.a)(b()(t,l&&"is-invalid",i&&"is-valid",!!c&&"form-control-"+c,y),n);return("input"===O||d&&"function"===typeof d)&&(h.type=r),h.children&&!m&&"select"!==r&&"string"===typeof O&&"select"!==O&&(Object(j.c)('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete h.children),s.a.createElement(O,Object(a.a)({},h,{ref:p,className:v,"aria-invalid":l}))},t}(s.a.Component);p.propTypes=m,p.defaultProps={type:"text"},t.a=p},1019:function(e,t,n){"use strict";var a=n(1),o=n(4),r=n(0),c=n.n(r),i=n(11),s=n.n(i),l=n(305),d=n.n(l),u=n(437),b=["className","cssModule","row","disabled","check","inline","tag"],j={children:s.a.node,row:s.a.bool,check:s.a.bool,inline:s.a.bool,disabled:s.a.bool,tag:u.b,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,n=e.cssModule,r=e.row,i=e.disabled,s=e.check,l=e.inline,j=e.tag,f=Object(o.a)(e,b),m=Object(u.a)(d()(t,!!r&&"row",s?"form-check":"form-group",!(!s||!l)&&"form-check-inline",!(!s||!i)&&"disabled"),n);return"fieldset"===j&&(f.disabled=i),c.a.createElement(j,Object(a.a)({},f,{className:m}))};f.propTypes=j,f.defaultProps={tag:"div"},t.a=f},1128:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(275),r=n(13),c=n(197),i=n(903),s=n(1040),l=n(87),d=n(245),u=n(289),b=n(138),j=n(293),f=n(438),m=n.n(f),p=n(613),h=n.n(p);var g=e=>{const{bidAmount:t="",offerStatus:n,vendorName:a,event_data:o={},loadDetail:{client:{client_name:r=""}={}}={}}=e||{},{counter_offer:{expired_at:c="",id:i}={},offer:{external_id:s}={}}=o,l=t.includes(",")?t.split(","):t;return{amount:Array.isArray(l)?l[l.length-1]:l,offerStatus:n,vendorName:a,external_id:s,expired_at:c,counterOfferId:i,client_name:r}},x=n(56),O=n(28),y=n(89);const{user:{orgId:v}={}}=Object(y.d)();var w=n(96),C=n(27),S=n(436),D=n(281),k=n(306),N=n(2);const R=e=>{let{value:t,name:n,handleChange:o}=e;const[r,c]=Object(a.useState)(t);return Object(a.useEffect)((()=>{o&&o({name:n,value:r})}),[r,n,o]),Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(d.a,{onClick:()=>{r>0&&c(r-1)},disabled:r<=0,children:Object(N.jsx)(h.a,{})}),Object(N.jsx)("div",{className:"dollarInput",children:Object(N.jsx)(j.a,{name:"bidAmount",label:"Amount ($)",onChange:e=>{const t=e.target.value;c(t)},type:"number",value:r,className:""})}),Object(N.jsx)(d.a,{onClick:()=>{c(parseInt(r)+1)},children:Object(N.jsx)(m.a,{})})]})},_=["final_offer_created","accepted"],z=e=>{const{location:{state:t={}}={},history:n,onCloseUrl:o,onRefresh:r}=e,{loadNumber:d="",vendorName:j=""}=t,[f,m]=Object(a.useState)("0.00"),{mutation:p}=Object(D.a)("/api/bid/deleteBidByLoadNumber/"+d,E),[h,z]=Object(a.useState)({amount:0}),I=(null===t||void 0===t?void 0:t.offerStatus)||"",B=_.some((e=>e.equalsIgnoreCase(I)))||!1,T=I.equalsIgnoreCase("COUNTER_OFFER_CREATED"),A=j.equalsIgnoreCase("c.h. robinson"),F=!!h.offerStatus,P=h.client_name,L=A&&I.equalsIgnoreCase("notconsidered");Object(a.useEffect)((()=>{if(j.equalsIgnoreCase("new trul")){const e=g(t);m(e.amount),z(e)}else if(A){const e=(e=>{const{bidAmount:t="",offerStatus:n,vendorName:a,event_data:o={}}=e||{};return{amount:t,offerStatus:n,vendorName:a,event_data:o}})(t);z(e),m(e.amount)}}),[t,j]);const M=e=>{e.error?Object(C.a)(e.message,"error"):n.goBack()};function E(e,t){e?(M({}),Object(C.a)("Bid success for Load number",d)):Object(C.a)(t.message,"error")}const H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{counterOfferId:a}=h,c={offerId:a,mcNumber:w.c,carrierMail:w.a,status:e};if(B){if(j.equalsIgnoreCase("c.h. robinson")){if("reject"===e)return p({},"delete");const n=(new Date).toDateString(),a=(new Date).toTimeString(),{type:o,code:r,description:c,units:i,currencyCode:s}=t.loadDetail.availableLoadCosts[0]||{},l={carrierCode:w.h.carrierCode,loadNumber:Number(d),emptyDateTime:new Date(n+" "+a).toISOString(),availableLoadCosts:[{type:o,code:r,description:c,units:i,currencyCode:s,sourceCostPerUnit:Number(f)}],emptyLocation:{city:"Greenwood",state:"IN",country:"NA",zip:"46143"},rateConfirmation:{email:Object(y.d)().user.email,name:Object(y.d)().user.name}};return Object(S.b)(d,l,E)}(async e=>{try{return await Object(x.d)({uri:Object(O.c)()+"/newTrulFinalOffer?orgId="+v,body:e})}catch(t){}})(c).then((e=>{"error"===e.data.status&&Object(C.a)(e.data.message,"error")})).catch((e=>console.log(e)))}else(async e=>{try{return await Object(x.c)({uri:Object(O.c)()+"/newtrulUpdateOfferStatus?orgId="+v,body:e})}catch(t){}})(c).then((e=>{"error"===e.data.status?Object(C.a)(e.data.message,"error"):e.data.status.equalsIgnoreCase("success")&&(r&&r(),n.push(o))})).catch((e=>console.log(e)))};return Object(N.jsx)(u.a,{children:Object(N.jsx)(c.a,{sx:{px:3},justifyContent:"center",display:"flex",children:Object(N.jsxs)("form",{onSubmit:()=>{},style:{textAlign:"center"},className:"form_bidding",children:[Object(N.jsx)(l.a,{sx:{fontSize:32},children:P||j||"--"}),Object(N.jsxs)(l.a,{sx:{fontSize:32},children:["Load Number: ",d]}),B&&Object(N.jsx)(l.a,{fontSize:18,sx:{my:3},children:"Final Offer: $".concat(h.amount)}),T&&Object(N.jsx)(l.a,{fontSize:18,children:"Offer: $".concat(h.amount)}),Object(N.jsxs)(i.a,{gap:2,direction:"row",justifyContent:"center",my:2,children:[Object(N.jsx)(s.a,{variant:"contained",color:"success",sx:{px:5},onClick:H.bind(void 0,"accept"),disabled:!F,children:"Accept"}),Object(N.jsx)(s.a,{variant:"contained",color:"error",sx:{px:5},onClick:H.bind(void 0,"reject"),disabled:!F,children:L?"Delete":"Reject"})]}),A&&!F?Object(N.jsx)(k.a,{config:{open:!0,message:"We are waiting for the response on this bid.",severity:"info"}}):null,!B&&!A&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{children:"OR"}),Object(N.jsx)(i.a,{direction:"row",sx:{py:2},alignItems:"end",gap:"10px",justifyContent:"center",children:Object(N.jsx)(R,{value:f,handleChange:e=>{let{value:t}=e;m(t)}})}),Object(N.jsx)(s.a,{variant:"contained",color:"primary",sx:{px:2,py:.5,fontSize:14},onClick:()=>{if(j.equalsIgnoreCase("new trul")){const{counterOfferId:e}=h,t={offerId:e,external_id:Object(b.a)(),offer_amount:f,expired_at:h.expired_at,mcNumber:w.c,carrierMail:w.a};h.offerStatus.equalsIgnoreCase("COUNTER_OFFER_CREATED")&&(async(e,t)=>{try{const{data:n}=await Object(x.d)({uri:Object(O.c)()+"/newTrulCounterOffer?orgId="+v,body:e});t&&t(n)}catch(n){}})(t,M)}},children:T?"Submit Counter":"Submit Bid"})]})]})})})};var I=Object(a.memo)(z,(()=>!0)),B=n(615),T=n(366),A=n(74),F=n.n(A);const P=e=>{let{history:t,path:n,totalCount:o,onPageChange:r,page:c,limit:i}=e;return{rowCellPadding:"normal",size:"small",emptyMessage:"No Bids Found",showRefresh:!0,onPageChange:r,page:c-1,limit:i,onRowClick:e=>{let{loadNumber:t,vendorName:a=""}=e;return"new trul"===a.toLowerCase()?"".concat(n,"/newtrul/").concat(t):"".concat(n,"/").concat(t)},onRowClickDataCallback:e=>e.loadDetail||{},count:o,rowStyleCb:e=>{let{row:t}=e;const{bidLevel:n,status:a}=t;return 2===n?{borderLeft:"5px solid #ffeaa7"}:1===n?{borderLeft:a?"5px solid #00b894":"5px solid #e74c3c"}:void 0},columns:[{id:"loadNumber",label:"Load Number"},{id:"pickup",label:"Pickup City/State",renderer:e=>{var t,n;let{row:o}=e;const{loadDetail:r={}}=o;var c,i;if("c.h. robinson"===(null===(t=o.vendorName)||void 0===t?void 0:t.toLowerCase()))return"".concat(null===r||void 0===r||null===(c=r.origin)||void 0===c?void 0:c.city,", ").concat(null===r||void 0===r||null===(i=r.origin)||void 0===i?void 0:i.stateCode);const[s,l]=(null===o||void 0===o||null===(n=o.loadDetail)||void 0===n?void 0:n.stops)||[],{geo:d}=l||{},{city:u="",state:b=""}=d||{};return u||b?Object(N.jsxs)(a.Fragment,{children:[u,", ",b]}):"--"}},{id:"",label:"PickUp Date",renderer:e=>{var t;let n,{row:o}=e;const[r,c]=(null===o||void 0===o||null===(t=o.loadDetail)||void 0===t?void 0:t.stops)||[{}];if("C.H. Robinson"===o.vendorName)return F()(o.loadDetail.pickUpByDate).format("M/DD/YYYY");if(c){const{early_datetime:e=""}=c||{};return e?F()(e).format("M/DD/YYYY"):"--"}const{early_datetime:i=""}=c||{};return n=i?F()(i).format("M/DD/YYYY"):"--",Object(N.jsx)(a.Fragment,{children:n})}},{id:"",label:"Delivery City / State",renderer:e=>{var t;let{row:n={}}=e;const{loadDetail:o={}}=n;var r,c;if("c.h. robinson"===(null===(t=n.vendorName)||void 0===t?void 0:t.toLowerCase()))return"".concat(null===o||void 0===o||null===(r=o.destination)||void 0===r?void 0:r.city,", ").concat(null===o||void 0===o||null===(c=o.destination)||void 0===c?void 0:c.stateCode);const[i]=o.stops||[],{geo:s}=i||{},{city:l="",state:d=""}=s||{};return l||d?Object(N.jsxs)(a.Fragment,{children:[l,", ",d]}):"--"}},{id:"deliveryDate",label:"Delivery Date",renderer:e=>{var t,n;let{row:a}=e;var o;if(null!==(t=a.loadDetail)&&void 0!==t&&t.deliverBy)return F()(null===(o=a.loadDetail)||void 0===o?void 0:o.deliverBy).format("M/DD/YYYY");const[r,c]=(null===a||void 0===a||null===(n=a.loadDetail)||void 0===n?void 0:n.stops)||[],{early_datetime:i}=r||{};return i?F()(i).format("M/DD/YYYY"):"--"}},{id:"equipment",label:"Equipment",renderer:e=>{let{row:t}=e;const{equipment:n,vendorName:o=""}=t.loadDetail||{};if("chrobinson"===o.toLowerCase()){const{modesString:e="",standard:n=""}=Object(w.g)(t.loadDetail||{});return Object(N.jsxs)(a.Fragment,{children:[e," ",n]})}return"string"===typeof n?Object(N.jsx)(a.Fragment,{children:n}):"--"}},{id:"",label:"Weight",renderer:e=>{let{row:t}=e;const{weight:n}=t.loadDetail||{};if("number"===typeof n)return Object(N.jsxs)(a.Fragment,{children:[n," lbs"]});if(null!==n&&void 0!==n&&n.pounds){let{weight:{pounds:e=""}={}}=t.loadDetail||{};return e&&(e+=" lbs"),e}return"--"}},{id:"vendorName",label:"Company",renderer:e=>{let{row:t}=e;const{loadDetail:{client:n={}}={}}=t;return n.client_name?n.client_name:t.vendorName||""}},{id:"status",label:"Bid Status",renderer:e=>{let{row:t}=e;const{offerStatus:n=""}=g(t)||{},o=n.toLowerCase().includes("rejected");return"C.H. Robinson"===t.vendorName&&t.offerStatus?t.offerStatus:Object(N.jsx)(a.Fragment,{children:t.status?"Accepted":o?"Rejected":(r=t.bidLevel,2===r?"Counter":1===r?"Pending":"Final Offer")});var r}},{id:"Bidding",label:"Bid",renderer:e=>{let{row:o}=e;const{vendorName:r=""}=o||{};let c=n+"/bid/".concat(o.loadNumber);const{offerStatus:i=""}=g(o)||{},l=(i.equalsIgnoreCase("COUNTER_OFFER_CREATED"),i.equalsIgnoreCase("final_offer_created"),i.toLowerCase().includes("rejected"));return r.toLowerCase(),Object(N.jsx)(a.Fragment,{children:!l&&Object(N.jsx)(s.a,{variant:"contained",color:"primary",onClick:e=>{e.stopPropagation(),t.push(c,{...o})},children:"View"})})}}]}};var L=n(617);t.default=()=>{const{path:e}=Object(r.useRouteMatch)(),t=Object(r.useHistory)(),[n,c]=Object(a.useState)({page:1,limit:10}),{page:i,limit:s}=n,{data:l={},loading:d=!0,refetch:u,isRefetching:b}=Object(T.a)("/api/bid/biddings?page=".concat(i,"&limit=").concat(s)),{data:j=[],totalCount:f=0,message:m}=l||{};Object(a.useEffect)((()=>{const e=setInterval((()=>{u()}),5e3);return()=>clearInterval(e)}),[i,s,u]);return m?Object(N.jsx)(L.a,{message:m}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(o.a,{config:P({history:t,path:e,totalCount:f,onPageChange:(e,t)=>{c((e=>({...e,page:t})))},page:i,limit:s}),data:j,loading:d,onRefetch:u,isRefetching:b}),Object(N.jsxs)(r.Switch,{children:[Object(N.jsx)(r.Route,{path:e+"/bid/:loadNumber",render:t=>Object(N.jsx)(I,{...t,onCloseUrl:e,onRefresh:u})}),Object(N.jsx)(r.Route,{path:e+"/newtrul/:loadId",render:e=>Object(N.jsx)(B.a,{...e,callDetail:!1})})]})]})}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(198),o=(n(0),n(199)),r=n(2);function c(e){return Object(r.jsx)(a.a,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center","& > * + *":{marginLeft:2}},children:Object(r.jsx)(o.a,{...e})})}},275:function(e,t,n){"use strict";var a=n(198),o=n(244),r=n(1170),c=n(1165),i=n(1171),s=n(903),l=n(315),d=n.n(l),u=n(1169),b=n(1168),j=n(1149),f=n(197),m=n(87),p=n(245),h=n(1167),g=n(328),x=n.n(g),O=n(1166),y=n(262),v=n.n(y),w=n(292),C=n.n(w),S=n(0),D=n.n(S),k=n(13),N=n(1120),R=n(9),_=n(267),z=n(2);const I=Object(R.a)(N.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),B=Object(R.a)(s.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var T=e=>{let{data:t=[],onPageChange:n,page:a=1,count:o=0,limit:r=1,onPageSizeChange:c}=e;const[i,l]=Object(S.useState)(0);Object(S.useEffect)((()=>{Array.isArray(t)&&l(t.length)}),[t]);return o<=5?null:Object(z.jsxs)(B,{direction:"row",alignItems:"center",children:[Object(z.jsxs)(m.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",i," of ",o," entries"]}),Object(z.jsxs)(s.a,{direction:"row",alignItems:"center",children:[Object(z.jsx)(_.e,{name:"pageSize",label:"",value:r,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof c&&c({value:t})}}),Object(z.jsx)(I,{count:Math.ceil(o/r),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},A=n(272),F=n(308),P=n(89);const L=Object(R.a)(O.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),M=Object(R.a)(x.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function E(e){let{columns:t=[],config:n={},role:a}=e;const{headerCellSx:o={},hasDelete:r}=n,c=Object(S.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:r="",visible:c=!0}=e||{};return(v.a.isFunction(c)?c({column:e,role:a}):c)?Object(z.jsx)(L,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...o},children:n},r||t):null}))),[t,o]);return Object(z.jsxs)(h.a,{children:[c,r&&Object(z.jsx)(L,{padding:"none",sx:{...o}})]})}const H=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:o,handleDelete:r,...c}=e;return(n||[]).map(((e,n)=>{const{dataKey:i=""}=a;return i&&(e=e[i]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:o,rowIndex:r,handleDelete:c,hasDeletePermission:i,...s}=e;const{hasDelete:l=!1,rowCellPadding:d="none",onRowClick:u,rowStyleCb:b}=a,{role:j}=s;let f={};b&&(f=b({row:t})||{});const m=Object(z.jsx)(L,{sx:{},padding:"none",component:"th",scope:"row",children:Object(z.jsx)(p.a,{onClick:c.bind(void 0,t._id,t),disabled:!i,children:Object(z.jsx)(M,{color:"error"})})}),g=n.map(((e,n)=>{const{id:a="",renderer:o,emptyState:c="--",valueFormatter:i,visible:s=!0}=e||{};if(!(v.a.isFunction(s)?s({column:e,role:j}):s))return null;let l;return l=i&&v.a.isFunction(i)?i(t[a]):v.a.isFunction(o)?o({row:t,role:j},r)||c:v.a.get(t,a,c)||c,Object(z.jsx)(L,{padding:d||"normal",component:"th",scope:"row",children:l},a+n)}));return Object(z.jsxs)(h.a,{hover:!!u,onClick:e=>{e.preventDefault(),v.a.isFunction(o)&&o(t)},sx:u?{cursor:"pointer",...f}:{...f},children:[g,l&&m]},r)})({row:e,columns:t,config:a,handleRowClick:o,rowIndex:n,handleDelete:r,...c})}))},q=e=>{let{config:t={},data:n=[],history:l,loading:h=!1,onRefetch:g,isRefetching:x,actions:O,isPaginationLoading:y=!1}=e;n=n||[];const[w,k]=Object(S.useState)({}),[N,R]=Object(S.useState)({open:!1,config:{}}),{columns:_=[],onRowClick:I,hasOnClickUrl:B=!0,onPageChange:L,page:M,count:q,limit:Y,onPageSizeChange:U,size:W="medium",emptyMessage:$="",onRowClickDataCallback:V,showRefresh:K=!1,onDelete:G,deleteMessage:J,deletePermissions:Q=[],containerHeight:X=""}=t,{role:Z=""}=Object(P.d)().user,ee="boolean"===typeof Q?Q:Q.indexOf(Z)>-1||!1,te=D.a.useRef([]),ne=Array.isArray(n)&&n.length,ae=Object(S.useMemo)((()=>O&&D.a.isValidElement(O)?O:Object(z.jsx)(z.Fragment,{})),[O]),oe=e=>{if(B&&I){const t=I(e);V&&(e=V(e)),l.push(t,e)}else I&&I(e)},re=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(z.jsxs)(f.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(z.jsx)(C.a,{color:"error"}),Object(z.jsx)(m.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>G(e,ce,{row:t}),content:()=>Object(z.jsx)(j.a,{sx:{color:"#000"},children:v.a.isFunction(J)?J({row:t}):J||"Are you sure you want to delete the record?"})};R({...N,open:!0,config:a})};function ce(){R({...N,open:!1})}const ie=Object(S.useMemo)((()=>ne?Object(z.jsxs)(S.Fragment,{children:[Object(z.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(z.jsx)(E,{columns:_,config:t,role:Z})}),Object(z.jsx)(u.a,{children:Object(z.jsx)(H,{role:Z,columns:_,data:n,config:t,handleRowClick:oe,handleDelete:re,hasDeletePermission:ee},Date.now())})]}):Object(z.jsx)("tbody",{style:{height:300},children:Object(z.jsx)("tr",{children:Object(z.jsx)("td",{style:{textAlign:"center"},children:Object(z.jsx)("h4",{children:$||"No records found"})})})})),[n,t]);return Object(S.useEffect)((()=>{var e;if(null!==te&&void 0!==te&&null!==(e=te.current)&&void 0!==e&&e.table){const e=te.current.table.offsetHeight;k({...w,height:e>200?e:void 0})}}),[]),Object(z.jsxs)(a.a,{className:"enhanced-table",sx:{height:ne&&!h?X||"95%":"auto"},children:[Object(z.jsxs)(s.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[ae,K&&Object(z.jsx)(p.a,{title:"Refresh",onClick:g,children:Object(z.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(z.jsxs)(r.a,{component:o.a,className:"",sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:ne&&!h?"calc(100% - 80px)":"auto",position:"relative"},children:[h?(()=>{const e=window.innerHeight-180,t=(w.height?w.height>e?e:w.height:e)||e;return Object(z.jsx)(f.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(z.jsx)(f.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(z.jsx)(A.a,{})})})})():Object(z.jsx)(i.a,{ref:e=>te.current.table=e,"aria-label":"caption table",size:W,stickyHeader:!0,children:ie}),Object(z.jsx)(c.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:y||x||!1,children:Object(z.jsx)(A.a,{sx:{color:"inherit"}})})]}),!h&&n.length>0&&Object(z.jsx)(T,{data:n,onPageChange:L,page:M,count:q,limit:Y,onPageSizeChange:U}),Object(z.jsx)(F.a,{className:"enhancedTable_dialog",open:N.open,config:N.config,onClose:ce})]})};t.a=Object(k.withRouter)(Object(S.memo)(q))},293:function(e,t,n){"use strict";var a=n(87),o=(n(0),n(262)),r=n.n(o),c=n(1018),i=n(1019),s=n(2);const l=e=>{const{label:t="",type:n="text",options:a=[],labelKey:o="label",valueKey:i="id",onChangeSelect:l,showFirstBlank:d=!1,onBlur:u}=e;if(delete(e=r.a.cloneDeep(e)).showFirstBlank,"select"===n.toLowerCase()){Array.isArray(a)&&a.length||console.error("Options are mandatory in array format");const r=(a||[]).map((e=>Object(s.jsx)("option",{value:e[i],children:e[o]},e[i])));return d&&r.unshift(Object(s.jsx)("option",{value:"",children:"Select an option"})),Object(s.jsx)(c.a,{...e,onChange:l,id:t,type:n,children:r})}return Object(s.jsx)(c.a,{id:t,type:n,...e,onBlur:u})};t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{label:t="",type:n="text",multiple:o=!1,onChange:r,labelStyle:c={},direction:d="column",formGrpStyle:u={},errorText:b="",onBlur:j}=e;return Object(s.jsxs)(i.a,{style:"row"===d?{display:"flex",alignItems:"center",...u}:{...u},children:[t&&Object(s.jsx)("label",{className:"form-control-label",htmlFor:t,style:{color:"#525F7F",marginRight:8,...c},children:t}),Object(s.jsx)(l,{...e,onChangeSelect:e=>{if("select"===n.toLowerCase()&&o){const{options:t,name:n}=e.target,a=[];for(let e=0,o=t.length;e<o;e++)t[e].selected&&a.push(t[e].value);r&&r(e,a,n)}else r&&r(e)},onBlur:e=>{j&&j(e.target.name,e.target.value)}}),b&&Object(s.jsx)(a.a,{variant:"subtitle2",sx:{color:"red",fontSize:"0.75em"},children:b})]})}},314:function(e,t,n){"use strict";var a=n(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(90)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.default=c},366:function(e,t,n){"use strict";var a=n(0),o=n(56),r=n(89);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[c,i]=Object(a.useState)(void 0),[s,l]=Object(a.useState)(!1),[d,u]=Object(a.useState)(null),[b,j]=Object(a.useState)(!1);function f(){let a=e;n.queryParams&&(a="".concat(a,"?").concat(Object(r.h)(n.queryParams))),Object(o.b)({uri:a,callback:t,showTriggers:!1}).then((e=>{e.data&&i(e.data)})).finally((()=>{l(!1),j(!1)}))}return Object(a.useEffect)((()=>{l(!0),i(null),u(null),f()}),[e]),{data:c,loading:s,error:d,refetch:function(){j(!0),f()},isRefetching:b}}},435:function(e,t,n){"use strict";var a=n(903),o=n(87),r=(n(0),n(2));t.a=e=>{let{title:t="",location:n="",name:c,type:i="",date:s,appointment:l="",avgLoadTime:d="",loadBy:u,loadByType:b}=e;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.a,{sx:{fontSize:24},children:t}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:c}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:n}),i&&Object(r.jsxs)(a.a,{direction:"row",justifyContent:"center",children:[Object(r.jsxs)(o.a,{sx:{fontSize:24,mr:1},children:[i,": "]}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:s})]}),u&&Object(r.jsxs)(a.a,{direction:"row",justifyContent:"center",children:[Object(r.jsxs)(o.a,{sx:{fontSize:24,mr:1},children:[b,": "]}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:u})]}),l&&Object(r.jsxs)(a.a,{direction:"row",justifyContent:"center",children:[Object(r.jsx)(o.a,{sx:{fontSize:24,mr:1},children:"Appointment: "}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:l})]}),d&&Object(r.jsxs)(a.a,{direction:"row",justifyContent:"center",children:[Object(r.jsx)(o.a,{sx:{fontSize:24,mr:1},children:"Average Load Time: "}),Object(r.jsx)(o.a,{sx:{fontSize:24},children:d})]})]})}},436:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h}));var a=n(23),o=n.n(a),r=n(27),c=n(3),i=n(28),s=n(56),l=n(89);const{user:{orgId:d=null}={}}=Object(l.d)(),u=async(e,t,n)=>{try{const a=await o.a.post(Object(i.c)()+"/CHBidding"+"?loadNumber=".concat(e,"?orgId=").concat(d),t),{data:r,success:c}=a;return n&&n(c,r),a}catch(a){console.log(a)}},b=async(e,t,n)=>{try{const e=await o.a.post(Object(i.c)()+"/bookload?orgId="+d,t),{data:a,success:r}=e;return n&&n(r,a),e}catch(a){console.log(a)}},j=async(e,t,n)=>{try{const{success:a,data:o}=await Object(s.d)({uri:"/api/bid/newTrulBidding/"+t,body:e});if(a){delete e.loadDetail;const{success:t,data:a}=await Object(s.d)({baseUrl:Object(i.c)(),uri:"/newTrulBidLoad?orgId="+d,body:e});t&&Object(r.a)("Bid submitted successfully"),n&&n(t,a),"error"===a.status&&Object(r.a)(a.message,"error")}else Object(r.a)(o.message,"error")}catch(a){console.log(a.message)}},f=(e,t)=>async()=>{try{const{success:n,data:a}=await Object(s.d)({baseUrl:Object(i.c)(),uri:"/newTrulCounterOffer?orgId="+d,body:e});t&&t(n,a)}catch(n){console.log(n.message),Object(r.a)(n.message,"error")}},m=(e,t)=>async()=>{try{const{success:n,data:a}=await Object(s.d)({baseUrl:Object(i.c)(),uri:"/newTrulFinalOffer?orgId="+d,body:e});t&&t(n,a)}catch(n){console.log(n.message),Object(r.a)(n.message,"error")}},p=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let n={isBooked:t,loadNumber:e.loadNumber,loadDetail:e};return await o.a.post(Object(i.b)()+"/api/chRobinson",n)}catch(n){console.log("response",n.response)}},h=e=>async t=>{const{user:{orgId:n=null}={}}=Object(l.d)();e.pageIndex=e.pageIndex-1,t({type:c.H,payload:{data:{results:[],totalResults:0},loading:!0}});try{const{success:a,data:o=[]}=await Object(s.d)({baseUrl:Object(i.a)(),uri:"/fetchOpenBoardLoads?orgId="+n,body:e});if(a)return void t({type:c.H,payload:{data:{results:o.data,totalResults:o.totalResults,message:o.message},loading:!1}});t({type:c.H,payload:{data:{results:[],totalResults:0,message:o.message},loading:!1}})}catch(a){t({type:c.H,payload:{data:{results:[],totalResults:0},loading:!1}})}}},437:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var a,o=n(11),r=n.n(o);function c(e,t){return void 0===e&&(e=""),void 0===t&&(t=a),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var i={};function s(e){i[e]||("undefined"!==typeof console&&console.error(e),i[e]=!0)}var l="object"===typeof window&&window.Element||function(){};r.a.oneOfType([r.a.string,r.a.func,function(e,t,n){if(!(e[t]instanceof l))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},r.a.shape({current:r.a.any})]);var d=r.a.oneOfType([r.a.func,r.a.string,r.a.shape({$$typeof:r.a.symbol,render:r.a.func}),r.a.arrayOf(r.a.oneOfType([r.a.func,r.a.string,r.a.shape({$$typeof:r.a.symbol,render:r.a.func})]))]);"undefined"===typeof window||!window.document||window.document.createElement},438:function(e,t,n){"use strict";var a=n(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(90)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=c},563:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return x}));var a=n(197),o=n(198),r=n(903),c=n(87),i=(n(0),n(74)),s=n.n(i),l=n(314),d=n.n(l),u=n(289),b=n(435),j=n(96),f=n(9),m=n(2);const p=Object(f.a)(d.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{transform:"rotate(90deg)",fontSize:"5rem"}}})),h=e=>{let{label:t="",value:n="",labelSx:a={}}=e;return Object(m.jsxs)(r.a,{direction:"row",children:[Object(m.jsxs)(c.a,{sx:{mr:1,...a},children:[t,":"]}),Object(m.jsx)(c.a,{sx:a,children:n})]})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-0500";return s()(e).utcOffset(t).format("HH:mm:ss")},x=e=>{let{loadNumber:t="",trip:n,weight:a,equipment:c=""}=e;return Object(m.jsx)(o.a,{display:"flex",justifyContent:"center",children:Object(m.jsxs)(r.a,{alignItems:"center",children:[Object(m.jsx)(h,{value:t,label:"Load Number",labelSx:{fontSize:32}}),Object(m.jsx)(h,{value:c,label:"Equipment",labelSx:{fontSize:24}}),Object(m.jsx)(h,{value:a+" lbs",label:"Weight",labelSx:{fontSize:24}}),Object(m.jsx)(h,{value:(null!==n&&void 0!==n?n:0)+" miles",label:"Trip",labelSx:{fontSize:24}})]})})},O=e=>{const{location:{state:t={}}={}}=e,{modesString:n="",standard:o=""}=Object(j.g)(t),r=n+" "+o,{loadNumber:c="",distance:{miles:i=""}={},weight:{pounds:l=""}={},origin:{name:d="",stateCode:f,postalCode:h="",city:O="",pickupScheduleRequest:y}={},destination:{name:v="",stateCode:w,postalCode:C="",city:S="",scheduleRequest:D=""}={},pickUpByDate:k="",deliverBy:N="",calculatedPickUpByDateTime:R="",calculatedDeliverByDateTime:_="",stops:z=[]}=t,I=s()(R)._tzm,B=s()(_)._tzm,T=z[0]||{},{calculatedArriveByEndDateTime:A,calculatedArriveByStartDateTime:F}=T,P="".concat(g(F,I)," - ").concat(g(A,I)),L=z[1]||{},{calculatedArriveByEndDateTime:M,calculatedArriveByStartDateTime:E}=L,H="".concat(g(E,B)," - ").concat(g(M,B));return Object(m.jsx)(u.a,{config:{title:"C.H Robinson",showClose:!0,titleStyles:{fontSize:"2rem",p:1},preventBackdropClick:!0},children:Object(m.jsxs)(a.a,{container:!0,spacing:2,sx:{p:2},children:[Object(m.jsx)(a.a,{item:!0,xs:12,textAlign:"center",children:Object(m.jsx)(x,{loadNumber:c,trip:i,weight:l,equipment:r})}),Object(m.jsx)(a.a,{item:!0,xs:12,children:Object(m.jsxs)(a.a,{container:!0,justifyContent:"center",children:[Object(m.jsx)(a.a,{xs:12,sm:5,textAlign:"center",className:"openBoardPickupDetails",children:Object(m.jsx)(b.a,{title:"Pickup",name:d,location:"".concat(O).concat(f?", "+f:""," ").concat(h),type:"Pickup Date",date:s()(k).format("MM/DD/yyyy"),appointment:"A"===y?"Yes":"No",avgLoadTime:"--",loadBy:P,loadByType:"Ready By"})}),Object(m.jsx)(a.a,{xs:12,sm:2,textAlign:"center",children:Object(m.jsx)(p,{sx:{fontSize:"8rem"}})}),Object(m.jsx)(a.a,{xs:12,sm:5,textAlign:"center",children:Object(m.jsx)(b.a,{title:"Delivery",name:v,location:"".concat(S).concat(w?", "+w:""," ").concat(C),type:"Delivery Date",date:s()(N).format("MM/DD/yyyy"),appointment:"A"===D?"Yes":"No",avgLoadTime:"--",loadBy:H,loadByType:"Deliver By"})})]})})]})})}},613:function(e,t,n){"use strict";var a=n(88);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(90)),r=n(2),c=(0,o.default)((0,r.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.default=c},615:function(e,t,n){"use strict";var a=n(87),o=n(197),r=n(289),c=n(435),i=n(74),s=n.n(i),l=n(314),d=n.n(l),u=n(0),b=n(563),j=n(56),f=n(28),m=n(96),p=n(9),h=n(2);const g=Object(p.a)(d.a)((e=>{let{theme:t}=e;return{fontSize:"8rem",[t.breakpoints.down("sm")]:{transform:"rotate(90deg)",fontSize:"5rem"}}})),x=e=>{let{state:t}=e;const{stops:n=[]}=t||{},[a,{geo:o={},early_datetime:r,late_datetime:i,appointment_required:l}]=n,{city:d,state:u}=o||{};return Object(h.jsx)(c.a,{title:"Pickup",location:"".concat(d).concat(u?", "+u:""),type:"Pickup Date",date:s()(r).format("MM/DD/yyyy"),appointment:l?"Yes":"No",avgLoadTime:"--",loadBy:"".concat(s()(r).format("HH:mm:ss")," ").concat(i?"- "+s()(i).format("HH:mm:ss"):""),loadByType:"Ready By"})},O=e=>{let{state:t}=e;const{stops:n=[]}=t,[{geo:a={},early_datetime:o,late_datetime:r,appointment_required:i}]=n||[{}],{city:l,state:d}=a||{};return Object(h.jsx)(c.a,{title:"Delivery",location:"".concat(l).concat(d?", "+d:""),type:"Delivery Date",date:s()(o).format("MM/DD/yyyy"),appointment:i?"Yes":"No",avgLoadTime:"--",loadBy:"".concat(s()(o).format("HH:mm:ss")," ").concat(r?"- "+s()(r).format("HH:mm:ss"):""),loadByType:"Deliver By"})};t.a=e=>{const{location:{state:t={}}={},callDetail:n=!0}=e,{id:c,loaded_miles:i,weight:s,equipment:l,client:{compliance_link:d="",client_name:p}={}}=t,y={title:p,showClose:!0,titleStyles:{fontSize:"2rem",p:1},preventBackdropClick:!0},v=Object(u.useCallback)((async()=>{let e={event_type:"LOAD_VIEW_DETAILS",event_data:{load_id:c,carrier_email:m.a,mc_number:m.c,first_name:"Sunny",last_name:"Freight",phone_number:"3179654608"}};Object(j.d)({uri:"/newTrulShowLoadDetails",baseUrl:Object(f.c)(),body:e})}),[c]);return Object(u.useEffect)((()=>{n&&v()}),[v]),Object(h.jsx)(r.a,{config:y,children:Object(h.jsxs)(o.a,{container:!0,gap:3,sx:{p:0},children:[Object(h.jsx)(o.a,{item:!0,xs:12,textAlign:"center",children:Object(h.jsx)(b.a,{loadNumber:c,trip:i,weight:s,equipment:l})}),Object(h.jsx)(o.a,{item:!0,xs:12,children:Object(h.jsxs)(o.a,{container:!0,justifyContent:"center",children:[Object(h.jsx)(o.a,{item:!0,sm:5,xs:12,textAlign:"center",className:"openBoardPickupDetails",children:Object(h.jsx)(x,{state:t})}),Object(h.jsx)(o.a,{item:!0,sm:2,xs:12,textAlign:"center",children:Object(h.jsx)(g,{})}),Object(h.jsx)(o.a,{item:!0,sm:5,xs:12,textAlign:"center",children:Object(h.jsx)(O,{state:t})})]})}),Object(h.jsx)(o.a,{item:!0,xs:12,textAlign:"center",children:d&&Object(h.jsx)(a.a,{sx:{textDecoration:"underline"},component:"a",href:d,target:"_blank",children:d})})]})})}},617:function(e,t,n){"use strict";var a=n(244),o=n(87),r=n(292),c=n.n(r),i=(n(0),n(2));t.a=e=>{let{message:t}=e;return Object(i.jsxs)(a.a,{elevation:0,sx:{height:"500px",alignItems:"center",display:"flex",justifyContent:"center",gap:1},children:[Object(i.jsx)(c.a,{color:"warning"}),Object(i.jsx)(o.a,{align:"center",children:t})]})}}}]);
//# sourceMappingURL=15.6bc0db77.chunk.js.map