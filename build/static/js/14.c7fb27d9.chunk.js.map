{"version":3,"sources":["views/loadHistory/LoadHistoryDetail.js","views/loadHistory/index.jsx","hooks/useMutation.js","components/Atoms/Modal.js","components/Atoms/Dialog.js","components/Atoms/table/Pagination.jsx","components/Atoms/table/Table.jsx","hooks/useFetch.js","components/Atoms/form/InputField.js","actions/load.js","actions/driver.js","hooks/useFetchWithSearchPagination.js","utils/helper.js","components/loads/components/LoadDetailsUploadComponent.js","components/loads/styles.js","components/loads/LoadDetailModal.js","components/invoices/MoveToMyLoads.js","../node_modules/@mui/icons-material/Replay.js","../node_modules/@mui/icons-material/Search.js"],"names":["LoadHistoryDetail","props","edit","UserSettings","getUserPermissionsByDashboardId","match","params","id","dispatch","useDispatch","loading","data","useFetchWithSearchPagination","_jsx","FullScreenLoader","LoadDetailModal","modalEdit","open","load","handleClose","_ref","history","goBack","selectLoad","deleteLoad","_id","canUpdate","LoadHistory","path","limit","page","isPaginationLoading","refetch","isRefetching","onPageChange","onLimitChange","isSearching","searchQuery","handleSearch","sortField","sortOrder","handleSortChange","orderBy","order","totalCount","loads","config","showRefresh","rowCellPadding","count","hasSort","columns","label","sort","renderer","row","_Typography","sx","textDecoration","component","Link","to","concat","children","loadNumber","_ref2","pickup","pickupCity","pickupState","_ref3","pickupDate","moment","format","_ref4","drop","dropCity","dropState","_ref5","dropDate","_ref6","brokerage","_ref7","user","name","firstName","lastName","valueFormatter","value","join","emptyState","getDollarPrefixedPrice","readableDateTime","visible","_ref8","_IconButton","variant","color","ReplayIcon","getLoadStatuses","arguments","length","undefined","map","status","equalsIgnoreCase","disabled","actions","_Stack","direction","Input","onChange","placeholder","pr","autoFocus","InputProps","endAdornment","onClick","visibility","_Close","fontSize","disableRipple","_Search","modalConfig","title","_jsxs","_Box","height","className","EnhancedTable","onRefetch","Route","render","MoveToMyLoads","onCloseUrl","exact","useMutation","url","callback","showTriggers","options","setLoading","useState","mutation","async","body","type","afterSubmit","uri","queryParams","serialize","asyncApiCall","fn","requestPut","requestDelete","requestPatch","requestPost","getRequestCb","toLowerCase","then","res","catch","err","finally","BootstrapDialog","styled","Dialog","theme","padding","spacing","BootstrapDialogTitle","onClose","showClose","titleStyles","other","DialogTitle","m","p","textAlign","IconButton","position","left","top","palette","grey","CloseIcon","Modal","closeCallback","closeUrl","paperProps","preventBackdropClick","setOpen","React","useTheme","fullScreen","_useMediaQuery","breakpoints","down","e","useEffect","addEvent","window","removeEvent","Transition","useMemo","forwardRef","ref","useHistory","_Zoom","onExited","push","ENHANCED_DASHBOARD","maxWidth","TransitionComponent","PaperProps","DialogContent","dividers","borderTop","Slide","preventBackdropClose","onOk","okText","content","onCancel","MuiDialog","fontWeight","DialogActions","Button","StyledPagination","Pagination","width","StyledStack","Stack","justifyContent","display","flexWrap","TablePagination","isLoading","setLength","Array","isArray","alignItems","Typography","Select","Math","ceil","size","pgNum","Cell","_TableCell","DeleteIcon","_Delete","Headers","role","handleRequestSort","headerCellSx","hasDelete","showCheckbox","headers","column","index","_","isFunction","bgcolor","_TableSortLabel","active","unshift","_TableRow","TableData","handleRowClick","handleDelete","rest","dataKey","rowIndex","hasDeletePermission","checkboxKey","onRowClick","rowStyleCb","onCheckboxChange","checkboxes","rowStyle","deleteCell","scope","Tooltip","placement","bind","cell","i","cellPadding","get","Error","checked","indexOf","_Checkbox","hover","preventDefault","cursor","getTableCell","tableState","setTableState","dialog","setDialog","_columns","columnsBuilder","hasOnClickUrl","onPageSizeChange","emptyMessage","onRowClickDataCallback","onDelete","deleteMessage","deletePermissions","containerHeight","getUserDetail","useRef","Actions","isValidElement","_Fragment","event","property","field","stopPropagation","_Grid","container","gap","ErrorOutlineIcon","onDialogClose","_DialogContentText","getTableContent","Fragment","_TableHead","backgroundColor","_TableBody","style","_ref$current","current","table","calculatedHeight","offsetHeight","_ref$current2","tableContainer","scrollTo","py","_Refresh","_TableContainer","_Paper","el","boxShadow","mb","getLoader","innerHeight","item","Spinner","_Table","stickyHeader","_Backdrop","zIndex","drawer","withRouter","memo","useFetch","setData","error","setError","setIsRefetching","requestCall","requestGet","result","InputPure","labelKey","valueKey","onChangeSelect","showFirstBlank","onBlur","cloneDeep","console","opts","opt","InputField","multiple","labelStyle","formGrpStyle","errorText","FormGroup","htmlFor","marginRight","target","values","l","selected","getLoads","module","search","getState","LOADS_FETCHING","payload","isLoadsFetching","success","GET_LOADS","notification","message","setAlert","searchLoads","axios","RETURNED_SEARCHED_LOADS","resetLoadsSearch","RESET_SEARCHED_LOADS","rowsPerPage","input","SELECT_LOAD","addLoad","formData","ADD_LOAD","log","updateLoad","bucketFiles","form","FormData","key","Object","keys","dataToSend","JSON","stringify","append","files","file","load_id","DELETE_LOAD","getDrivers","assign","timestamp","Date","GET_DRIVERS","_err$response","_err$response2","DRIVER_ERROR","msg","response","statusText","addDriver","isEdit","post","errors","patchDriverLoads","driver_id","drivers","driver","patch","find","o","PATCH_DRIVER","deleteDriver","cb","delete","splice","DELETE_DRIVER","deleteDriverLoads","DELETE_DRIVER_LOAD","debounceTime","setPage","setLimit","setSearchQuery","setIsPaginationLoading","setIsSearching","setSortField","setSortOrder","isInitialLoad","fetchData","debouncedSearch","debounce","cancel","useCallback","changeObjectKey","obj","old_key","new_key","defineProperty","getOwnPropertyDescriptor","FileContainer","borderRadius","overflow","flexDirection","FileViewer","onRemoveAll","Files","elevation","DescriptionIcon","PRIMARY_BLUE","align","textOverflow","Alert","severity","_Button","float","gridTemplateColumns","LoadDetailsUploadComponent","fileViewConfig","setFileViewConfig","rateConfirmation","proofDelivery","accessorialsFiles","handleFileChange","rateConfirmationRef","proofDeliveryRef","accessorialsRef","state","rateConFile","podFile","formAccessorialsFiles","viewClickHandler","onFileViewClose","roc","idx","margin","marginLeft","href","startIcon","OpenInNewIcon","auth","getCheckStatusIcon","pod","acc","useStyles","makeStyles","root","minWidth","marginBottom","borderWidth","borderStyle","borderColor","cardcontent","wrap","paddingLeft","paddingTop","paddingBottom","h4","loadp","playIcon","textField","textFieldDialog","textFieldDialogPickup","textFieldDialogDrop","resize","resizeDialog","newLoad","paper","background","shadows","transform","overflowY","maxHeight","outline","rootLoadDetailModal","flexGrow","formControl","formInitialState","rate","assignedTo","trailorNumber","accessorials","invoice_created","MenuProps","ITEM_HEIGHT","DATE_PICKER_SLOT_PROPS","helperText","fullWidth","TIME_PICKET_SLOT_PROPS","TextPlaceHolder","onModalClose","listBarType","bktFiles","classes","useSelector","setEdit","setForm","LoadStatuses","isProcessingAsyncRequest","setIsProcessingAsyncRequest","SelectElement","OutlinedInput","FilledInput","assignees","assignedToOptions","assigneeRole","assigneeId","getRoleNameString","setupDrivers","resetFileInputs","isSuccess","handleSubmit","handleOnChange","handlePickDropChange","keyToUpdate","childKey","handleDateChange","date","handleInOutTime","parent_key","child_key","getRole","alpha","forEach","fileType","fileLocation","StaticDataShow","heading","sxObject","pt","_Modal","LocalizationProvider","dateAdapter","AdapterMoment","onSubmit","xs","pl","sm","FormControl","InputLabel","_Select","notched","_MenuItem","assignee","labelId","split","_Divider","_Done","_CircularProgress","green","_Edit","handleCancel","createCopy","_FileCopyOutlined","mr","shipperName","pickupAddress","pickupZip","DateTimePicker","toISOString","slotProps","TimePicker","in_time","out_time","mt","pickupPo","pickupReference","pickupDeliverNumber","multiline","rows","notes","readOnly","alignItem","_ArrowForwardIos","blue","marginTop","receiverName","dropAddress","dropZip","dropPo","dropReference","dropDeliverNumber","f","Container","up","getInvoices","setValue","statuses","LOAD_STATUSES","replace","showNone","LoadingButton","loadingText","_interopRequireDefault","require","exports","default","_createSvgIcon","_jsxRuntime","_default","jsx","d"],"mappings":"qUA8BeA,MAvBYC,IACvB,MAAM,KAACC,GAAQC,IAAaC,gCAAgC,UACrDC,OAAQC,QAAQ,GAACC,GAAM,CAAC,GAAK,CAAC,GAAKN,EACpCO,EAAWC,eACX,QAACC,GAAU,EAAMC,MAAM,KAACA,EAAO,CAAC,GAAK,CAAC,GAAKC,YAA6B,oBAAsBL,GAEpG,OAAGG,EACSG,cAACC,IAAgB,IAGtBD,cAACE,IAAe,CACnBC,WAAW,EACXC,MAAOP,EACPQ,KAAMP,EACNQ,YAAaC,IAAgB,IAAf,QAACC,GAAQD,EACnBC,EAAQC,SACRd,EAASe,cAAa,EAE1BC,WAAaC,GAAQjB,EAASgB,YAAWC,IACzCC,YAAaxB,GACf,ECiJSyB,UA9JM1B,IACjB,MAAM,KAACC,GAAQC,IAAaC,gCAAgC,YACrDC,OAAO,KAACuB,GAAQ,CAAC,GAAK3B,GACvB,KAACU,EAAI,QAAED,EAAO,MAAEmB,EAAK,KAAEC,EAAI,oBAAEC,EAAmB,QAAEC,EAAO,aAAEC,EAAY,aAAEC,EAAY,cACvFC,EAAa,YAAEC,EAAW,YAAEC,EAAW,aAAEC,EAAY,UAAEC,EAAS,UAAEC,EAAS,iBAAEC,GAAoB7B,YAA6B,mBAAoB,CAClJ8B,QAAS,YACTC,MAAO,UAEL,WAACC,EAAYjC,KAAMkC,GAASlC,GAAQ,CAAC,EAErCmC,EAAS,CACXC,aAAa,EACbC,eAAgB,SAChBC,MAAOL,EACPL,YACAC,YACAU,SAAS,EACTpB,OACAD,QACAK,eACAO,mBACAN,gBACAgB,QAAS,CACL,CACI5C,GAAI,aACJ6C,MAAO,cACPC,MAAM,EACNC,SAAUlC,IAAA,IAAC,IAACmC,GAAInC,EAAA,OAAKP,cAAA2C,IAAA,CAAYC,GAAI,CAACC,eAAgB,aAAcC,UAAWC,IAAMC,GAAE,GAAAC,OAAKlC,EAAI,KAAAkC,OAAIP,EAAI9B,KAAMsC,SAAER,EAAIS,YAAwB,GAEhJ,CACIzD,GAAI,SACJ6C,MAAO,oBACPE,SAAUW,IAAgC,IAA9BV,KAAK,OAACW,EAAS,IAAM,CAAC,GAAED,EAChC,OAAO,WAACE,EAAa,GAAE,YAAEC,EAAc,KAAOF,EAC9C,MAAM,GAANJ,OAAUK,EAAU,MAAAL,OAAKM,EAAW,GAG5C,CACI7D,GAAI,aACJ6C,MAAO,cACPE,SAAUe,IAAgC,IAA9Bd,KAAK,OAACW,EAAS,IAAM,CAAC,GAAEG,EAChC,OAAO,WAACC,EAAa,KAAOJ,EAC5B,OAAOK,IAAOD,GAAYE,OAAO,aAAa,GAGtD,CACIjE,GAAI,WACJ6C,MAAO,kBACPE,SAAUmB,IAA8B,IAA5BlB,KAAK,KAACmB,EAAO,IAAM,CAAC,GAAED,EAC9B,OAAO,SAACE,EAAW,GAAE,UAAEC,EAAY,KAAOF,EAC1C,MAAM,GAANZ,OAAUa,EAAQ,MAAAb,OAAKc,EAAS,GAGxC,CACIrE,GAAI,WACJ6C,MAAO,YACPE,SAAUuB,IAA8B,IAA5BtB,KAAK,KAACmB,EAAO,IAAM,CAAC,GAAEG,EAC9B,OAAO,SAACC,EAAW,KAAOJ,EAC1B,OAAOH,IAAOO,GAAUN,OAAO,aAAa,GAIpD,CACIjE,GAAI,YACJ6C,MAAO,WACPE,SAAUyB,IAAmC,IAAjCxB,KAAK,UAACyB,EAAY,IAAM,CAAC,GAAED,EACnC,OAAOC,CAAS,GAGxB,CACIzE,GAAI,iBACJ6C,MAAO,cACPE,SAAU2B,IAAA,IAAG1B,KAAO2B,MAAM,KAAEC,EAAO,GAAE,UAAEC,EAAS,SAAEC,GAAY,CAAC,GAAK,CAAC,GAAGJ,EAAA,OAAKE,GAAI,GAAArB,OAAOsB,GAAa,KAAI,KAAAtB,OAAIuB,GAAY,GAAI,GAEjI,CACI9E,GAAI,eACJ6C,MAAO,eACPkC,eAAiBC,IAAWA,GAAS,IAAIC,KAAK,OAElD,CACIjF,GAAI,OACJ6C,MAAO,OACPqC,WAAY,KACZH,eAAiBC,GAAUA,EAAQG,YAAuBH,GAAS,IAEvE,CACIhF,GAAI,YACJ6C,MAAO,aACPC,MAAM,EACNiC,eAAiBC,GAAUI,YAAiBJ,IAEhD,CACIhF,GAAI,GACJ6C,MAAO,OACPwC,UAAW1F,EACXoD,SAAUuC,IAAY,IAAX,IAACtC,GAAIsC,EACZ,OAAOhF,cAAAiF,IAAA,CACHnC,UAAWC,IACXC,GAAIjC,EAAO,SAAW2B,EAAI9B,IAC1BsE,QAAQ,WACRC,MAAM,UAASjC,SAEflD,cAACoF,IAAU,KACF,KAM7B,SAASC,IACL,OADiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,IACdG,KAAIC,GACjBA,EAAOhG,GAAGiG,iBAAiB,YACnB,IAAID,EAAQE,UAAU,GAE1BF,GAEf,CAEA,MAAMG,EAAU7F,cAAA8F,IAAA,CAAOC,UAAU,MAAK7C,SAClClD,cAACgG,IAAK,CACFtB,MAAOlD,EACPyE,SAAUxE,EACVyE,YAAY,SACZtD,GAAI,CACA,2BAA4B,CACxBuD,GAAI,IAGZC,WAAS,EACTC,WAAY,CACRC,aAAc9E,EAAcxB,cAAAiF,IAAA,CAAYsB,QAASA,IAAM9E,EAAa,CAACiD,MAAO,KAAM9B,GAAI,CAAC4D,WAAYhF,EAAc,UAAY,UAAU0B,SACnIlD,cAAAyG,IAAA,CAAOC,SAAS,YACJ1G,cAAAiF,IAAA,CAAY0B,eAAa,EAAAzD,SAAClD,cAAA4G,IAAA,WAKhDC,EAAc,CAChBC,MAAO,aAGX,OAAOC,eAAAC,IAAA,CAAKpE,GAAI,CAACqE,OAAQ,WAAYC,UAAU,gBAAehE,SAAA,CAC1DlD,cAACmH,IAAa,CACVrH,KAAMkC,EACNC,OAAQA,EACRpC,QAASA,EACTgG,QAASA,EACTuB,UAAWjG,EACXC,aAAcA,EACdF,oBAAqBA,GAAuBK,IAEhDvB,cAACqH,QAAK,CACFtG,KAAMA,EAAO,YACbuG,OAASlI,GAAUY,cAACuH,IAAa,CAACC,WAAYzG,EAAMI,QAASA,EAASkE,gBAAiBA,EAAiBwB,YAAaA,KAAiBzH,MAC1IY,cAACqH,QAAK,CAACI,OAAK,EAAC1G,KAAMA,EAAO,OAAQ+B,UAAW3D,MAC3C,C,mCCzKV,2BA4DeuI,IAjCK,SAACC,GAA0D,IAArDC,EAAQtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMuC,EAAYvC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAQwC,EAAOxC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EACpE,MAAOzF,EAASkI,GAAcC,oBAAS,GA6BvC,MAAO,CAAEC,SA3BQC,eAAOC,GAAsC,IAAhCC,EAAI9C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,OAAQ+C,EAAW/C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAChD8C,EAAMX,EACPG,EAAQS,cACPD,EAAMA,EAAM,IAAME,YAAUV,EAAQS,cAExCR,GAAW,GACPK,IACAA,EAAO,QAEX,MAAMK,EAnCQL,KAClB,IAAIM,EAEJ,OAAQN,GACJ,IAAK,MACDM,EAAKC,IACL,MAEJ,IAAK,SACDD,EAAKE,IACL,MAEJ,IAAK,QACDF,EAAKG,IACL,MAEJ,QACIH,EAAKI,IAGb,OAAOJ,CAAE,EAegBK,CAAaX,EAAKY,eACvC,GAAGP,EACC,OAAOA,EAAa,CAACH,MAAKV,WAAUO,OAAMN,iBACrCoB,MAAKC,IACCb,GACCA,EAAY,IAAIa,IAEbA,KAEVC,OAAMC,GACIA,IAEVC,SAAQ,KACLtB,GAAW,EAAM,GAGjC,EAEmBlI,UACvB,C,gNC5CA,MAAMyJ,EAAkBC,YAAOC,IAAPD,EAAehJ,IAAA,IAAC,MAACkJ,GAAMlJ,EAAA,MAAM,CACjD,2BAA4B,CACxBmJ,QAASD,EAAME,QAAQ,IAE3B,2BAA4B,CACxBD,QAASD,EAAME,QAAQ,IAE9B,IAEKC,EAAwBxK,IAC1B,MAAM,SAAC8D,EAAQ,QAAE2G,EAAO,UAAEC,EAAS,YAACC,KAAgBC,GAAS5K,EAE7D,OACI2H,eAACkD,IAAW,CAACrH,GAAI,CAAEsH,EAAG,EAAGC,EAAG,EAAGC,UAAW,YAAaL,MAAmBC,EAAK9G,SAAA,CAC1E4G,EACG9J,cAACqK,IAAU,CACP,aAAW,QACX9D,QAASsD,EACTjH,GAAI,CACA0H,SAAU,WACVC,KAAM,EACNC,IAAK,GACLrF,MAAQsE,GAAUA,EAAMgB,QAAQC,KAAK,MACvCxH,SAEFlD,cAAC2K,IAAS,MAEd,KACHzH,IACS,EASP,SAAS0H,EAAMxL,GAC1B,MAAM,OAAC6C,EAAS,CAAC,EAAC,SAAEiB,EAAQ,cAAE2H,GAAiBzL,GAC3C,MACI0H,EAAQ,GAAE,SACVgE,EAAW,GAAE,UACbhB,GAAY,EAAI,WAChBiB,EAAa,CAAC,EAAC,qBACfC,GAAuB,EAAK,YAC5BjB,EAAc,CAAC,GACf9H,GACD7B,EAAM6K,GAAWC,IAAMlD,UAAS,GACjCyB,EAAQ0B,cACRC,EAAaC,YAAc5B,EAAM6B,YAAYC,KAAK,OAElDjL,EAAc,SAACkL,GACbR,IADsB1F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IACMK,iBAAiB,kBAGpDsF,GAAQ,EACZ,EAGAC,IAAMO,WAAU,KACZR,GAAQ,GACRS,YAASC,OAAQ,aAAcrL,GAExB,IAAMsL,YAAYD,OAAQ,aAAcrL,KAChD,IAEH,MAAMuL,EAAaC,mBAAQ,IAChBZ,IAAMa,YAAW,SAAoB3M,EAAO4M,GAC/C,MAAMxL,EAAUyL,uBAChB,OACIjM,cAAAkM,IAAA,CACIF,IAAKA,KACD5M,EACJ+M,SAAUA,IACCtB,EAAgBA,IAAkBC,EAAWtK,EAAQ4L,KAAKtB,GAAYuB,KAAsB7L,EAAQC,UAI3H,KAED,IAEH,OACIsG,eAACuC,EAAe,CACZO,QAASvJ,EACT,kBAAiBwG,GAAS,0BAC1B1G,KAAMA,EACNkM,SAAU,KACVC,oBAAqBV,EACrBW,WAAYzB,EACZK,WAAYA,EAAWlI,SAAA,CAEtB4D,GAAS9G,cAAC4J,EAAoB,CAC3BlK,GAAIoH,GAAS,0BACb+C,QAASvJ,EACTwJ,UAAWA,EACXC,YAAaA,EAAY7G,SAExB4D,IAEL9G,cAACyM,IAAa,CAACC,UAAQ,EAAC9J,GAAI,CAAC+J,UAAW,QAAQzJ,SAAEA,MAQ9D,C,mCC3HA,4GAQA,MAAM2I,EAAaX,cAAiB,SAAoB9L,EAAO4M,GAC3D,OAAOhM,cAAC4M,IAAK,CAAC7G,UAAU,KAAKiG,IAAKA,KAAS5M,GAC/C,IAEe,SAASoK,EAAOpK,GAC3B,MAAM,KAACgB,GAAO,EAAK,OAAE6B,EAAM,QAAE4H,EAAO,qBAAEgD,GAAuB,EAAK,UAAE3F,GAAa9H,GAC7E,MAAC0H,EAAK,KAAEgG,EAAI,OAAEC,EAAS,OAAM,QAAEC,EAAO,SAAEC,GAAYhL,EAElD3B,EAAc,SAACkL,GACbqB,IADsBvH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IACMK,iBAAiB,kBAGpDkE,GACJ,EAEA,OACI7J,cAAA,OAAAkD,SACI6D,eAACmG,IAAS,CACNhG,UAAWA,EACX9G,KAAMA,EACNmM,oBAAqBV,EACrBhC,QAASvJ,EACT,mBAAiB,iCAAgC4C,SAAA,CAE/B,oBAAV4D,EAAuBA,EAAM,IAAI7E,IACrCjC,cAACiK,IAAW,CAACrH,GAAI,CAACuK,WAAY,KAAKjK,SAAE4D,IACzC9G,cAACyM,IAAa,CAAAvJ,SACU,oBAAZ8J,EAAyBA,EAAQ,CAAC/K,WAAW+K,IAEzDjG,eAACqG,IAAa,CAAAlK,SAAA,CACW,oBAAb+J,EAA0BA,EAAS,CAAChL,SAAQ4H,YAAW7J,cAACqN,IAAM,CAACnI,QAAQ,WAAWqB,QAASjG,EAAY4C,SAAC,WAC7F,oBAAX6J,EAAwBA,EAAO,CAAC9K,SAAQ6K,SAAS9M,cAACqN,IAAM,CAACnI,QAAQ,YACRC,MAAO4H,EAAOpH,iBAAiB,UAAY,QAAU,UACrDY,QAASuG,EAAK5J,SAE1E6J,WAMzB,C,kUC1CA,MAAMO,EAAmB/D,YAAOgE,IAAPhE,EAAmBhJ,IAAA,IAAC,MAACkJ,GAAMlJ,EAAA,MAAM,CACtD,4BAA6B,CACzB,CAACkJ,EAAM6B,YAAYC,KAAK,OAAQ,CAC5BtE,OAAQ,SACRuG,MAAO,SAGlB,IAEKC,EAAclE,YAAOmE,IAAPnE,EAAcnG,IAAA,IAAC,MAACqG,GAAMrG,EAAA,MAAM,CAC5C,CAACqG,EAAM6B,YAAYC,KAAK,OAAQ,CAC5BoC,eAAgB,UAEpBC,QAAS,OACTD,eAAgB,gBAChBE,SAAU,OACN,oBAAqB,CACrBL,MAAO,IAEd,IA2DcM,MAzDStK,IAA0F,IAAzF,KAAC1D,EAAO,GAAE,aAAEuB,EAAY,KAAEJ,EAAO,EAAC,MAAEmB,EAAQ,EAAC,MAAEpB,EAAQ,EAAC,cAAEM,EAAa,UAAEyM,GAAUvK,EACxG,MAAO+B,EAAQyI,GAAahG,mBAAS,GAErCyD,qBAAU,KACFwC,MAAMC,QAAQpO,IACdkO,EAAUlO,EAAKyF,OACnB,GACD,CAACzF,IAcJ,OAAIsC,GAAS,EACF,KAGP2E,eAAC0G,EAAW,CAAC1H,UAAU,MAAMoI,WAAY,SAASjL,SAAA,CAC9C6D,eAACqH,IAAU,CAACxL,GAAI,CAACuC,MAAO,WAAYuB,SAAU,GAAGxD,SAAA,CAAC,WAASqC,EAAO,OAAKnD,EAAM,cAC7E2E,eAAC2G,IAAK,CAAC3H,UAAU,MAAMoI,WAAW,SAAQjL,SAAA,CACtClD,cAACqO,IAAM,CACHzI,SAAUmI,EACVzJ,KAAK,WACL/B,MAAM,GACNmC,MAAO1D,EACP8G,QAAS,CACL,CAACpI,GAAI,EAAG6C,MAAO,GACf,CAAC7C,GAAI,GAAI6C,MAAO,IAChB,CAAC7C,GAAI,GAAI6C,MAAO,IAChB,CAAC7C,GAAI,GAAI6C,MAAO,IAChB,CAAC7C,GAAI,IAAK6C,MAAO,MAErB2E,UAAU,iBACVjB,SA1BOrC,IAAc,IAAb,MAACc,GAAMd,EACC,oBAAlBtC,GACNA,EAAc,CAACoD,SACnB,IAyBQ1E,cAACsN,EAAgB,CACb1H,SAAUmI,EACV3L,MAAOkM,KAAKC,KAAKnM,EAAQpB,GACzBmE,MAAM,UACND,QAAQ,YACRjE,KAAMA,EACNuN,KAAK,SACLvI,SAzCCA,CAACuF,EAAGiD,MACZxN,KAAUwN,GAAiC,oBAAjBpN,GAC3BA,EAAamK,GAAIiD,EACrB,SAyCc,E,mCCrDtB,MAAMC,EAAOnF,YAAMoF,IAANpF,EAAkBhJ,IAAA,IAAC,MAACkJ,GAAMlJ,EAAA,MAAM,CACzC,CAACkJ,EAAM6B,YAAYC,KAAK,OAAQ,CAC5B7E,SAAU,GACVgD,QAAS,SAEhB,IACKkF,EAAarF,YAAMsF,IAANtF,EAAenG,IAAA,IAAC,MAACqG,GAAMrG,EAAA,MAAM,CAC5C,CAACqG,EAAM6B,YAAYC,KAAK,OAAQ,CAC5B7E,SAAU,IAEjB,IAED,SAASoI,EAAOtL,GAAiE,IAAhE,QAAClB,EAAU,GAAE,OAAEL,EAAS,CAAC,EAAC,KAAE8M,EAAI,kBAAEC,EAAiB,QAAE3M,GAAQmB,EAC1E,MAAM,aAACyL,EAAe,CAAC,EAAC,UAAEC,EAAS,UAAExN,EAAS,UAAEC,EAAS,aAAEwN,GAAgBlN,EACrEmN,EAAUtD,mBAAQ,IACbxJ,EAAQmD,KAAI,CAAC4J,EAAQC,KACxB,MAAM,MAAC/M,EAAQ,GAAE,GAAE7C,EAAK,GAAE,QAAEqF,GAAU,EAAI,KAAEvC,GAAO,GAAS6M,GAAU,CAAC,EAGvE,OADkBE,IAAEC,WAAWzK,GAAWA,EAAQ,CAACsK,SAAQN,SAAShK,GAKhE/E,cAAC0O,EAAI,CAAChF,QAAS,SAAU9G,GAAI,CAACuC,MAAO,OAAQsK,QAAS,UAAWtC,WAAY,OAAQ8B,GAAc/L,SAE7Fb,GAAWG,EACPxC,cAAA0P,IAAA,CAAgBnJ,QAAUiF,GAAMwD,EAAkBxD,EAAG9L,GAAKiQ,OAAQjQ,IAAOgC,EAC9DqE,UAAWpE,EACXiB,GAAI,IAAKqM,GAAc/L,SACnCX,IAECA,GAPC7C,GAAM4P,GAJV,IAYA,KAGhB,CAAChN,EAAS2M,IAKb,OAHGE,GACCC,EAAQQ,QAAQ5P,cAAC0O,EAAI,CAAuBhF,QAAS,SAAU9G,GAAI,CAACuC,MAAO,OAAQsK,QAAS,UAAWtC,WAAY,OAAQ8B,IAAjG,oBAEvBlI,eAAA8I,IAAA,CAAA3M,SAAA,CACFkM,EACAF,GAAalP,cAAC0O,EAAI,CAAChF,QAAS,OAAQ9G,GAAI,CAACuC,MAAO,OAAQsK,QAAS,UAAWtC,WAAY,OAAQ8B,OAEzG,CAEA,MAuEMa,EAAY9L,IAA+E,IAA9E,QAAC1B,EAAO,KAAExC,EAAO,GAAE,OAAEmC,EAAS,CAAC,EAAC,eAAE8N,EAAc,aAAEC,KAAiBC,GAAKjM,EAEvF,OAAQlE,GAAQ,IAAI2F,KAAI,CAAC/C,EAAK4M,KAC1B,MAAM,QAACY,EAAU,IAAMjO,EAIvB,OAHIiO,IACAxN,EAAMA,EAAIwN,IA5EDtM,KAUQ,IAVP,IACIlB,EAAM,GAAE,QACRJ,EAAU,CAAC,EAAC,OACZL,EAAS,CAAC,EAAC,eACX8N,EAAc,SACdI,EAAQ,aACRH,EAAY,oBACZI,EAAmB,YACnBC,KACGJ,GACNrM,EACnB,MAAM,UACFsL,GAAY,EAAK,eACjB/M,EAAiB,OAAM,WACvBmO,EAAsB,WACtBC,EAAU,aACVpB,GAAe,GACflN,GACE,KAAC8M,EAAI,iBAAEyB,EAAgB,WAAEC,GAAcR,EAC7C,IAAIS,EAAW,CAAC,EACZH,IACAG,EAAWH,EAAW,CAAC7N,SAAS,CAAC,GAErC,MAIIiO,EAAa3Q,cAAC0O,EAAI,CAAC9L,GAAI,CAAC,EAAG8G,QAAS,OAAQ5G,UAAU,KAAK8N,MAAM,MAAK1N,SAClElD,cAAC6Q,IAAO,CAAC/J,MAAM,SAASgK,UAAU,MAAK5N,SACnClD,cAAAiF,IAAA,CAAYsB,QAASyJ,EAAae,UAAK,EAAMrO,EAAI9B,IAAK8B,GAAMkD,UAAWwK,EAAoBlN,SACvFlD,cAAC4O,EAAU,CAACzJ,MAAOiL,EAAsB,QAAU,mBAK7DY,EAAO1O,EAAQmD,KAAI,CAAC4J,EAAQ4B,KAC9B,MAAM,GAACvR,EAAK,GAAE,SAAE+C,EAAQ,WAAEmC,EAAa,KAAI,eAAEH,EAAc,QAAEM,GAAU,EAAI,YAAEmM,GAAe7B,GAAU,CAAC,EAEvG,KADkBE,IAAEC,WAAWzK,GAAWA,EAAQ,CAACsK,SAAQN,SAAShK,GAEhE,OAAO,KAEX,IAAIiM,EAQJ,OANIA,EADAvM,GAAkB8K,IAAEC,WAAW/K,GACxBA,EAAe/B,EAAIhD,GAAKgD,GACxB6M,IAAEC,WAAW/M,GACbA,EAAS,CAACC,MAAKqM,QAAOoB,IAAavL,EAEnC2K,IAAE4B,IAAIzO,EAAKhD,EAAIkF,IAAeA,EAElC5E,cAAC0O,EAAI,CAAchF,QAASwH,GAAe/O,GAAkB,SAAUW,UAAU,KAAK8N,MAAM,MAAK1N,SACnG8N,GADatR,EAAKuR,EAEhB,IAGX,GAAG9B,EAAa,CACZ,IAAIkB,EACA,MAAM,IAAIe,MAAM,6BAEpB,MAAMC,EAAUZ,EAAWa,QAAQ5O,EAAI2N,KAAiB,EACxDW,EAAKpB,QAAQ5P,cAAC0O,EAAI,CAACnI,QAASiK,EAAiBO,UAAK,EAAMrO,GAAKQ,SACzDlD,cAAAuR,IAAA,CAAUF,QAASA,KAAW,YAAApO,OAD6CkN,IAGnF,CAEA,OAAOpJ,eAAA8I,IAAA,CAAyB2B,QAASlB,EAAY/J,QAzC5BiF,IACjBA,EAAEiG,iBACElC,IAAEC,WAAWO,IAAiBA,EAAerN,EAAI,EAwC5CE,GAAM0N,EAAa,CAACoB,OAAQ,aAAchB,GAAY,IAAIA,GAAUxN,SAAA,CAChF8N,EACA9B,GAAayB,IAHIR,EAIX,EAUAwB,CAAa,CAACjP,MAAKJ,UAASL,SAAQ8N,iBAAgBI,SAAUb,EAAOU,kBAAiBC,GAAM,GACrG,EAIA9I,EAAgBjD,IAA+H,IAA9H,OAACjC,EAAS,CAAC,EAAC,KAAEnC,EAAO,GAAE,QAAEU,EAAO,QAAEX,GAAU,EAAK,UAAEuH,EAAS,aAAEhG,EAAY,QAAEyE,EAAO,oBAAE3E,GAAoB,KAAU+O,GAAK/L,EAC3IpE,EAAOA,GAAQ,GACf,MAAM,iBAAC0Q,EAAgB,WAAEC,EAAU,YAAEJ,GAAeJ,GAC7C2B,EAAYC,GAAiB7J,mBAAS,CAAC,IACzC8J,EAAQC,GAAa/J,mBAAS,CAAC5H,MAAM,EAAO6B,OAAQ,CAAC,KAElDK,QAAS0P,EAAW,GAAE,eACtBC,EAAc,WACd3B,EAAU,cACV4B,GAAgB,EAAI,aACpB7Q,EAAY,KACZJ,EAAI,MACJmB,EAAK,MACLpB,EAAK,iBACLmR,EAAgB,cAChB7Q,EAAa,KACbkN,EAAO,SAAQ,aACf4D,EAAe,GAAE,uBACjBC,EAAsB,YACtBnQ,IAAc,EAAK,SACnBoQ,GAAQ,cACRC,GAAa,kBACbC,GAAoB,GAAE,gBACtBC,GAAgB,GAAE,UAClB/Q,GAAS,UACTC,GAAY,MAAK,iBACjBC,GAAgB,QAChBS,IAAU,GACVJ,GACJ,KAAC8M,GAAO,IAAM2D,cAAgBrO,KAC9B+L,GAAmD,mBAAtBoC,GAAkCA,GAAoBA,GAAkBlB,QAAQvC,KAAS,IAAK,EAC3H/C,GAAMd,IAAMyH,OAAO,IACjBrQ,GAAoC,oBAAnB2P,EAAgCA,EAAe,CAACnS,OAAMwC,QAAS0P,IAAaA,EAC7FzM,GAAS0I,MAAMC,QAAQpO,IAASA,EAAKyF,OACvCqN,GAAU9G,mBAAQ,IACfjG,GAAWqF,IAAM2H,eAAehN,GACxBA,EAEJ7F,cAAA8S,WAAA,KACR,CAACjN,IAEEkK,GAAkBrN,IACpB,GAAIwP,GAAiB5B,EAAY,CAC7B,MAAM3I,EAAM2I,EAAW5N,GACnB2P,IACA3P,EAAM2P,EAAuB3P,IAEjClC,EAAQ4L,KAAKzE,EAAKjF,EACtB,MAAW4N,GACPA,EAAW5N,EACf,EAGEsM,GAAoBA,CAAC+D,EAAOC,KAI9BpR,IAAoBA,GAAiB,CAACqR,MAAOD,EAAUlR,MAHzCJ,KAAcsR,GAA0B,QAAdrR,GAG8B,OAAS,OAAO,EAGpFqO,GAAeA,CAACtQ,EAAIgD,EAAK8I,KAC3BA,EAAE0H,kBACF,MAAMjR,EAAS,CACX6E,MAAOA,IAAMC,eAAAoM,IAAA,CAAMC,WAAS,EAACjF,WAAW,SAASvL,GAAI,CAACuH,EAAG,aAAckJ,IAAK,EAAEnQ,SAAA,CAC1ElD,cAACsT,IAAgB,CAACnO,MAAM,UACxBnF,cAAA2C,IAAA,CAAYC,GAAI,CAAC8D,SAAU,UAAWyG,WAAY,KAAMhI,MAAM,QAAOjC,SAAC,cAE1E6J,OAAQ,SACRD,KAAMA,IAAMwF,GAAS5S,EAAI6T,GAAe,CAAC7Q,QACzCsK,QAASA,IAAMhN,cAAAwT,IAAA,CACX5Q,GAAI,CAACuC,MAAO,QAAQjC,SAAEqM,IAAEC,WAAW+C,IAAiBA,GAAc,CAAC7P,QAAQ6P,IAAiB,iDAEpGR,EAAU,IAAID,EAAQ1R,MAAM,EAAM6B,UAAQ,EAG9C,SAASsR,KACLxB,EAAU,IAAID,EAAQ1R,MAAM,GAChC,CAEA,MASMqT,GAAkB3H,mBAAQ,IACvBvG,GAOEwB,eAAC2M,WAAQ,CAAAxQ,SAAA,CACZlD,cAAA2T,IAAA,CAAWzM,UAAW,GAAItE,GAAI,CAACgR,gBAAiB,UAAWjH,UAAW,oCAAoCzJ,SACtGlD,cAAC8O,EAAO,CAACxM,QAASA,GAASL,OAAQA,EAAQ8M,KAAMA,GAAMC,kBAAmBA,GAAmB3M,QAASA,OAE1GrC,cAAA6T,IAAA,CAAA3Q,SACIlD,cAAC8P,EAAS,CACNf,KAAMA,GACNzM,QAASA,GACTxC,KAAMA,EACNmC,OAAQA,EACRwO,WAAYA,EACZJ,YAAaA,EACbN,eAAgBA,GAChBC,aAAcA,GACdQ,iBAAkBA,EAClBJ,oBAAqBA,UArBrBpQ,cAAA,SAAO8T,MAAO,CAAC7M,OAAQ,KAAK/D,SACpClD,cAAA,MAAAkD,SACIlD,cAAA,MAAI8T,MAAO,CAAC1J,UAAW,UAAUlH,SAAClD,cAAA,MAAAkD,SAAKkP,GAAgB,4BAuBhE,CAACtS,EAAMmC,EAAQwO,IAelB,OAbAhF,qBAAU,KAAO,IAADsI,EACZ,GAAO,OAAH/H,SAAG,IAAHA,IAAY,QAAT+H,EAAH/H,GAAKgI,eAAO,IAAAD,GAAZA,EAAcE,MAAO,CACrB,MAAMC,EAAmBlI,GAAIgI,QAAQC,MAAME,aAC3CtC,EAAc,IAAID,EAAY3K,OAAQiN,EAAmB,IAAMA,OAAmB1O,GACtF,IACD,IAEHiG,qBAAU,KAAO,IAAD2I,GACRlT,GAAuBE,IAA4B,QAAhBgT,EAAKpI,GAAIgI,eAAO,IAAAI,GAAXA,EAAaC,gBACrDrI,GAAIgI,QAAQK,eAAeC,SAAS,EAAG,EAC3C,GACD,CAACpT,EAAqBE,IAElB2F,eAAAC,IAAA,CAAKE,UAAU,iBAAiBtE,GAAI,CAACqE,OAAQ1B,KAAW1F,EAAW4S,IAAmB,MAAS,QAAQvP,SAAA,CAC1G6D,eAAAjB,IAAA,CAAOqI,WAAW,WAAWR,eAAe,WAAW5H,UAAU,MAAMwO,GAAI,EAAGlB,IAAK,GAAGnQ,SAAA,CACjF0P,GACA1Q,IAAelC,cAAAiF,IAAA,CAAY6B,MAAM,UAAUP,QAASa,EAAUlE,SAC3DlD,cAAAwU,IAAA,CAAStN,UAAY9F,EAAgB,kBAAeoE,SAG5DuB,eAAA0N,IAAA,CACI3R,UAAS4R,IACTxN,UAAU,iBACV8E,IAAK2I,GAAM3I,GAAIgI,QAAwB,eAAIW,EAC3C/R,GAAI,CAACgS,UAAW,yBAA0BC,GAAI,EAAG5N,OAAQ1B,KAAW1F,EAAU,oBAAsB,OAAQyK,SAAU,YAAYpH,SAAA,CAEjIrD,EAhESiV,MACd,MAAMC,EAAcpJ,OAAOoJ,YAAc,IACrC9N,GAAU2K,EAAW3K,OAAS2K,EAAW3K,OAAS8N,EAAcA,EAAcnD,EAAW3K,OAAS8N,IAAgBA,EACtH,OAAO/U,cAAAmT,IAAA,CAAMC,WAAS,EAACjF,WAAY,SAAUR,eAAe,SAAS/K,GAAI,CAACqE,UAAQ/D,SAC9ElD,cAAAmT,IAAA,CAAM6B,MAAI,EAAC7G,WAAW,SAASvL,GAAI,CAAC0H,SAAU,YAAYpH,SACtDlD,cAACiV,IAAO,OAET,EA0DGH,GACA9U,cAAAkV,IAAA,CAAOlJ,IAAK2I,GAAM3I,GAAIgI,QAAe,MAAIW,EAAI,aAAW,gBAAgBnG,KAAMA,EAAM2G,cAAY,EAAAjS,SAC7FuQ,KAETzT,cAAAoV,IAAA,CACIxS,GAAI,CAAEuC,MAAO,OAAQkQ,OAAS5L,GAAUA,EAAM4L,OAAOC,OAAS,EAAGhL,SAAU,YAC3ElK,KAAMc,GAAuBE,IAAgB,EAAM8B,SAEnDlD,cAACiV,IAAO,CAACrS,GAAI,CAACuC,MAAO,mBAG3BtF,GAAWC,EAAKyF,OAAS,GACvBvF,cAAC8N,EAAe,CAAChO,KAAMA,EAAMuB,aAAcA,EAAcJ,KAAMA,EAAMmB,MAAOA,EAAOpB,MAAOA,EAAOM,cAAeA,GAAiB6Q,EAAkBpE,UAAW3M,GAAgBF,IAClLlB,cAACwJ,IAAM,CAACtC,UAAU,uBAAuB9G,KAAM0R,EAAO1R,KAAM6B,OAAQ6P,EAAO7P,OAAQ4H,QAAS0J,OAC1F,EAGKgC,yBAAWC,eAAKrO,G,mCC9T/B,2BAuCesO,IAnCE,SAAC9N,GAAwC,IAAnCC,EAAQtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMwC,EAAOxC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/C,MAAOxF,EAAM4V,GAAW1N,wBAASxC,IAC1B3F,EAASkI,GAAcC,oBAAS,IAChC2N,EAAOC,GAAY5N,mBAAS,OAC9B5G,EAAcyU,GAAmB7N,oBAAS,GAE/C,SAAS8N,IACL,IAAIxN,EAAMX,EACNG,EAAQS,cACRD,EAAG,GAAArF,OAAMqF,EAAG,KAAArF,OAAIuF,YAAUV,EAAQS,eAEtCwN,YAAW,CAACzN,MAAKV,WAAUC,cAAc,IACpCoB,MAAK+M,IACFA,EAAOlW,MAAQ4V,EAAQM,EAAOlW,KAAK,IAEtCuJ,SAAQ,KACLtB,GAAW,GACX8N,GAAgB,EAAM,GAElC,CAaA,OANApK,qBAAU,KACN1D,GAAW,GACX6N,EAAS,MACTE,GAAa,GACd,CAACnO,IAEG,CAAC7H,OAAMD,UAAS8V,QAAOxU,QAX9B,WACI0U,GAAgB,GAChBC,GACJ,EAQkD1U,eACtD,C,iGChCA,MAAM6U,EAAa7W,IACf,MAAM,MACFmD,EAAQ,GAAE,KACV6F,EAAO,OAAM,QACbN,EAAU,GAAE,SACZoO,EAAW,QAAO,SAClBC,EAAW,KAAI,eACfC,EAAc,eACdC,GAAiB,EAAK,OACtBC,GACAlX,EAIJ,UAHAA,EAAQmQ,IAAEgH,UAAUnX,IACPiX,eAEc,WAAvBjO,EAAKY,cAA4B,CAC5BiF,MAAMC,QAAQpG,IAAaA,EAAQvC,QACpCiR,QAAQb,MAAM,yCAElB,MAAMc,GAAQ3O,GAAW,IAAIrC,KAAKiR,GACvB1W,cAAA,UAAQ0E,MAAOgS,EAAIP,GAAUjT,SAAsBwT,EAAIR,IAApBQ,EAAIP,MAGlD,OADIE,GAAgBI,EAAK7G,QAAQ5P,cAAA,UAAQ0E,MAAM,GAAExB,SAAE,sBAC5ClD,cAACgG,IAAK,IACL5G,EACJ6G,SAAUmQ,EACV1W,GAAI6C,EACJ6F,KAAMA,EAAKlF,SACbuT,GACN,CACA,OAAOzW,cAACgG,IAAK,CACTtG,GAAI6C,EACJ6F,KAAMA,KACFhJ,EACJkX,OAAQA,GACV,EAmDSK,IAjDI,WAAiB,IAAhBvX,EAAKkG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACzB,MAAM,MACF/C,EAAQ,GAAE,KACV6F,EAAO,OAAM,SACbwO,GAAW,EAAK,SAChB3Q,EAAQ,WACR4Q,EAAa,CAAC,EAAC,UACf9Q,EAAY,SAAQ,aACpB+Q,EAAe,CAAC,EAAC,UACjBC,EAAY,GAAE,OACdT,GACAlX,EAqBJ,OACI2H,eAACiQ,IAAS,CACNlD,MAAqB,QAAd/N,EAAsB,CAAC6H,QAAS,OAAQO,WAAY,YAAa2I,GAAgB,IAAIA,GAAc5T,SAAA,CACzGX,GAASvC,cAAA,SACNkH,UAAU,qBACV+P,QAAS1U,EACTuR,MAAO,CAAC3O,MAAO,UAAW+R,YAAa,KAAML,GAAY3T,SAExDX,IAELvC,cAACiW,EAAS,IAAK7W,EAAOgX,eA7BN5K,IACpB,GAA2B,WAAvBpD,EAAKY,eAA8B4N,EAAU,CAC7C,MAAM,QAAC9O,EAAO,KAAExD,GAAQkH,EAAE2L,OACpBC,EAAS,GACf,IAAK,IAAInG,EAAI,EAAGoG,EAAIvP,EAAQvC,OAAQ0L,EAAIoG,EAAGpG,IACnCnJ,EAAQmJ,GAAGqG,UACXF,EAAOhL,KAAKtE,EAAQmJ,GAAGvM,OAG3BuB,GAAUA,EAASuF,EAAG4L,EAAQ9S,EACtC,MAAW2B,GAAUA,EAASuF,EAAE,EAmB0B8K,OAhB1C9K,IACZ8K,GACAA,EAAO9K,EAAE2L,OAAO7S,KAAMkH,EAAE2L,OAAOzS,MACnC,IAcKqS,GACG/W,cAAA2C,IAAA,CAAYuC,QAAQ,YAAYtC,GAAI,CAACuC,MAAO,MAAOuB,SAAU,UAAUxD,SAAE6T,MAGzF,C,mCCxFA,0RA6BO,MAEMQ,EAAW,eAACtW,EAAIqE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAGtE,EAAKsE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IAAKkS,EAAMlS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAImS,EAAMnS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,GAAE,OAAK4C,MAAOvI,EAAU+X,KAC1F/X,EAAS,CACPyI,KAAMuP,IACNC,QAAS,CAAEC,iBAAiB,KAE1B,IACE,MAAM,QAAEC,EAAO,KAAEhY,SAAeiW,YAAW,CACzCzN,IAAI,qBAADrF,OAAuBhC,EAAO,EAAC,WAAAgC,OAAUjC,EAAK,YAAAiC,OAAWuU,EAAM,YAAAvU,OAAWwU,KAE/E9X,EAAS,CACPyI,KAAMuP,IACNC,QAAS,CAAEC,iBAAiB,KAE1BC,EACFnY,EAAS,CACPyI,KAAM2P,IACNH,QAAS,CAAE5V,MAAOlC,EAAMmB,OAAMD,QAAOnB,SAAS,KAGhDmY,YAAalY,EAAKmY,QAAS,QAE/B,CAAE,MAAO7O,GACPzJ,EAASuY,YAAS9O,EAAI6O,QAAS,SACjC,EACA,EA+COE,EAAc,eAAClX,EAAIqE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAGtE,EAAKsE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAImS,EAAMnS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIkS,EAAMlS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAE,OAAK4C,UAC7E,IACE,MAAMP,EAAG,qBAAA1E,OAAwBhC,EAAO,EAAC,qBAAAgC,OACnBwU,EAAM,YAAAxU,OAAWuU,GACjCtO,QAAYkP,IAAMjH,IAAIxJ,GAC5BhI,EAAS,CACPyI,KAAMiQ,KACNT,QAAS,CAAE9X,KAAMoJ,EAAIpJ,KAAMmB,OAAMD,QAAOyW,WAE5C,CAAE,MAAOrO,GACPzJ,EAASuY,YAAS9O,EAAI6O,QAAS,SACjC,EACA,EAEWK,EACX,WAAiB,OACfpQ,MAAOvI,EAAU+X,KACf/X,EAAS,CAAEyI,KAAMmQ,OACjB,MACElY,MAAM,KAAEY,EAAI,YAAEuX,IACZd,GAAU,CAEd,EAEOhX,EAAa,eAAC+X,EAAKnT,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAI,MAAM,CAC3C8C,KAAMsQ,KACNd,QAASa,EACV,EAiBYE,EAAUA,CAACC,EAAUhR,IAAaM,UAC7C,IACE,MAKM,KAACpI,EAAI,QAAEgY,SAAiBhP,YAAY,CAACR,IAAK,YAAaH,KAAMyQ,IAChEd,GACDnY,EAAS,CACPyI,KAAMyQ,IACNjB,QAAS9X,IAGXkY,YAAa,gBACTpQ,GACFA,EAASkQ,EAAShY,IAGpBkY,YAAalY,EAAKmY,QAAS,QAE/B,CAAE,MAAO7O,GACPzJ,EAASuY,YAAS9O,EAAI6O,QAAS,UAC/BzB,QAAQsC,IAAI1P,EACd,GAGW2P,EAAa,SAACH,GAAQ,IAAEpB,EAAMlS,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAI0T,EAAW1T,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGsC,EAAQtC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAAA,OAAK0C,MAAOvI,EAAU+X,KAChG,IACE,MAAMuB,EAAO,IAAIC,SACjB,IAAK,IAAIC,KAAOC,OAAOC,KAAKT,GAC1B,GAAI,CAAC,mBAAoB,iBAAiBtH,QAAQ6H,GAAO,EAAG,CAC1D,MAAMrZ,EAAO8Y,EAASO,GAChBjL,EAAUD,MAAMC,QAAQpO,GAE9B,IAAIwZ,EAAapL,KADO,OAATpO,GACuByZ,KAAKC,UAAU1Z,GAAQA,EAC7DmZ,EAAKQ,OAAON,EAAKG,EACnB,CAEFL,EAAKQ,OAAO,cAAeF,KAAKC,UAAUR,IAC1C,IAAK,IAAIG,IAAO,CAAC,mBAAoB,gBAAiB,qBAAsB,CAC1E,MAAMO,EAAQd,EAASO,GACvB,GAAIO,EAAO,IAAK,IAAIC,KAAQD,EAAOT,EAAKQ,OAAON,EAAKQ,EACtD,CAEA,MAAM,QAAE7B,EAAO,KAAEhY,SAAe+I,YAAa,CAAEP,IAAK,mBAAoBH,KAAM8Q,IAC9E,GAAInB,EAAS,CACXE,YAAa,gBACb,MACE3X,MAAM,YACJmY,EAAW,KAAEvX,IAEbyW,IACJ/X,EAAS4X,EAAStW,EAAMuX,EAAahB,GACvC,CACA5P,EAASkQ,EAAShY,EACpB,CAAE,MAAOsJ,GACP4O,YAAa5O,EAAI6O,QAAS,QAC5B,EACA,EAmDWtX,EAAaA,CAACiZ,EAAShS,IAAaM,UAC/C,IACE,MAAM,QAAE4P,EAAO,KAAEhY,SAAe8I,YAAc,CAAEN,IAAK,YAAaH,KAAM,CAAErI,KAAM,CAAE8Z,QAASA,MAC3F5B,YAAalY,EAAKmY,QAASH,EAAU,UAAY,SAC7CA,GACFnY,EAAS,CACPyI,KAAMyR,IACNjC,QAASgC,IAGbhS,GAAYA,EAASkQ,EAAShY,EAChC,CAAE,MAAOsJ,GACP4O,YAAa5O,EAAI6O,QAAS,QAC5B,E,mCC7QF,8MAKO,MAAM6B,EAAaA,IAAM5R,UAC9B,IACE,MAAMgB,QAAYkP,IAAMjH,IAAI,mBAC5BiI,OAAOW,OAAO7Q,EAAIpJ,KAAM,CAACka,UAAW,IAAIC,OACxCta,EAAS,CACPyI,KAAM8R,IACNtC,QAAS1O,EAAIpJ,MAEjB,CAAE,MAAOsJ,GAAM,IAAD+Q,EAAAC,EACZ5D,QAAQsC,IAAI1P,GACZzJ,EAAS,CACPyI,KAAMiS,IACNzC,QAAS,CAAE0C,IAAQ,OAAHlR,QAAG,IAAHA,GAAa,QAAV+Q,EAAH/Q,EAAKmR,gBAAQ,IAAAJ,OAAV,EAAHA,EAAeK,WAAY9U,OAAW,OAAH0D,QAAG,IAAHA,GAAa,QAAVgR,EAAHhR,EAAKmR,gBAAQ,IAAAH,OAAV,EAAHA,EAAe1U,SAEtE,GAIW+U,EAAYA,CAAC7B,EAAU8B,IAAWxS,UAC7C,IACE,MAAMjG,EAAS,CACbmN,QAAS,CACP,eAAgB,qBAIdlG,QAAYkP,IAAMuC,KAAK,eAAgB/B,EAAU3W,GAEvD+V,YAAa9O,EAAIpJ,KAAKmY,SACtBtY,EAASma,IAEX,CAAE,MAAO1Q,GACP,IAAIuM,EAAQvM,EAAIwR,QAAU3M,MAAMC,QAAQ9E,EAAIwR,SAAWxR,EAAIwR,OAAOrV,OAAS6D,EAAIwR,OAAO,GAAGN,IAAMlR,EAAI6O,QACnGtY,EAASuY,YAAUvC,EAAO,SAK5B,GAIWkF,EAAmBA,CAACC,EAAW9Y,IAAUkG,MAAOvI,EAAU+X,KACrE,IACE,IAAIqD,EAAUrD,IAAWsD,OAAOD,QAChC,MAAM7R,QAAYkP,IAAM6C,MAAM,gCAADhY,OAAiC6X,GAAa,CAAE9Y,MAAOA,IACpF,IAAIsN,EAAQyL,EAAQzJ,QAAQyJ,EAAQG,MAAMC,GAAMA,EAAEva,MAAQsI,EAAIpJ,KAAKc,QACpD,IAAX0O,IACFyL,EAAQzL,GAASpG,EAAIpJ,MAEvBH,EAAS,CACPyI,KAAMgT,IACNxD,QAASmD,GAEb,CAAE,MAAO3R,GACPzJ,EAAS,CACPyI,KAAMiS,IACNzC,QAAS,CAAE0C,IAAKlR,EAAImR,SAASC,WAAY9U,OAAQ0D,EAAImR,SAAS7U,SAElE,GAIW2V,EAAeA,CAACP,EAAWQ,IAAOpT,MAAOvI,EAAU+X,KAC9D,IACE,IAAIqD,EAAUrD,IAAWsD,OAAOD,QAChC,MAAM7R,QAAYkP,IAAMmD,OAAO,gBAAiB,CAAEzb,KAAM,CAAEgb,UAAWA,KACrE,IAAIxL,EAAQyL,EAAQzJ,QAAQyJ,EAAQG,MAAMC,GAAMA,EAAEva,MAAQsI,EAAIpJ,KAAKc,QACpD,IAAX0O,GACFyL,EAAQS,OAAOlM,EAAO,GAExB0I,YAAa,wBACbsD,GAAMA,EAAGpS,GACTvJ,EAAS,CACPyI,KAAMqT,IACN7D,QAASmD,GAEb,CAAE,MAAO3R,GACPzJ,EAAS,CACPyI,KAAMiS,IACNzC,QAAS,CAAE0C,IAAKlR,EAAImR,SAASC,WAAY9U,OAAQ0D,EAAImR,SAAS7U,SAElE,GAIWgW,EAAoBA,CAACZ,EAAWlB,IAAY1R,MAAOvI,EAAU+X,KACxE,IACE,IAAIqD,EAAUrD,IAAWsD,OAAOD,QAChC,MAAM7R,QAAYkP,IAAMmD,OAAO,qBAAsB,CAAEzb,KAAM,CAAE8Z,QAASA,EAASkB,UAAWA,KAC5F,IAAIxL,EAAQyL,EAAQzJ,QAAQyJ,EAAQG,MAAMC,GAAMA,EAAEva,MAAQsI,EAAIpJ,KAAKc,QACpD,IAAX0O,IACFyL,EAAQzL,GAASpG,EAAIpJ,MAEvBH,EAAS,CACPyI,KAAMuT,IACN/D,QAASmD,GAEb,CAAE,MAAO3R,GACPzJ,EAAS,CACPyI,KAAMiS,IACNzC,QAAS,CAAE0C,IAAKlR,EAAImR,SAASC,WAAY9U,OAAQ0D,EAAImR,SAAS7U,SAElE,E,mCC5GF,qCA2Ge3F,IAvGsBA,CAAC4H,EAAKG,KACvC,MAAM,MAAChG,EAAQ,MAAK,QAAED,EAAO,aAAE+Z,EAAe,KAAQ9T,GAAW,CAAC,GAC3DhI,EAAM4V,GAAW1N,mBAAS,KAC5BnI,EAASkI,GAAcC,oBAAS,IAChC/G,EAAM4a,GAAW7T,mBAAS,IAC1BhH,EAAO8a,GAAY9T,mBAAS,MAC5BxG,EAAaua,GAAkB/T,mBAAS,KACxC9G,EAAqB8a,GAA0BhU,oBAAS,IACxDzG,EAAa0a,GAAkBjU,oBAAS,IACxC5G,EAAcyU,GAAmB7N,oBAAS,IAC1CtG,EAAWwa,GAAgBlU,mBAASnG,IACpCF,EAAWwa,GAAgBnU,mBAASlG,GACrCsa,EAAgBzJ,kBAAO,GAE3BlH,qBAAU,KACN4Q,GAAW,GACZ,CAAC1U,EAAK1G,EAAMD,EAAOU,EAAWC,IAEjC8J,qBAAU,KACN1D,GAAW,EAAK,GACjB,IAEH0D,qBAAU,KACN,MAAM6Q,EAAkB/M,IAAEgN,UAAS,KAC1BH,EAAcpI,UACfiI,GAAe,GACfI,IACJ,GACDT,GAIH,OAFAU,IAEOA,EAAgBE,MAAM,GAC9B,CAAChb,EAAaoa,IAEjB,MAAMS,EAAYI,uBAAYvU,UAC1B6N,YAAW,CAACzN,IAAI,GAADrF,OAAK0E,EAAG,UAAA1E,OAAShC,EAAI,YAAAgC,OAAWzB,EAAW,WAAAyB,OAAUjC,EAAK,eAAAiC,OAAcvB,EAAS,eAAAuB,OAActB,KACzGsH,MAAKC,IACF,MAAM,KAACpJ,GAAQoJ,EACfwM,EAAQ5V,EAAK,IAEhBqJ,OAAMqC,IACHgL,QAAQb,MAAMnK,EAAEyM,QAAQ,IAE3B5O,SAAQ,KACLtB,GAAW,GACXiU,GAAuB,GACvBC,GAAe,GACfpG,GAAgB,GACZuG,EAAcpI,UACdoI,EAAcpI,SAAU,EAC5B,GACF,GACP,CAACrM,EAAK1G,EAAMD,EAAOQ,EAAaE,EAAWC,IAExCN,EAAeob,uBAAY,CAACjR,EAAGiD,KACjCuN,GAAuB,GACvBH,EAAQpN,EAAM,GACf,IAEGhN,EAAegb,uBAAYlc,IAAc,IAAb,MAACmE,GAAMnE,EACrCwb,EAAerX,GACfmX,EAAQ,EAAE,GACX,IAEGva,EAAgBmb,uBAAYrZ,IAAc,IAAb,MAACsB,GAAMtB,EACtC4Y,GAAuB,GACvBH,EAAQ,GACRC,EAASpX,EAAM,GAChB,IAEG9C,EAAmB6a,uBAAYjZ,IAAuB,IAAtB,MAAEyP,EAAK,MAAEnR,GAAO0B,EAClD0Y,EAAajJ,GACbkJ,EAAara,GACbka,GAAuB,GACvBH,EAAQ,EAAE,GACX,IAQH,MAAO,CACH/b,OACAD,UACAoB,OACAD,QACAK,eACAI,eACAN,QAbYA,KACZ0a,EAAQ,GACRhG,GAAgB,GAChBwG,GAAW,EAWX/a,gBACAE,cACAN,sBACAK,cACAH,eACAM,YACAC,YACAC,mBACH,C,uZCnGE,MAAM8a,EAAkBA,CAACC,EAAKC,EAASC,KACtCD,IAAYC,IACZzD,OAAO0D,eAAeH,EAAKE,EACvBzD,OAAO2D,yBAAyBJ,EAAKC,WAClCD,EAAIC,IAERD,G,0ICDX,MAAMK,GAAgBzT,YAAMmL,IAANnL,EAAchJ,IAAA,MAAGA,EAAA,MAAM,CACzCiN,MAAO,IACPvG,OAAQ,IACRgW,aAAc,EACdC,SAAU,SACVxT,QAAS,EACTkE,QAAS,OACTO,WAAY,SACZgP,cAAe,SACfxP,eAAgB,SACnB,IAEKyP,GAAaha,IAAyC,IAAxC,MAACsW,EAAQ,GAAE,QAAE7P,EAAO,YAAEwT,GAAYja,EAElD,MAGMka,GAAS5D,GAAS,IAAIjU,KAAIkU,GACrB5S,gBAACiW,GAAa,CAACO,UAAW,EAAEra,SAAA,CAC/BlD,eAACwd,KAAe,CAAC5a,GAAI,CAACuC,MAAOsY,OAC7Bzd,eAAA2C,IAAA,CAAYuC,QAAQ,YAAYwY,MAAM,SAAS9a,GAAI,CAAC4K,MAAO,UAAW0P,SAAU,SAAUS,aAAc,YAAYza,SAAEyW,EAAKrV,YAInI,OAAOtE,eAAC4K,IAAK,CAAC3I,OAVD,CACT6E,MAAO,aASmB+D,cAAehB,EAAQ3G,SACjD6D,gBAAAoM,IAAA,CAAMC,WAAS,EAACzJ,QAAS,EAAG/G,GAAI,CAACgL,QAAS,QAAQ1K,SAAA,CAC9ClD,eAAAmT,IAAA,CAAM6B,MAAI,EAAA9R,SACNlD,eAAC4d,KAAK,CAAC3b,OAAQ,CAAC7B,MAAM,EAAM6X,QAAS,+DAAgE4F,SAAU,YAElHnE,GAAS1Z,eAAAmT,IAAA,CAAM6B,MAAI,EAAA9R,SAChBlD,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWtC,GAAI,CAACmb,MAAO,SAAUxX,QAAS8W,EAAalY,MAAM,QAAOjC,SAAC,iBAEzFlD,eAAAmT,IAAA,CAAM6B,MAAI,EAAA9R,SACNlD,eAAAmT,IAAA,CAAMC,WAAS,EAACC,IAAK,EAAGzQ,GAAI,CAACgL,QAAS,OAAQoQ,oBAAqB,kBAAkB9a,SAChFoa,UAIT,EAiIGW,OA9HqB7e,IAChC,MAAO8e,EAAgBC,GAAqBnW,mBAAS,CAAC5H,MAAM,EAAO6B,OAAQ,CAAC,KACtE,KACF5C,EAAI,iBAAE+e,EAAmB,GAAE,cAAEC,EAAgB,GAAE,kBAAEC,EAAoB,GAAE,iBAAEC,EAAgB,oBAAEC,EAAmB,iBAC9GC,EAAgB,gBAAEC,EAAe,MAAEC,EAAK,YAAEC,EAAW,QAAEC,EAAO,sBAAEC,GAChE1f,EAIJ,SAAS2f,EAAiBpF,EAAMrV,EAAMkH,GAClCA,EAAE0H,kBACFiL,EAAkB,CAAC/d,MAAM,EAAM6B,OAAQ,IAAI0X,GAAOrV,QACtD,CAEA,SAAS0a,IACLb,EAAkB,CAAC/d,MAAM,EAAO6B,OAAQ,MAC5C,CAOA,OAAQ8E,gBAAAjB,IAAA,CAAOlD,GAAI,CAACuL,WAAY,OAAOjL,SAAA,CAClCgb,EAAe9d,MAAQJ,eAACod,GAAU,CAAC1D,MAAOwE,EAAejc,OAAQ4H,QAASmV,EAAiB3B,YANhG,WACIkB,EAAiB,CAACpH,OAAQ,CAAE7S,KAAM4Z,EAAe5Z,KAAMoV,MAAO,QAC9DsF,GACJ,IAIIjY,gBAAAjB,IAAA,CAAOC,UAAW,MAAO4D,QAAS,EAAG/G,GAAI,CAACiS,GAAI,GAAG3R,SAAA,CAC5Ckb,EAAiB7Y,OAAU6Y,EAAiB3Y,KAAI,CAACwZ,EAAKC,IAC3Clf,eAAA8S,YAAA,CAAA5P,SAAElD,eAAA,QAAM8T,MAAO,CAACqL,OAAQ,EAAGzV,QAAS,EAAG0V,WAAY,OAAOlc,SACxD6D,gBAAA,KAAGsY,KAAMJ,EAAK9H,OAAO,SAAQjU,SAAA,CAAC,YAClBgc,EAAM,WAGzBlf,eAAA,QAAAkD,SAAM,aACblD,eAAA,QAAAkD,SACW7D,EAAOW,eAAC0T,WAAQ,CAAAxQ,SACR0b,EACK5e,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAQjI,QAASwY,EAAiBhO,UAAK,EAAM6N,EAAa,oBAAqBU,UAAWtf,eAACuf,IAAa,IAAIrc,SAAC,SAG9J6D,gBAAA,SAAOkQ,QAAQ,yBAAwB/T,SAAA,CACzClD,eAAA,SACI8T,MAAO,CAAClG,QAAS,QACjBxF,KAAK,OACLwO,UAAQ,EACRtS,KAAK,mBACLsB,UAAWvG,GAAiC,WAAzBsf,EAAMa,KAAKnb,KAAK0K,KACnC9I,SAAUsY,EACVvS,IAAKwS,EACL9e,GAAG,2BAEPM,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAOtL,SACnD,gBAIXuc,cAAqBrB,EAAiB7Y,aAG1DwB,gBAAAjB,IAAA,CAAOC,UAAW,MAAO4D,QAAS,EAAG/G,GAAI,CAACiS,GAAI,GAAG3R,SAAA,CAC5Cmb,EAAc9Y,OAAU8Y,EAAc5Y,KAAI,CAACia,EAAKR,IACrClf,eAAA8S,YAAA,CAAA5P,SACElD,eAAA,QAAM8T,MAAO,CAACqL,OAAQ,EAAGzV,QAAS,EAAG0V,WAAY,OAAOlc,SACtD6D,gBAAA,KAAGsY,KAAMK,EAAKvI,OAAO,SAAQjU,SAAA,CAAC,OACvBgc,EAAM,WAItBlf,eAAA,QAAAkD,SAAM,QACblD,eAAA,QAAAkD,SACW7D,EAAOwf,EAAU7e,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAQjI,QAASwY,EAAiBhO,UAAK,EAAM8N,EAAS,iBAAkBS,UAAWtf,eAACuf,IAAa,IAAIrc,SAAC,SAG/J6D,gBAAA,SAAOkQ,QAAQ,yBAAwB/T,SAAA,CACrClD,eAAA,SACI8T,MAAO,CAAClG,QAAS,QACjBxF,KAAK,OACLwO,UAAQ,EACRtS,KAAK,gBACLsB,UAAWvG,EACX4G,SAAUsY,EACVvS,IAAKyS,EACL/e,GAAG,2BAEPM,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAOtL,SAAC,cAI/Duc,cAAqBpB,EAAc9Y,aAGvDwB,gBAAAjB,IAAA,CAAOC,UAAW,MAAO4D,QAAS,EAAEzG,SAAA,CAC/Bob,EAAkB/Y,OAAU+Y,EAAkB7Y,KAAI,CAACka,EAAKT,IAC7Clf,eAAA8S,YAAA,CAAA5P,SACElD,eAAA,QAAM8T,MAAO,CAACqL,OAAQ,EAAGzV,QAAS,EAAG0V,WAAY,OAAOlc,SACtD6D,gBAAA,KAAGsY,KAAMM,EAAKxI,OAAO,SAAQjU,SAAA,CAAC,gBACdgc,EAAM,WAG/Blf,eAAA,QAAAkD,SAAM,iBACblD,eAAA,QAAAkD,SACW7D,EAAOyf,EACF9e,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAQjI,QAASwY,EAAiBhO,UAAK,EAAM+N,EAAuB,qBAAsBQ,UAAWtf,eAACuf,IAAa,IAAIrc,SAAC,SAGzKlD,eAAC0T,WAAQ,CAAAxQ,SACX6D,gBAAA,SAAOkQ,QAAQ,yBAAwB/T,SAAA,CACnClD,eAAA,SACI8T,MAAO,CAAClG,QAAS,QACjBxF,KAAK,OACLwO,UAAQ,EACRtS,KAAK,oBACLsB,UAAWvG,GAAiC,WAAzBsf,EAAMa,KAAKnb,KAAK0K,KACnC9I,SAAUsY,EACVvS,IAAK0S,EACLhf,GAAG,2BAEPM,eAAA8d,IAAA,CAAQ5Y,QAAQ,WAAWpC,UAAU,OAAO0L,KAAK,QAAOtL,SAAC,gBAInDuc,cAAsC,OAAjBnB,QAAiB,IAAjBA,MAAmB/Y,gBAGhE,E,qBC7KL,MAAMqa,GAAYC,cAAYpW,IAAK,CACxCqW,KAAM,CAEJC,SAAU,IACVzT,SAAU,IACV0T,aAAc,GACdpM,gBAAiB,UACjBqJ,aAAc,EACdgD,YAAa,EACbC,YAAa,QACbC,YAAa,QAGfC,YAAa,CACXjD,cAAe,MACfkD,KAAM,OACNN,SAAU,IACVzT,SAAU,IACVgU,YAAa,GACbC,WAAY,GACZC,cAAe,EACf,eAAgB,CACdA,cAAe,IAGnBnd,OAAQ,CACNqD,SAAU,GACVyH,WAAY,UAEdsS,GAAI,CACFtB,OAAQ,EACRzV,QAAS,GAEXgX,MAAO,CACL9S,QAAS,OACTuR,OAAQ,EACRzV,QAAS,EACT4W,YAAa,IACbnS,WAAY,UAEdwS,SAAU,CACR1Z,OAAQ,GACRuG,MAAO,GACP4R,WAAY,GAEdwB,UAAW,CACT,UAAW,CACTzb,MAAO,WAET,mBAAoB,CAClBA,MAAO,YAGX0b,gBAAiB,CACf,UAAW,CACT1b,MAAO,WAET,mBAAoB,CAClBA,MAAO,YAGX2b,sBAAuB,CACrB,UAAW,CACT3b,MAAO,WAET,mBAAoB,CAClBA,MAAO,WAETia,WAAY,QAEd2B,oBAAqB,CACnB,UAAW,CACT5b,MAAO,WAET,mBAAoB,CAClBA,MAAO,WAETia,WAAY,QAEd4B,OAAQ,CACNta,SAAU,IAEZua,aAAc,CACZva,SAAU,IAGZwa,QAAS,CACP/B,OAAQ,GAEVgC,MAAO,CACL7W,SAAU,WACVsJ,gBAAiBnK,EAAMgB,QAAQ2W,WAAWD,MAC1CvM,UAAWnL,EAAM4X,QAAQ,GACzB3X,QAASD,EAAME,QAAQ,EAAG,EAAG,GAC7Ba,IAAK,MACLD,KAAM,MACNiD,MAAO,MACP8T,UAAW,wBACXC,UAAW,OACXC,UAAW,MACXC,QAAS,QAEXC,oBAAqB,CACnBC,SAAU,EACVxE,cAAe,OAEjByE,YAAa,CACXzC,OAAQ1V,EAAME,QAAQ,GACtBoW,SAAU,S,OCrEd,MAAM8B,GAAmB,CACvBnc,OAAQ,GACRoc,KAAM,GACNC,WAAY,KACZC,cAAe,GACf5D,iBAAkB,KAClBC,cAAe,KACf4D,aAAc,GACd5e,OAAQ,GACRQ,KAAM,GACNqe,iBAAiB,GAKbC,GAAY,CAChB3V,WAAY,CACVsH,MAAO,CACL0N,UAAWY,IACX5U,MAAO,OAIP6U,GAAyB,CAC7BzB,UAAW,CACT0B,WAAY,yBACZ9T,KAAM,QACN+T,WAAW,IAGXC,GAAyB,CACvB5B,UAAW,CACTpS,KAAM,QACN+T,WAAW,IAIbE,GAAkBliB,IAAA,IAAC,MAAEmE,GAAOnE,EAAA,OAAMmE,GAAgB,IAAI,EAEtDxE,GAAkBkD,IAMjB,IANkB,UACvBjD,EAAS,KACTC,EACAE,YAAaoiB,EAAY,YACzBC,EAAW,KACXtiB,EAAI,UAAEQ,GACPuC,GACK,IACFxC,EAAG,UACHuD,EAAS,WACThB,EAAU,KACV2e,EAAI,cACJE,EAAa,OACb3e,EAAM,KACNQ,EAAI,WACJke,EAAa,KAAI,KACjB1d,EAAI,OACJqB,EAAS,GAAE,aACXuc,EAAe,GAAE,gBACjBC,GAAe,YACflJ,GAAc,IACZ3Y,GAAQ,CAAC,EACb,MAAMuiB,GAAWrT,IAAEgH,UAAUyC,IACvB6J,GAAUjD,KACVjgB,GAAWC,cACX+e,GAAQmE,aAAanE,GAAUA,KAC9Btf,GAAM0jB,IAAW7X,IAAMlD,UAAS,IAChCiR,GAAM+J,IAAW9X,IAAMlD,SAAS,IAAK6Z,MACrC/hB,MAAOA,KAAMmjB,GAAe,IAAM,CAAC,GAAKxN,YAAS,sBACjDyN,GAA0BC,IAA+Bnb,oBAAS,GACnEwW,GAAsB7L,mBACtB8L,GAAmB9L,mBACnB+L,GAAkB/L,mBACpBnS,GAAUyL,uBACZmX,GAAgB/jB,GAAOgkB,IAAgBC,KACnC,UAACC,GAAY,IAAO5E,GAAM3D,QAAU,CAAC,EACrCwI,GAAoBD,GAAU9d,KAAKuP,IACvC,MAAM,IAAEpU,EAAG,UAAE2D,EAAS,SAAEC,EAAQ,KAAEuK,EAAI,KAAE1K,EAAO,CAAC,GAAM2Q,GAAQ,CAAC,GAC3D,KAAC1Q,EAAO,GAAIyK,KAAM0U,EAAc7iB,IAAK8iB,GAAcrf,GAAQ,CAAC,EAChE,MAAO,CACLC,OAAM1D,IAAK8iB,GAAc9iB,EAAK2D,YAAWC,WAAUuK,KAAM4U,aAAkBF,GAAgB1U,GAC5F,KACG,GAENtD,qBAAU,KACRmY,KACAZ,GAAQ,CACNtd,SACAqc,WAAgB,OAAJ1d,QAAI,IAAJA,OAAI,EAAJA,EAAMzD,IAClBqhB,eACAD,gBACA3e,SACAQ,OACAie,OACA3e,aACA+e,qBAEF2B,IAAiB,GAChB,IAEHpY,qBAAU,KACMkT,GAAMte,KAAKsV,MACd2E,KACTyI,IAAQ,EAEV,GACC,CAACpE,GAAMte,KAAKsV,QACflK,qBAAU,KACJtL,GAAW4iB,IAAQ,EAAK,GAC3B,CAAC5iB,IACJsL,qBAAU,KACHkT,GAAMte,KAAKA,IACd,GAED,CAACse,GAAMte,KAAKA,OACf,MAAMujB,GAAeA,KACnBjkB,GAASma,cAAa,EAGlBxZ,GAAcA,KAClBoiB,EAAa,CAACliB,YAAS,EAGnB6H,GAAeyb,IACnBX,IAA4B,GACxBW,GAAWxjB,IAAa,EAGxByjB,GAAgBhR,IACpBA,EAAMtB,iBACc,UAAhBwH,GAAKvT,SACPuT,GAAKiJ,iBAAkB,GAEzBiB,IAA4B,GAC5BxjB,GAASoZ,YAAW,IAAKE,GAAMrY,OAAO+hB,EAAaC,GAAUva,IAAa,EAGtE2b,GAAkBjR,IACtB,MAAM,KAAEzO,EAAI,MAAEI,GAAUqO,EAAMoE,OAC9B6L,GAAQ,IAAK/J,GAAM,CAAC3U,GAAOI,GAAQ,EAG/Buf,GAAuBA,CAAAzgB,EAAwB0gB,EAAaC,KAAc,IAAhDhN,QAAQ,MAAEzS,IAASlB,EAC7B,WAAhB0gB,EACFlB,GAAQ,IAAK/J,GAAM5V,OAAQ,CAAC,IAAK4V,GAAK5V,OAAO,GAAI,CAAC8gB,GAAWzf,MAEtC,SAAhBwf,GACPlB,GAAQ,IAAK/J,GAAMpV,KAAM,CAAC,IAAKoV,GAAKpV,KAAK,GAAI,CAACsgB,GAAWzf,KAC3D,EAQI0f,GAAmBA,CAACC,EAAMlL,KAC9B6J,GAAQ,IAAK/J,GAAM,CAACE,GAAM,CAAC,IAAKF,GAAKE,GAAK,GAAI,CAAC,GAADlW,OAAIkW,EAAG,SAASkL,KAAU,EAKpER,GAAkBA,KAClBrF,GAAoBxK,UAASwK,GAAoBxK,QAAQtP,MAAQ,IACjE+Z,GAAiBzK,UAASyK,GAAiBzK,QAAQtP,MAAQ,GAAE,EAE7D4f,GAAkBA,CAACD,EAAME,EAAYC,KAGzCxB,IAAS/J,IAAI,IACRA,EACH,CAACsL,GAAa,CAAC,IAAKtL,EAAKsL,GAAY,GAAI,CAACC,GAAYH,OACrD,EAECI,GAAUA,KACd,IACE,MACEjF,MACEnb,MAAM,KAAE0K,KAER4P,GACJ,OAAO5P,CACT,CAAE,MAAOvD,GACP,MAAO,EACT,GAWF,GAAIwN,GAAYzT,OAAQ,CACtB,MAAMmf,EAAQ,IAAI1L,IAClBA,GAAc,CACZ,cAAiB,GACjB,iBAAoB,GACpB,kBAAqB,IAEvB0L,EAAMC,SAAQ,WAAqB,IAApB3P,EAAI1P,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACrB,MAAM,SAAEsf,EAAW,GAAE,aAAEC,EAAe,IAAO7P,EAC7CgE,GAAY4L,GAAUxY,KAAKyY,EAE7B,GACF,MAAO7L,GAAc,CAAC,EAEtB,MAAM,iBAAEoF,GAAmB,GAAE,cAAEC,GAAgB,GAAE,kBAAEC,GAAoB,IAAOtF,IAAe,CAAC,EAExF8L,GAAiB9gB,IAA2D,IAA1D,QAAE+gB,EAAO,OAAE3N,EAAS,GAAE,QAAEzN,EAAU,EAAC,SAAEqb,EAAW,CAAC,GAAGhhB,EAC1E,OAAO+C,gBAAAjB,IAAA,CAAO6D,QAASA,EAAS/G,GAAI,IAAKoiB,GAAY9d,UAAU,aAAYhE,SAAA,CACzElD,eAAA8F,IAAA,CAAA5C,SAAOlD,eAAA2C,IAAA,CAAYC,GAAI,CAAEuK,WAAY,IAAKzG,SAAU,GAAI0D,UAAW,SAAU6a,GAAI,GAAI/hB,SAAE6hB,MACtF3N,EAAO3R,KAAIf,GAAS1E,eAAA8F,IAAA,CAAA5C,SACnBlD,eAACyiB,GAAe,CAAC/d,MAAOA,UAEpB,EAEV,OACE1E,eAAA8S,YAAA,CAAA5P,SACElD,eAAAklB,IAAA,CACE9kB,KAAMA,EACNyJ,QAASvJ,GACT,kBAAgB,qBAAoB4C,SAGpClD,eAACmlB,IAAoB,CAACC,YAAaC,IAAcniB,SAC/C6D,gBAAA,OAAK+M,MAAO,CAAEtG,MAAO,OAAStG,UAAW2b,GAAQ1B,MAAMje,SAAA,CACvDlD,eAAA8F,IAAA,CAAOC,UAAW,MAAO4H,eAAgB,gBAAiB/K,GAAI,CAAEiS,GAAI,GAAI3R,SAKtElD,eAAAiF,IAAA,CAAA/B,SACElD,eAAAyG,IAAA,CACE/G,GAAG,qBACH6G,QAASjG,SAIfyG,gBAAA,QAAMue,SAAUvB,GAAa7gB,SAAA,CAE3B6D,gBAAAoM,IAAA,CAAMC,WAAS,EAACzJ,QAAS,EAAGzC,UAAW2b,GAAQnB,oBAAoBxe,SAAA,CACjElD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChB6D,gBAAAoM,IAAA,CAAMC,WAAS,EAAClM,UAAW2b,GAAQnB,oBAAqB/X,QAAS,EAAG/G,GAAI,CAAE4iB,GAAI,EAAGrf,GAAI,GAAIjD,SAAA,CACvFlD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAIE,GAAI,EAAEviB,SACvB6D,gBAAC2e,IAAW,CAAC9iB,GAAI,CAAEsH,EAAG,GAAKsE,KAAK,QAAQ+T,WAAS,EAAArf,SAAA,CAC/ClD,eAAC2lB,IAAU,CAACjmB,GAAG,gBAAewD,SAAC,WAC/BlD,eAAA4lB,IAAA,CACElmB,GAAG,gBACH4E,KAAK,SACLI,MAAOuU,GAAKvT,OACZO,SAAU/B,IAAA,IAAGiT,QAAQ,MAAEzS,IAASR,EAAA,OAAK8e,GAAQ,IAAK/J,GAAMvT,OAAQhB,GAAS,EACzE+T,MAAOzY,eAACojB,GAAa,CAAC5U,KAAK,QAAQjM,MAAM,GAAGsjB,SAAS,EAAOjjB,GAAI,CAAC,IACjEuf,UAAWA,GACXvc,UAAWvG,IAAiC,WAAzBsf,GAAMa,KAAKnb,KAAK0K,KAAkB7L,UAEnD+f,IAAgB,IAAIxd,KAAKnB,GACzBtE,eAAA8lB,IAAA,CAEEphB,MAAOJ,EAAK5E,GACdwD,SAEGoB,EAAK/B,OAJD+B,EAAK5E,aAUpBM,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAIE,GAAI,EAAEviB,SACvB6D,gBAAC2e,IAAW,CAAC9iB,GAAI,CAAEsH,EAAG,GAAKsE,KAAK,QAAQ+T,WAAS,EAAArf,SAAA,CAC/ClD,eAAC2lB,IAAU,CAACjmB,GAAG,gBAAewD,SAAC,aAC/BlD,eAAA4lB,IAAA,CACElmB,GAAG,gBACH4E,KAAK,aACLsB,UAAWvG,IAAiC,WAAzBsf,GAAMa,KAAKnb,KAAK0K,KACnCrK,MAAOuU,GAAK8I,WACZ9b,SAAU7B,IAAA,IAAG+S,QAAQ,MAAEzS,IAASN,EAAA,OAAK4e,GAAQ,IAAK/J,GAAM8I,WAAYrd,GAAS,EAC7E+T,MAAOzY,eAACojB,GAAa,CAAC5U,KAAK,QAAQjM,MAAM,GAAGsjB,SAAS,EAAOjjB,GAAI,CAAC,IACjEuf,UAAWA,GAAUjf,SAEpBsgB,GAAkB/d,KAAKsgB,GACtB/lB,eAAA8lB,IAAA,CAEEphB,MAAOqhB,EAASnlB,IAClBsC,SAAA,GAAAD,OAEM8iB,EAASxhB,UAAS,KAAAtB,OAAI8iB,EAASvhB,SAAQ,MAAAvB,OAAK8iB,EAAShX,MAAQ,KAAI,MAJhEgX,EAASnlB,cAUxBmG,gBAAAoM,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAIE,GAAI,EAAEviB,SAAA,CACvBlD,eAAC2lB,IAAU,CAACjmB,GAAG,2BAA0BwD,SAAC,iBAC1ClD,eAAC0lB,IAAW,CAAC9iB,GAAI,CAAEsH,EAAG,GAAKqY,WAAS,EAAArf,SAClClD,eAAA4lB,IAAA,CACEI,QAAQ,2BACRtmB,GAAG,qBACHkX,UAAQ,EACRlS,MAAOuU,GAAKgJ,aACZhc,SAAUjB,IAAA,IAAGmS,QAAQ,MAAEzS,IAASM,EAAA,OAAKge,GAAQ,IAAK/J,GAAMgJ,aAA+B,kBAAVvd,EAAqBA,EAAMuhB,MAAM,KAAOvhB,GAAS,EAC9H+T,MAAOzY,eAACojB,GAAa,CAAC5U,KAAK,QAAQjM,MAAM,GAAGsjB,SAAS,IACrD1D,UAAWA,GACXvc,UAAWvG,GAAK6D,SAEf,CACC,CAAExD,GAAI,OAAQ6C,MAAO,QACrB,CAAE7C,GAAI,YAAa6C,MAAO,aAC1B,CAAE7C,GAAI,mBAAoB6C,MAAO,oBACjC,CAAE7C,GAAI,oBAAqB6C,MAAO,qBAClC,CAAE7C,GAAI,UAAW6C,MAAO,WACxB,CAAE7C,GAAI,eAAgB6C,MAAO,iBAC7BkD,KAAKnB,GACLtE,eAAA8lB,IAAA,CAEEphB,MAAOJ,EAAK5E,GACdwD,SAEGoB,EAAK/B,OAJD+B,EAAK5E,kBAYxBM,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAI3iB,GAAI,CAAEsH,EAAG,GAAIhH,SAC9BlD,eAAAkmB,IAAA,SAKJnf,gBAAAoM,IAAA,CAAMC,WAAS,EAAAlQ,SAAA,CACblD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAG3iB,GAAI,CAAEgL,QAAS,QAAS1K,SACxC6D,gBAAAC,IAAA,CAAKpE,GAAI,CAAEuL,WAAY,MAAOP,QAAS,QAAS1K,SAAA,CAC7C7D,GAAO0H,gBAAAC,IAAA,CAAKpE,GAAI,CAAE0H,SAAU,YAAapH,SAAA,CACxClD,eAAAiF,IAAA,CAAYsB,QAASwd,GAAcne,SAAUsd,GAAyBhgB,SACpElD,eAAAmmB,IAAA,CACEzf,SAAS,QACTvB,MAAO+d,GAA2B,WAAa,cAGlDA,IAA4BljB,eAAAomB,IAAA,CAC3B5X,KAAM,GACN5L,GAAI,CACFuC,MAAOkhB,IAAM,KACb/b,SAAU,WACVE,KAAM,EACND,MAAO,EACP8K,OAAQ,QAIVrV,eAAAiF,IAAA,CAAYsB,QAASA,IAAMwc,IAAQ,GAAOjc,MAAM,OAAOlB,SAAUsd,KAA6BriB,EAAUqC,SACxGlD,eAAAsmB,IAAA,CACE5f,SAAS,QACTvB,MAAO+d,GAA2B,WAAa,cAGpD7jB,GAAOW,eAAAiF,IAAA,CAAYsB,QAlNfggB,KACnBvD,GAAQ,IAAK/J,GAAM8I,WAAY1d,EAAMqB,SAAQuc,eAAc5e,SAAQQ,SACnEkf,IAAQ,GACRc,IAAiB,EA+MwCje,SAAUsd,GAAyBhgB,SAC5ElD,eAAAyG,IAAA,CACEC,SAAS,QACTvB,MAAO+d,GAA2B,WAAa,cAEnCljB,eAAAiF,IAAA,CAAYsB,QAnLzBigB,KACjB,IAAIre,EAAO,IAAK9H,GAChB8H,EAAOuU,EAAgBvU,EAAM,SAAU,UACvCA,EAAOuU,EAAgBvU,EAAM,OAAQ,WACrCgb,IAA4B,GAC5BxjB,GAASgZ,YAAQxQ,EAAME,IAAa,EA8K2BvB,MAAM,cAAclB,SAAUsd,KAA6BriB,EAAUqC,SACpHlD,eAAAymB,IAAA,CACE/f,SAAS,QACTvB,MAAO+d,GAA2B,WAAa,mBAKvDljB,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SACf6D,gBAAAoM,IAAA,CAAMC,WAAS,EAAAlQ,SAAA,CACblD,eAAAmT,IAAA,CAAMoS,GAAI,GAAIvQ,MAAI,EAACpH,QAAS,OAAQD,eAAgB,SAASzK,SAC3D6D,gBAAAjB,IAAA,CAAA5C,SAAA,CACElD,eAAA8F,IAAA,CAAOC,UAAW,MAAM7C,SACrB7D,GAAOolB,OACS,UAAdA,MAAuC,aAAdA,OACxBzkB,eAAC2W,IAAU,CACTE,WAAY,CAAE1J,WAAY,IAAKzG,SAAU,GAAIvB,MAAO,WACpDzF,GAAG,iBACH4E,KAAK,aACLI,MAAOuU,GAAK9V,WACZ8C,SAAU+d,GACVzhB,MAAO,OACPwD,UAAW,QAEXgB,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACblD,eAAA2C,IAAA,CAAYC,GAAI,CAAE8jB,GAAI,EAAGvZ,WAAY,IAAKzG,SAAU,IAAKxD,SAAC,SAC1DlD,eAAA2C,IAAA,CAAYqS,MAAI,EAACpS,GAAI,CAAE8D,SAAU,IAAKxD,SAAEC,GAAc,YAG1DnD,eAAA8F,IAAA,CAAOC,UAAU,MAAK7C,SACnB7D,GAAOolB,OACS,UAAdA,MAAuC,aAAdA,OACxBzkB,eAAC2W,IAAU,CACTjX,GAAG,iBACH6C,MAAM,OACN+B,KAAK,OACLI,MAAOuU,GAAK6I,KACZ7b,SAAU+d,GACVje,UAAW,MACX8Q,WAAY,CAAE1J,WAAY,IAAKzG,SAAU,GAAIvB,MAAO,aAEpD4B,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACblD,eAAA2C,IAAA,CAAYC,GAAI,CAAE8jB,GAAI,EAAGvZ,WAAY,IAAKzG,SAAU,IAAKxD,SAAC,SAC1DlD,eAAA2C,IAAA,CAAYqS,MAAI,EAACpS,GAAI,CAAE8D,SAAU,IAAKxD,SAAE4e,GAAQ,iBAKxD9hB,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChB6D,gBAAAoM,IAAA,CAAMC,WAAS,EAAAlQ,SAAA,CAEblD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SACf6D,gBAAAjB,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,UAAWlH,SAAA,CACjClD,eAAA8F,IAAA,CAAA5C,SACG7D,IAAiC,WAAzBsf,GAAMa,KAAKnb,KAAK0K,KACvBhI,gBAAAjB,IAAA,CAAA5C,SAAA,CACElD,eAAC2W,IAAU,CACTjX,GAAG,iBACHwG,YAAY,eACZxB,MAAOuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGsjB,YAAc,GACrD1gB,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,iBAG1C/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,UACZxB,MAAOuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGujB,cAAgB,GACvD3gB,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,mBAGzC1T,IAAiC,WAAzBsf,GAAMa,KAAKnb,KAAK0K,MAAqBhI,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACrDlD,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,OACZxB,MACEuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGC,WAAa,GAE/C2C,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,gBAG1C/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwG,YAAY,QACZxB,MACEuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGE,YAAc,GAEhD0C,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,iBAG1C/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,MACZxB,MAAOuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGwjB,UAAY,GACnD5gB,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,qBAK5C/S,eAAC8kB,GAAc,CACjBC,QAAS,SACT3N,OAAQ,CACN/T,GAAUA,EAAO,GAAKA,EAAO,GAAGsjB,YAAc,GAC9C1N,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGujB,cAAgB,GAAG,GAAD3jB,OAC/CI,GAAUA,EAAO,GAAKA,EAAO,GAAGC,WAAa,GAAE,MAAAL,OAAKI,GAAUA,EAAO,GAAKA,EAAO,GAAGE,YAAc,GAAE,MAAAN,OAAKI,GAAUA,EAAO,GAAKA,EAAO,GAAGwjB,UAAY,SAI9J7mB,eAAA8F,IAAA,CAAO6D,QAAS,EAAEzG,SACf7D,GAAO0H,gBAAAoM,IAAA,CAAMC,WAAS,EAACzJ,QAAS,EAAEzG,SAAA,CACjClD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChBlD,eAAA2C,IAAA,CAAYC,GAAI,CAAEuK,WAAY,IAAKzG,SAAU,GAAI0D,UAAW,UAAWlH,SAAC,kBAE1ElD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChBlD,eAACmlB,IAAoB,CAACC,YAAaC,IAAcniB,SAC/ClD,eAAC8mB,IAAc,CACXpiB,MAAOhB,IAAOuV,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGI,WAAa,KAAO,IAAIwW,KACtEhU,SAAWoe,GAASD,GAAiBC,EAAK0C,cAAe,UACzDC,UAAW3E,GACX9f,MAAM,oBAyBdvC,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SAWflD,eAACinB,IAAU,CACP1kB,MAAM,UACNmC,MAAOhB,IAAQuV,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAG6jB,QAAU,IACzDjhB,SAAWoe,GACPC,GAAgBD,EAAM,SAAU,WAEpC2C,UAAWxE,OAGjBxiB,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SACblD,eAACinB,IAAU,CACT1kB,MAAM,WACNmC,MAAOhB,IAAOuV,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAG8jB,SAAW,IACzDlhB,SAAWoe,GACTC,GAAgBD,EAAM,SAAU,YAElC2C,UAAWxE,UAIfzb,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACTlD,eAAC8kB,GAAc,CACbnb,QAAS,EACTqb,SAAU,CAAEoC,GAAI,GAChBrC,QAAS,cACT3N,OAAQ,CACN/T,GAAUA,EAAO,GACfK,IAAOL,EAAO,GAAGI,YAAYE,OAAO,OAEpC,MAINoD,gBAAAjB,IAAA,CAAOC,UAAU,MAAM4H,eAAe,eAAehE,QAAS,EAAEzG,SAAA,CAC9DlD,eAAA8F,IAAA,CAAA5C,SACGG,GAAUA,EAAO,IAAMA,EAAO,GAAG6jB,QAChCngB,gBAAAjB,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,QAASlH,SAAA,CAC/BlD,eAAA2C,IAAA,CAAYuC,QAAQ,YAAYtC,GAAI,CAAEuC,MAAO,WAAYjC,SAAC,cAC1DlD,eAAAgH,IAAA,CAAA9D,SAAMQ,IAAOL,EAAO,GAAG6jB,SAASvjB,OAAO,eAGzC,OAGJ3D,eAAA8F,IAAA,CAAA5C,SACGG,GAAUA,EAAO,IAAMA,EAAO,GAAG8jB,SAChCpgB,gBAAAjB,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,QAASlH,SAAA,CAC/BlD,eAAA2C,IAAA,CAAYuC,QAAQ,YAAYtC,GAAI,CAAEuC,MAAO,WAAYjC,SAAC,cAC1DlD,eAAAgH,IAAA,CAAA9D,SAAMQ,IAAOL,EAAO,GAAG8jB,UAAUxjB,OAAO,eAG1C,eAMZ3D,eAAA8F,IAAA,CAAO6D,QAAS,EAAEzG,SAChB6D,gBAAAoM,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAIzR,MAAO,CAAE1J,UAAW,OAAQoD,MAAO,QAAStK,SAAA,CAC7D6D,gBAAAjB,IAAA,CAAO6D,QAAS,EAAG/G,GAAI,CAAEwkB,GAAI,EAAGvS,GAAI,GAAI3R,SAAA,CACtC6D,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAW,SAASxE,QAAS,EAAEzG,SAAA,CACpDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,QAC5B7D,GACCW,eAAC2W,IAAU,CACTjS,MAAOuU,IAAQA,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGgkB,SAAW,GAC1DphB,SAAWuF,GAAMyY,GAAqBzY,EAAG,SAAU,cAEnDxL,eAAA2C,IAAA,CAAAO,SAAaG,GAAUA,EAAO,GAAKA,EAAO,GAAGgkB,SAAW,QAE9DtgB,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAY,SAAUxE,QAAS,EAAEzG,SAAA,CACtDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,eAC5B7D,GACCW,eAAC2W,IAAU,CACTjS,MAAOrB,GAAU4V,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGikB,gBAAkB,GACnErhB,SAAWuF,GAAMyY,GAAqBzY,EAAG,SAAU,qBAEnDxL,eAAA2C,IAAA,CAAAO,SAAaG,GAAUA,EAAO,GAAKA,EAAO,GAAGikB,gBAAkB,QAErEvgB,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAW,SAASxE,QAAS,EAAEzG,SAAA,CACpDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,cAC5B7D,GACCW,eAAC2W,IAAU,CACTjS,MAAOrB,GAAU4V,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGkkB,oBAAsB,GACvEthB,SAAWuF,GAAMyY,GAAqBzY,EAAG,SAAU,yBAEnDxL,eAAA2C,IAAA,CAAAO,SAAaG,GAAUA,EAAO,GAAKA,EAAO,GAAGkkB,oBAAsB,WAMjD,WAAzB5I,GAAMa,KAAKnb,KAAK0K,MACf/O,eAAC2W,IAAU,CACTjX,GAAG,4BACHwG,YAAY,eACZshB,WAAS,EACTC,KAAM,EACNrf,KAAK,WACL1D,MAAOuU,GAAK5V,OAAO,GAAK4V,GAAK5V,OAAO,GAAGqkB,MAAQ,GAC/CzhB,SAAW8M,GACTkR,GAAqBlR,EAAO,SAAU,SAExC7N,QAAQ,WACRyiB,UAAWtoB,eAOvBW,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAG3iB,GAAI,CAAEgL,QAAS,OAAQga,UAAW,SAAUR,GAAI,GAAIlkB,SAEpElD,eAAA6nB,IAAA,CACE/T,MAAO,CACL3O,MAAO2iB,IACPC,UAAW,MACX5I,OAAQ,SACRlY,OAAQ,GACRuG,MAAO,QAIbzG,gBAAAoM,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SAAA,CAEflD,eAAA8F,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,UAAWlH,SAChC7D,GAAgC,WAAzBsf,GAAMa,KAAKnb,KAAK0K,MAAqBhI,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACpDlD,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,gBACZxB,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGmkB,aAAe,GAClD/hB,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,kBAGxC/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,UACZxB,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGokB,YAAc,GACjDhiB,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,iBAGxC/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,OACZxB,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGC,SAAW,GAC9CmC,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,cAGxC/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,QACZxB,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGE,UAAY,GAC/CkC,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,eAGxC/S,eAAC2W,IAAU,CACTjX,GAAG,iBACHwF,QAAQ,WACRgB,YAAY,MACZxB,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGqkB,QAAU,GAC7CjiB,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,gBAItC/S,eAAC8kB,GAAc,CACfC,QAAS,OACT3N,OAAQ,CACNvT,GAAQA,EAAK,GAAKA,EAAK,GAAGmkB,aAAe,GACzC/O,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGokB,YAAc,GAAG,GAADhlB,OACzCY,GAAQA,EAAK,GAAKA,EAAK,GAAGC,SAAW,GAAE,2CAAAb,OACpCY,GAAQA,EAAK,GAAKA,EAAK,GAAGE,UAAY,GAAE,2CAAAd,OACxCY,GAAQA,EAAK,GAAKA,EAAK,GAAGqkB,QAAU,SAIlDloB,eAAA8F,IAAA,CAAO6D,QAAS,EAAG/G,GAAI,CAAEwH,UAAW,UAAWlH,SAC5C7D,GAAO0H,gBAAAoM,IAAA,CAAMC,WAAS,EAACzJ,QAAS,EAAEzG,SAAA,CACjClD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChBlD,eAAA2C,IAAA,CAAYC,GAAI,CAAEuK,WAAY,IAAKzG,SAAU,GAAI0D,UAAW,UAAWlH,SAAC,gBAE1ElD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SAChBlD,eAAC8mB,IAAc,CACXpiB,MAAOhB,IAAOuV,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGI,SAAW,KAAO,IAAIgW,KAChEhU,SAAWoe,GAASD,GAAiBC,EAAK0C,cAAe,QACzDC,UAAW3E,GACX9f,MAAM,gBAkBZvC,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SACflD,eAACinB,IAAU,CACP1kB,MAAM,UACNmC,MAAOhB,IAAOuV,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGqjB,QAAU,KAAO,IAAIjN,KAC/DhU,SAAWoe,GAASC,GAAgBD,EAAM,OAAQ,WAClD2C,UAAWxE,OAajBxiB,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAEriB,SACflD,eAACinB,IAAU,CACP1kB,MAAM,WACNmC,MAAOhB,IAAOuV,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGsjB,SAAW,IACrDlhB,SAAWoe,GACPC,GAAgBD,EAAM,OAAQ,YAElC2C,UAAWxE,UAcjBzb,gBAAC2M,WAAQ,CAAAxQ,SAAA,CACPlD,eAAC8kB,GAAc,CACbnb,QAAS,EACTqb,SAAU,CAAEoC,GAAI,GAChBrC,QAAS,YACT3N,OAAQ,CACNvT,GAAQA,EAAK,GACXH,IAAOG,EAAK,GAAGI,UAAUN,OAAO,OAEhC,MAINoD,gBAAAjB,IAAA,CAAOC,UAAU,MAAM4H,eAAe,eAAehE,QAAS,EAAEzG,SAAA,CAC9DlD,eAAA8F,IAAA,CAAA5C,SACGW,GAAQA,EAAK,IAAMA,EAAK,GAAGqjB,QAC1BngB,gBAAAjB,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,QAASlH,SAAA,CAC/BlD,eAAA2C,IAAA,CAAYuC,QAAQ,YAAYtC,GAAI,CAAEuC,MAAO,WAAYjC,SAAC,cAC1DlD,eAAAgH,IAAA,CAAA9D,SAAMQ,IAAOG,EAAK,GAAGqjB,SAASvjB,OAAO,eAGvC,OAGJ3D,eAAA8F,IAAA,CAAA5C,SACGW,GAAQA,EAAK,IAAMA,EAAK,GAAGsjB,SAC1BpgB,gBAAAjB,IAAA,CAAOlD,GAAI,CAAEwH,UAAW,QAASlH,SAAA,CAC/BlD,eAAA2C,IAAA,CAAYuC,QAAQ,YAAYtC,GAAI,CAAEuC,MAAO,WAAYjC,SAAC,eAC1DlD,eAAAgH,IAAA,CAAA9D,SAAMQ,IAAOG,EAAK,GAAGsjB,UAAUxjB,OAAO,eAGxC,eAMZoD,gBAAAoM,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAI3iB,GAAI,CAAEwH,UAAW,OAAQgd,GAAI,GAAIlkB,SAAA,CAClD6D,gBAAAjB,IAAA,CAAO6D,QAAS,EAAG/G,GAAI,CAAEwkB,GAAI,EAAGvS,GAAI,GAAI3R,SAAA,CACtC6D,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAW,SAASxE,QAAS,EAAEzG,SAAA,CACpDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,QAC5B7D,GACCW,eAAC2W,IAAU,CACTwR,OAAO,SACPzjB,MAAOuU,IAAQA,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGskB,OAAS,GACpDliB,SAAWuF,GAAMyY,GAAqBzY,EAAG,OAAQ,YAEjDxL,eAAA2C,IAAA,CAAAO,SAAaW,GAAQA,EAAK,GAAKA,EAAK,GAAGskB,OAAS,QAEtDphB,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAW,SAASxE,QAAS,EAAEzG,SAAA,CACpDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,gBAC5B7D,GACCW,eAAC2W,IAAU,CACTjS,MAAOuU,IAAQA,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGukB,cAAgB,GAC3DniB,SAAWuF,GAAMyY,GAAqBzY,EAAG,OAAQ,mBAEjDxL,eAAA2C,IAAA,CAAAO,SAAaW,GAAQA,EAAK,GAAKA,EAAK,GAAGukB,cAAgB,QAE7DrhB,gBAAAjB,IAAA,CAAOC,UAAU,MAAMoI,WAAW,SAASxE,QAAS,EAAEzG,SAAA,CACpDlD,eAAA2C,IAAA,CAAYwK,WAAY,IAAIjK,SAAC,cAC5B7D,GACCW,eAAC2W,IAAU,CACTjS,MAAOuU,IAAQA,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAGwkB,kBAAoB,GAC/DpiB,SAAWuF,GAAMyY,GAAqBzY,EAAG,OAAQ,uBAEjDxL,eAAA2C,IAAA,CAAAO,SAAaW,GAAQA,EAAK,GAAKA,EAAK,GAAGwkB,kBAAoB,WAMzC,WAAzB1J,GAAMa,KAAKnb,KAAK0K,MACf/O,eAAC2W,IAAU,CACTjX,GAAG,4BACHwG,YAAY,aACZshB,WAAS,EACTC,KAAM,EACNrf,KAAK,WACL1D,MAAOuU,GAAKpV,KAAK,GAAKoV,GAAKpV,KAAK,GAAG6jB,MAAQ,GAC3CzhB,SAAW8M,GACTkR,GAAqBlR,EAAO,OAAQ,SAEtC7N,QAAQ,WACRyiB,UAAWtoB,qBAS3BW,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAG3iB,GAAI,CAAEgL,QAAS,OAAQO,WAAY,MAAOR,eAAgB,YAAazK,SACvFlD,eAACie,GAA0B,CACvB5e,KAAMA,GACN+e,iBAAoBA,GACpBC,cAAiBA,GACjBC,kBAAqBA,GACrBC,iBA7sBO3a,IAAkC,IAA/BuT,QAAQ,KAAE7S,EAAI,MAAEoV,IAAS9V,EACnDof,IAASsF,IAAC,IAAWA,EAAG,CAAChkB,GAAOoV,GAAS,QAAQ,EA6sBjC8E,oBAAqBA,GACrBC,iBAAkBA,GAClBC,gBAAiBA,GACjBC,MAAOA,GACPC,YAAa3F,GAAKmF,iBAClBS,QAAS5F,GAAKoF,cACdS,sBAAuB7F,GAAKqF,yBASpCvX,gBAAAoM,IAAA,CACEC,WAAS,EACTzJ,QAAS,EACTzC,UAAW2b,GAAQnB,oBACnB5N,MAAO,CAAEiU,UAAW,IAAK7kB,SAAA,CAEzBlD,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,IACfvlB,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAG5X,eAAgB,SAAU/K,GAAI,CAAEwH,UAAW,YAG7DpK,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAG5X,eAAe,SAASC,QAAS,SAWnD5N,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,EAAGzR,MAAO,CAAE1J,UAAW,YAGtCpK,eAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,kBAMtB,EAIQra,QAAMsK,KAAKtV,IAAiB,KAAM,G,0HC57BjD,MAAM+B,EAAS,CACX6E,MAAO,2BACPkE,sBAAsB,GAGpBud,EAAYhf,YAAM4J,IAAN5J,EAAahJ,IAAA,IAAC,MAACkJ,GAAMlJ,EAAA,MAAM,CACzC,CAACkJ,EAAM6B,YAAYC,KAAK,OAAQ,CAC5BiC,MAAO,QAEX,CAAC/D,EAAM6B,YAAYkd,GAAG,OAAQ,CAC1Bhb,MAAO,KAEd,IAkDcjG,IAhDQnI,IACnB,MAAM,WAACoI,EAAU,YAAEihB,EAAW,QAAEtnB,EAAO,gBAAEkE,EAA2B,YAAEwB,EAAarH,OAAQC,QAAQ,GAACC,GAAM,CAAC,GAAK,CAAC,EAAC,QAAEc,GAAWpB,GAC1HsF,EAAOgkB,GAAY1gB,sBACpB,SAACC,EAAQ,QAAEpI,GAAW6H,YAAY,8BAClCihB,EAAWtjB,EAAkBA,EAAgBujB,KAAiBA,IAAcnjB,KAAIC,GACzEA,EAAOhG,GAAGiG,iBAAiB,aACnB,IAAID,EAAQE,UAAU,GAE1BF,IAgBf,OAAO1F,cAAC4K,IAAK,CAAC3I,OAAQ4E,GAAe5E,EAAOiB,SACxC6D,eAACwhB,EAAS,CAACnV,WAAS,EAACtQ,UAAU,OAAO6G,QAAS,EAAG2b,SAVpC9Z,IACdA,EAAEiG,iBACFxJ,EAAS,CAACvI,KAAIgG,OAAQhB,GAAQ,MAAM,KAChC+jB,GAAeA,IACftnB,GAAWA,IACXX,EAAQqoB,QAAQrhB,EAAW,GAC7B,EAImEtE,SAAA,CACjElD,cAAAmT,IAAA,CAAM6B,MAAI,EAAA9R,SACNlD,cAAA2C,IAAA,CAAAO,SAAY,2BAEhBlD,cAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SACdlD,cAACqO,IAAM,CACH9L,MAAM,SACN+B,KAAK,SACLwD,QAAS6gB,EACT1iB,SAvBC7C,IAAc,IAAb,MAACsB,GAAMtB,EACrBslB,EAAShkB,EAAM,EAuBHA,MAAOA,EACPokB,UAAU,MAGlB9oB,cAAAmT,IAAA,CAAM6B,MAAI,EAACuQ,GAAI,GAAGriB,SACdlD,cAAC+oB,IAAa,CAAC3gB,KAAK,SAASma,WAAS,EAAC3c,UAAWlB,EAAOqJ,UAAWlO,EAASmpB,YAAY,YAAW9lB,SAAC,eAKzG,C,mCClEZ,IAAI+lB,EAAyBC,EAAQ,IACrC9P,OAAO0D,eAAeqM,EAAS,aAAc,CAC3CzkB,OAAO,IAETykB,EAAQC,aAAU,EAClB,IAAIC,EAAiBJ,EAAuBC,EAAQ,KAChDI,EAAcJ,EAAQ,GACtBK,GAAW,EAAIF,EAAeD,UAAuB,EAAIE,EAAYE,KAAK,OAAQ,CACpFC,EAAG,0GACD,UACJN,EAAQC,QAAUG,C,mCCVlB,IAAIN,EAAyBC,EAAQ,IACrC9P,OAAO0D,eAAeqM,EAAS,aAAc,CAC3CzkB,OAAO,IAETykB,EAAQC,aAAU,EAClB,IAAIC,EAAiBJ,EAAuBC,EAAQ,KAChDI,EAAcJ,EAAQ,GACtBK,GAAW,EAAIF,EAAeD,UAAuB,EAAIE,EAAYE,KAAK,OAAQ,CACpFC,EAAG,+OACD,UACJN,EAAQC,QAAUG,C","file":"static/js/14.c7fb27d9.chunk.js","sourcesContent":["import useFetchWithSearchPagination from \"../../hooks/useFetchWithSearchPagination\";\r\nimport {deleteLoad, selectLoad} from \"../../actions/load\";\r\nimport LoadDetailModal from \"../../components/loads/LoadDetailModal\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {UserSettings} from \"../../components/Atoms/client\";\r\nimport {FullScreenLoader} from \"../../components/Atoms\";\r\n\r\nconst LoadHistoryDetail = (props) => {\r\n    const {edit} = UserSettings.getUserPermissionsByDashboardId('loads');\r\n    const {match: {params: {id} = {}} = {}} = props;\r\n    const dispatch = useDispatch()\r\n    const {loading = true, data: {data = {}} = {}} = useFetchWithSearchPagination('/api/loadHistory/' + id);\r\n\r\n    if(loading){\r\n        return  <FullScreenLoader />\r\n    }\r\n\r\n    return <LoadDetailModal\r\n        modalEdit={false}\r\n        open={!loading}\r\n        load={data}\r\n        handleClose={({history}) => {\r\n            history.goBack()\r\n            dispatch(selectLoad());\r\n        }}\r\n        deleteLoad={(_id) => dispatch(deleteLoad(_id))}\r\n        canUpdate={!!edit}\r\n    />\r\n}\r\n\r\nexport default LoadHistoryDetail;","import React from \"react\";\r\nimport EnhancedTable from \"../../components/Atoms/table/Table\";\r\nimport useFetchWithSearchPagination from \"../../hooks/useFetchWithSearchPagination\";\r\nimport {Close, Search} from \"@mui/icons-material\";\r\nimport moment from \"moment\";\r\nimport {Box, IconButton, Stack, Typography} from \"@mui/material\";\r\nimport {getDollarPrefixedPrice, readableDateTime} from \"../../utils/utils\";\r\nimport {Input} from \"../../components/Atoms\";\r\nimport {Link, Route} from \"react-router-dom\";\r\nimport ReplayIcon from \"@mui/icons-material/Replay\";\r\nimport MoveToMyLoads from \"../../components/invoices/MoveToMyLoads\";\r\nimport {UserSettings} from \"../../components/Atoms/client\";\r\nimport LoadHistoryDetail from \"./LoadHistoryDetail\";\r\n\r\nconst LoadHistory = (props) => {\r\n    const {edit} = UserSettings.getUserPermissionsByDashboardId('history');\r\n    const {match: {path} = {}} = props\r\n    const {data, loading, limit, page, isPaginationLoading, refetch, isRefetching, onPageChange,\r\n        onLimitChange, isSearching, searchQuery, handleSearch, sortField, sortOrder, handleSortChange} = useFetchWithSearchPagination('/api/loadHistory', {\r\n        orderBy: 'updatedAt',\r\n        order: 'desc'\r\n    })\r\n    const {totalCount, data: loads} = data || {};\r\n\r\n    const config = {\r\n        showRefresh: true,\r\n        rowCellPadding: 'normal',\r\n        count: totalCount,\r\n        sortField,\r\n        sortOrder,\r\n        hasSort: false,\r\n        page,\r\n        limit,\r\n        onPageChange,\r\n        handleSortChange,\r\n        onLimitChange,\r\n        columns: [\r\n            {\r\n                id: 'loadNumber',\r\n                label: 'Load Number',\r\n                sort: true,\r\n                renderer: ({row}) => <Typography sx={{textDecoration: 'underline'}} component={Link} to={`${path}/${row._id}`}>{row.loadNumber}</Typography>\r\n            },\r\n            {\r\n                id: 'pickup',\r\n                label: 'PickUp City/State',\r\n                renderer: ({row: {pickup = []} = {}}) => {\r\n                    const [{pickupCity = '', pickupState = ''}] = pickup;\r\n                    return `${pickupCity}, ${pickupState}`;\r\n                }\r\n            },\r\n            {\r\n                id: \"pickupDate\",\r\n                label: \"Pickup Date\",\r\n                renderer: ({row: {pickup = []} = {}}) => {\r\n                    const [{pickupDate = ''}] = pickup;\r\n                    return moment(pickupDate).format('MM/DD/YYYY')\r\n                }\r\n            },\r\n            {\r\n                id: 'dropCity',\r\n                label: 'Drop City/State',\r\n                renderer: ({row: {drop = []} = {}}) => {\r\n                    const [{dropCity = '', dropState = ''}] = drop;\r\n                    return `${dropCity}, ${dropState}`;\r\n                }\r\n            },\r\n            {\r\n                id: 'dropDate',\r\n                label: 'Drop Date',\r\n                renderer: ({row: {drop = []} = {}}) => {\r\n                    const [{dropDate = ''}] = drop;\r\n                    return moment(dropDate).format('MM/DD/YYYY')\r\n                }\r\n            },\r\n\r\n            {\r\n                id: 'brokerage',\r\n                label: 'Customer',\r\n                renderer: ({row: {brokerage = ''} = {}}) => {\r\n                    return brokerage;\r\n                }\r\n            },\r\n            {\r\n                id: 'user.firstName',\r\n                label: \"Assigned To\",\r\n                renderer: ({ row: { user: { name = '', firstName, lastName} = {} } ={} }) => name || `${firstName || '--'} ${lastName || ''}`\r\n            },\r\n            {\r\n                id: \"accessorials\",\r\n                label: \"Accessorials\",\r\n                valueFormatter: (value) => (value || []).join(', ')\r\n            },\r\n            {\r\n                id: 'rate',\r\n                label: 'Rate',\r\n                emptyState: '--',\r\n                valueFormatter: (value) => value ? getDollarPrefixedPrice(value) : ''\r\n            },\r\n            {\r\n                id: 'updatedAt',\r\n                label: 'Updated On',\r\n                sort: true,\r\n                valueFormatter: (value) => readableDateTime(value)\r\n            },\r\n            {\r\n                id: '',\r\n                label: 'Move',\r\n                visible: !!edit,\r\n                renderer: ({row}) => {\r\n                    return <IconButton\r\n                        component={Link}\r\n                        to={path + '/move/' + row._id}\r\n                        variant=\"outlined\"\r\n                        color=\"primary\"\r\n                    >\r\n                        <ReplayIcon/>\r\n                    </IconButton>\r\n                }\r\n            },\r\n        ]\r\n    }\r\n\r\n    function getLoadStatuses(loadStatuses=[]) {\r\n        return loadStatuses.map(status => {\r\n            if(status.id.equalsIgnoreCase('archived')){\r\n                return {...status, disabled: true}\r\n            }\r\n            return status;\r\n        });\r\n    }\r\n\r\n    const actions = <Stack direction='row'>\r\n        <Input\r\n            value={searchQuery}\r\n            onChange={handleSearch}\r\n            placeholder='Search'\r\n            sx={{\r\n                '& .MuiOutlinedInput-root': {\r\n                    pr: 0\r\n                }\r\n            }}\r\n            autoFocus\r\n            InputProps={{\r\n                endAdornment: searchQuery ? <IconButton onClick={() => handleSearch({value: ''})} sx={{visibility: searchQuery ? 'visible' : 'hidden'}}>\r\n                    <Close fontSize='small' />\r\n                </IconButton> : <IconButton disableRipple><Search /></IconButton>,\r\n            }}\r\n        />\r\n    </Stack>\r\n\r\n    const modalConfig = {\r\n        title: 'Move Load'\r\n    }\r\n\r\n    return <Box sx={{height: 'inherit'}} className='dashboardRoot'>\r\n        <EnhancedTable\r\n            data={loads}\r\n            config={config}\r\n            loading={loading}\r\n            actions={actions}\r\n            onRefetch={refetch}\r\n            isRefetching={isRefetching}\r\n            isPaginationLoading={isPaginationLoading || isSearching}\r\n        />\r\n        <Route\r\n            path={path + '/move/:id'}\r\n            render={(props) => <MoveToMyLoads onCloseUrl={path} refetch={refetch} getLoadStatuses={getLoadStatuses} modalConfig={modalConfig} {...props} />}/>\r\n        <Route exact path={path + '/:id'} component={LoadHistoryDetail} />\r\n    </Box>\r\n}\r\n\r\nexport default LoadHistory;","import {useState} from \"react\";\r\nimport {requestDelete, requestPatch, requestPost, requestPut} from \"../utils/request\";\r\nimport {serialize} from \"../utils/utils\";\r\n\r\nconst getRequestCb = (type) => {\r\n    let fn;\r\n    // eslint-disable-next-line default-case\r\n    switch (type) {\r\n        case 'put' : {\r\n            fn = requestPut\r\n            break;\r\n        }\r\n        case 'delete' : {\r\n            fn = requestDelete\r\n            break;\r\n        }\r\n        case 'patch' : {\r\n            fn = requestPatch\r\n            break;\r\n        }\r\n        default: {\r\n            fn = requestPost;\r\n        }\r\n    }\r\n    return fn;\r\n}\r\n\r\nconst useMutation = (url, callback = null, showTriggers=false, options={}) => {\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const mutation = async (body, type = 'post', afterSubmit) => {\r\n        let uri = url;\r\n        if(options.queryParams){\r\n            uri = uri + \"?\" + serialize(options.queryParams)\r\n        }\r\n        setLoading(true);\r\n        if(!type){\r\n            type = 'post'\r\n        }\r\n        const asyncApiCall = getRequestCb(type.toLowerCase());\r\n        if(asyncApiCall) {\r\n            return asyncApiCall({uri, callback, body, showTriggers})\r\n                .then(res => {\r\n                    if(afterSubmit){\r\n                        afterSubmit({...res})\r\n                    }\r\n                    return res\r\n                })\r\n                .catch(err => {\r\n                    return err;\r\n                })\r\n                .finally(() => {\r\n                    setLoading(false);\r\n                });\r\n        }\r\n    }\r\n\r\n    return { mutation, loading }\r\n}\r\n\r\nexport default useMutation;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {styled, useTheme} from \"@mui/material/styles\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport {useMemo} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useMediaQuery, Zoom} from \"@mui/material\";\r\nimport {addEvent, removeEvent} from \"../../utils/utils\";\r\nimport {ENHANCED_DASHBOARD} from \"../client/routes\";\r\n\r\nconst BootstrapDialog = styled(Dialog)(({theme}) => ({\r\n    \"& .MuiDialogContent-root\": {\r\n        padding: theme.spacing(2),\r\n    },\r\n    \"& .MuiDialogActions-root\": {\r\n        padding: theme.spacing(1),\r\n    },\r\n}));\r\n\r\nconst BootstrapDialogTitle = (props) => {\r\n    const {children, onClose, showClose,titleStyles, ...other} = props;\r\n\r\n    return (\r\n        <DialogTitle sx={{ m: 0, p: 2, textAlign: 'center', ...titleStyles }} {...other}>\r\n            {showClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={onClose}\r\n                    sx={{\r\n                        position: \"absolute\",\r\n                        left: 8,\r\n                        top: 12,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            ) : null}\r\n            {children}\r\n        </DialogTitle>\r\n    );\r\n};\r\n\r\nBootstrapDialogTitle.propTypes = {\r\n    children: PropTypes.node,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default function Modal(props) {\r\n    const {config = {}, children, closeCallback} = props,\r\n        {\r\n            title = \"\",\r\n            closeUrl = \"\",\r\n            showClose = true,\r\n            paperProps = {},\r\n            preventBackdropClick = false,\r\n            titleStyles = {}\r\n        } = config;\r\n    const [open, setOpen] = React.useState(false);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    const handleClose = (e, reason = '') => {\r\n        if (preventBackdropClick && reason.equalsIgnoreCase('backdropClick')) {\r\n            return;\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n\r\n    React.useEffect(() => {\r\n        setOpen(true);\r\n        addEvent(window, 'closeModal', handleClose)\r\n\r\n        return () => removeEvent(window, 'closeModal', handleClose)\r\n    }, []);\r\n\r\n    const Transition = useMemo(() => {\r\n        return React.forwardRef(function Transition(props, ref) {\r\n            const history = useHistory();\r\n            return (\r\n                <Zoom\r\n                    ref={ref}\r\n                    {...props}\r\n                    onExited={() => {\r\n                        return closeCallback ? closeCallback() : closeUrl ? history.push(closeUrl || ENHANCED_DASHBOARD) : history.goBack()\r\n                    }}\r\n                />\r\n            );\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <BootstrapDialog\r\n            onClose={handleClose}\r\n            aria-labelledby={title || \"customized-dialog-title\"}\r\n            open={open}\r\n            maxWidth={'lg'}\r\n            TransitionComponent={Transition}\r\n            PaperProps={paperProps}\r\n            fullScreen={fullScreen}\r\n        >\r\n            {title && <BootstrapDialogTitle\r\n                id={title || \"customized-dialog-title\"}\r\n                onClose={handleClose}\r\n                showClose={showClose}\r\n                titleStyles={titleStyles}\r\n            >\r\n                {title}\r\n            </BootstrapDialogTitle>}\r\n            <DialogContent dividers sx={{borderTop: 'none'}}>{children}</DialogContent>\r\n            {/* <DialogActions>\r\n          <Button autoFocus onClick={onOkHandler}>\r\n            {okButtonText}\r\n          </Button>\r\n        </DialogActions> */}\r\n        </BootstrapDialog>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport MuiDialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport Slide from '@mui/material/Slide';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function Dialog(props) {\r\n    const {open = false, config, onClose, preventBackdropClose = false, className} = props,\r\n        {title, onOk, okText = 'Save', content, onCancel} = config;\r\n\r\n    const handleClose = (e, reason = '') => {\r\n        if (preventBackdropClose && reason.equalsIgnoreCase('backdropclick')) {\r\n            return\r\n        }\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <MuiDialog\r\n                className={className}\r\n                open={open}\r\n                TransitionComponent={Transition}\r\n                onClose={handleClose}\r\n                aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n                {typeof title === 'function' ? title({...config}) :\r\n                    <DialogTitle sx={{fontWeight: 550}}>{title}</DialogTitle>}\r\n                <DialogContent>\r\n                    {typeof content === 'function' ? content({config}) : content}\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    {typeof onCancel === 'function' ? onCancel({config, onClose}): <Button variant='outlined' onClick={handleClose}>Cancel</Button>}\r\n                    {typeof okText === 'function' ? okText({config, onOk}) : <Button variant='contained'\r\n                                                                                     color={okText.equalsIgnoreCase('delete') ? 'error' : 'primary'}\r\n                                                                                     onClick={onOk}\r\n                    >\r\n                        {okText}\r\n                    </Button>}\r\n                </DialogActions>\r\n            </MuiDialog>\r\n        </div>\r\n    );\r\n}","import Pagination from \"@mui/material/Pagination\"\r\nimport Stack from \"@mui/material/Stack\"\r\nimport Typography from \"@mui/material/Typography\"\r\nimport React, {useEffect, useState} from \"react\"\r\nimport styled from \"@mui/material/styles/styled\";\r\nimport {Select} from \"../index\";\r\n\r\nconst StyledPagination = styled(Pagination)(({theme}) => ({\r\n    \"& .MuiPaginationItem-root\": {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            height: \"1.8rem\",\r\n            width: \"1rem\"\r\n        }\r\n    }\r\n}));\r\n\r\nconst StyledStack = styled(Stack)(({theme}) => ({\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n        justifyContent: 'center'\r\n    },\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    flexWrap: 'wrap',\r\n        '& .pageSizeSelect': {\r\n        width: 80\r\n        }\r\n}))\r\n\r\nconst TablePagination = ({data = [], onPageChange, page = 1, count = 0, limit = 1, onLimitChange, isLoading}) => {\r\n    const [length, setLength] = useState(0);\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(data)) {\r\n            setLength(data.length);\r\n        }\r\n    }, [data]);\r\n\r\n    const onChange = (e, pgNum) => {\r\n        if (+page !== +pgNum && typeof onPageChange === 'function') {\r\n            onPageChange(e, +pgNum)\r\n        }\r\n    }\r\n\r\n    const handlePageSize = ({value}) => {\r\n        if(typeof onLimitChange === 'function'){\r\n            onLimitChange({value});\r\n        }\r\n    }\r\n\r\n    if (count <= 5) {\r\n        return null;\r\n    }\r\n    return (\r\n        <StyledStack direction='row' alignItems={'center'}>\r\n            <Typography sx={{color: '#525F7F'}} fontSize={12}>Showing {length} of {count} entries</Typography>\r\n            <Stack direction='row' alignItems='center'>\r\n                <Select\r\n                    disabled={isLoading}\r\n                    name='pageSize'\r\n                    label=''\r\n                    value={limit}\r\n                    options={[\r\n                        {id: 5, label: 5},\r\n                        {id: 10, label: 10},\r\n                        {id: 20, label: 20},\r\n                        {id: 50, label: 50},\r\n                        {id: 100, label: 100},\r\n                    ]}\r\n                    className='pageSizeSelect'\r\n                    onChange={handlePageSize}\r\n                />\r\n                <StyledPagination\r\n                    disabled={isLoading}\r\n                    count={Math.ceil(count / limit)}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    page={page}\r\n                    size=\"medium\"\r\n                    onChange={onChange}\r\n                />\r\n            </Stack>\r\n        </StyledStack>\r\n    )\r\n}\r\n\r\nexport default TablePagination\r\n","import {\r\n    Backdrop,\r\n    Box,\r\n    Checkbox,\r\n    DialogContentText,\r\n    Grid,\r\n    IconButton,\r\n    Paper,\r\n    Stack,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableContainer,\r\n    TableHead,\r\n    TableRow, TableSortLabel, Typography\r\n} from '@mui/material';\r\nimport _ from 'lodash';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport React, {Fragment, memo, useEffect, useMemo, useState} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport TablePagination from './Pagination';\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport {Delete, Refresh} from \"@mui/icons-material\";\r\nimport Dialog from \"../Dialog\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {getUserDetail} from \"../../../utils/utils\";\r\nimport Tooltip from \"../Tooltip\";\r\n\r\nconst Cell = styled(TableCell)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 12,\r\n        padding: '0 8px',\r\n    }\r\n}))\r\nconst DeleteIcon = styled(Delete)(({theme}) => ({\r\n    [theme.breakpoints.down('xs')]: {\r\n        fontSize: 14,\r\n    }\r\n}))\r\n\r\nfunction Headers({columns = [], config = {}, role, handleRequestSort, hasSort}) {\r\n    const {headerCellSx = {}, hasDelete, sortField, sortOrder, showCheckbox} = config;\r\n    const headers = useMemo(() => {\r\n        return columns.map((column, index) => {\r\n            const {label = '', id = '', visible = true, sort = false} = column || {};\r\n            // eslint-disable-next-line array-callback-return\r\n            const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n            if (!isVisible) {\r\n                return null;\r\n            }\r\n            return (\r\n                <Cell padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}\r\n                      key={id || index}>\r\n                    {(hasSort && sort)\r\n                        ? <TableSortLabel onClick={(e) => handleRequestSort(e, id)} active={id === sortField}\r\n                                     direction={sortOrder}\r\n                                     sx={{ ...headerCellSx}}>\r\n                        {label}\r\n                    </TableSortLabel>\r\n                        : label}\r\n                </Cell>\r\n            )\r\n        })\r\n    }, [columns, headerCellSx])\r\n\r\n    if(showCheckbox){\r\n        headers.unshift(<Cell key='checkbox-header' padding={'normal'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}} />)\r\n    }\r\n    return <TableRow>\r\n        {headers}\r\n        {hasDelete && <Cell padding={'none'} sx={{color: '#000', bgcolor: '#fafafa', fontWeight: 800, ...headerCellSx}}/>}\r\n    </TableRow>;\r\n}\r\n\r\nconst getTableCell = ({\r\n                          row = [],\r\n                          columns = {},\r\n                          config = {},\r\n                          handleRowClick,\r\n                          rowIndex,\r\n                          handleDelete,\r\n                          hasDeletePermission,\r\n                          checkboxKey,\r\n                          ...rest\r\n                      }) => {\r\n    const {\r\n        hasDelete = false,\r\n        rowCellPadding = 'none',\r\n        onRowClick = undefined,\r\n        rowStyleCb,\r\n        showCheckbox = false\r\n    } = config;\r\n    const {role, onCheckboxChange, checkboxes} = rest;\r\n    let rowStyle = {}\r\n    if (rowStyleCb) {\r\n        rowStyle = rowStyleCb({row}) || {};\r\n    }\r\n    const rowClickHandler = (e) => {\r\n            e.preventDefault();\r\n            if (_.isFunction(handleRowClick)) handleRowClick(row)\r\n        },\r\n        deleteCell = <Cell sx={{}} padding={'none'} component=\"th\" scope=\"row\">\r\n            <Tooltip title='Delete' placement='top'>\r\n                <IconButton onClick={handleDelete.bind(this, row._id, row)} disabled={!hasDeletePermission}>\r\n                    <DeleteIcon color={hasDeletePermission ? 'error' : 'disabled'}/>\r\n                </IconButton>\r\n            </Tooltip>\r\n        </Cell>;\r\n\r\n    const cell = columns.map((column, i) => {\r\n        const {id = '', renderer, emptyState = '--', valueFormatter, visible = true, cellPadding} = column || {};\r\n        const isVisible = _.isFunction(visible) ? visible({column, role}) : visible;\r\n        if (!isVisible) {\r\n            return null;\r\n        }\r\n        let cell;\r\n        if (valueFormatter && _.isFunction(valueFormatter)) {\r\n            cell = valueFormatter(row[id], row);\r\n        } else if (_.isFunction(renderer)) {\r\n            cell = renderer({row, role}, rowIndex) || emptyState;\r\n        } else {\r\n            cell = _.get(row, id, emptyState) || emptyState;\r\n        }\r\n        return <Cell key={id + i} padding={cellPadding || rowCellPadding || 'normal'} component=\"th\" scope=\"row\">\r\n            {cell}\r\n        </Cell>\r\n    });\r\n\r\n    if(showCheckbox){\r\n        if(!checkboxKey){\r\n            throw new Error('Checkbox key not provided');\r\n        }\r\n        const checked = checkboxes.indexOf(row[checkboxKey]) > -1;\r\n        cell.unshift(<Cell onClick={onCheckboxChange.bind(this, row)} key={`checkbox-${rowIndex}`}>\r\n            <Checkbox checked={checked} />\r\n        </Cell>)\r\n    }\r\n\r\n    return <TableRow key={rowIndex} hover={!!onRowClick} onClick={rowClickHandler}\r\n                     sx={!!onRowClick ? {cursor: 'pointer', ...rowStyle} : {...rowStyle}}>\r\n        {cell}\r\n        {hasDelete && deleteCell}\r\n    </TableRow>;\r\n}\r\n\r\nconst TableData = ({columns, data = [], config = {}, handleRowClick, handleDelete, ...rest}) => {\r\n\r\n    return (data || []).map((row, index) => {\r\n        const {dataKey = ''} = config;\r\n        if (dataKey) {\r\n            row = row[dataKey];\r\n        }\r\n        return getTableCell({row, columns, config, handleRowClick, rowIndex: index, handleDelete, ...rest})\r\n    })\r\n}\r\n\r\n\r\nconst EnhancedTable = ({config = {}, data = [], history, loading = false, onRefetch, isRefetching, actions, isPaginationLoading=false, ...rest}) => {\r\n    data = data || [];\r\n    const {onCheckboxChange, checkboxes, checkboxKey} = rest;\r\n    const [tableState, setTableState] = useState({}),\r\n        [dialog, setDialog] = useState({open: false, config: {}}),\r\n        {\r\n            columns: _columns = [],\r\n            columnsBuilder,\r\n            onRowClick,\r\n            hasOnClickUrl = true,\r\n            onPageChange,\r\n            page,\r\n            count,\r\n            limit,\r\n            onPageSizeChange,\r\n            onLimitChange,\r\n            size = 'medium',\r\n            emptyMessage = '',\r\n            onRowClickDataCallback,\r\n            showRefresh = false,\r\n            onDelete,\r\n            deleteMessage,\r\n            deletePermissions = [],\r\n            containerHeight='',\r\n            sortField,\r\n            sortOrder = 'asc',\r\n            handleSortChange,\r\n            hasSort = false\r\n        } = config,\r\n        {role = ''} = getUserDetail().user,\r\n        hasDeletePermission = typeof deletePermissions === 'boolean' ? deletePermissions : deletePermissions.indexOf(role) > -1 || false,\r\n        ref = React.useRef([]);\r\n    const columns = typeof columnsBuilder === 'function' ? columnsBuilder({data, columns: _columns}) : _columns;\r\n    const length = Array.isArray(data) && data.length,\r\n        Actions = useMemo(() => {\r\n        if(actions && React.isValidElement(actions)){\r\n            return actions;\r\n        }\r\n        return <></>\r\n    }, [actions]);\r\n\r\n    const handleRowClick = (row) => {\r\n        if (hasOnClickUrl && onRowClick) {\r\n            const url = onRowClick(row);\r\n            if (onRowClickDataCallback) {\r\n                row = onRowClickDataCallback(row)\r\n            }\r\n            history.push(url, row);\r\n        } else if (onRowClick) {\r\n            onRowClick(row)\r\n        }\r\n    }\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = sortField === property && sortOrder === 'asc';\r\n        // setOrder(isAsc ? 'desc' : 'asc');\r\n        // setOrderBy(property);\r\n        handleSortChange && handleSortChange({field: property, order: isAsc ? 'desc' : 'asc'})\r\n    };\r\n\r\n    const handleDelete = (id, row, e) => {\r\n        e.stopPropagation();\r\n        const config = {\r\n            title: () => <Grid container alignItems='center' sx={{p: '16px 24px'}} gap={1}>\r\n                <ErrorOutlineIcon color='error'/>\r\n                <Typography sx={{fontSize: '1.25rem', fontWeight: 550}} color='error'>Delete</Typography>\r\n            </Grid>,\r\n            okText: 'Delete',\r\n            onOk: () => onDelete(id, onDialogClose, {row}),\r\n            content: () => <DialogContentText\r\n                sx={{color: '#000'}}>{_.isFunction(deleteMessage) ? deleteMessage({row}) : deleteMessage || 'Are you sure you want to delete the record?'}</DialogContentText>\r\n        }\r\n        setDialog({...dialog, open: true, config});\r\n    }\r\n\r\n    function onDialogClose() {\r\n        setDialog({...dialog, open: false})\r\n    }\r\n\r\n    const getLoader = () => {\r\n        const innerHeight = window.innerHeight - 180,\r\n            height = (tableState.height ? tableState.height > innerHeight ? innerHeight : tableState.height : innerHeight) || innerHeight;\r\n        return <Grid container alignItems={'center'} justifyContent='center' sx={{height}}>\r\n            <Grid item alignItems='center' sx={{position: 'relative'}}>\r\n                <Spinner/>\r\n            </Grid>\r\n        </Grid>\r\n    }\r\n    const getTableContent = useMemo(() => {\r\n        if (!length) {\r\n            return (<tbody style={{height: 300}}>\r\n            <tr>\r\n                <td style={{textAlign: 'center'}}><h4>{emptyMessage || 'No records found'}</h4></td>\r\n            </tr>\r\n            </tbody>)\r\n        }\r\n        return <Fragment>\r\n            <TableHead className={''} sx={{backgroundColor: '#fafafa', borderTop: '1px solid rgba(224, 224, 224, 1)'}}>\r\n                <Headers columns={columns} config={config} role={role} handleRequestSort={handleRequestSort} hasSort={hasSort}/>\r\n            </TableHead>\r\n            <TableBody>\r\n                <TableData\r\n                    role={role}\r\n                    columns={columns}\r\n                    data={data}\r\n                    config={config}\r\n                    checkboxes={checkboxes}\r\n                    checkboxKey={checkboxKey}\r\n                    handleRowClick={handleRowClick}\r\n                    handleDelete={handleDelete}\r\n                    onCheckboxChange={onCheckboxChange}\r\n                    hasDeletePermission={hasDeletePermission}\r\n                />\r\n            </TableBody>\r\n        </Fragment>\r\n    }, [data, config, checkboxes])\r\n\r\n    useEffect(() => {\r\n        if (ref?.current?.table) {\r\n            const calculatedHeight = ref.current.table.offsetHeight;\r\n            setTableState({...tableState, height: calculatedHeight > 200 ? calculatedHeight : undefined})\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if((isPaginationLoading || isRefetching) && ref.current?.tableContainer){\r\n            ref.current.tableContainer.scrollTo(0, 0)\r\n        }\r\n    }, [isPaginationLoading, isRefetching])\r\n\r\n    return <Box className='enhanced-table' sx={{height: length && !loading ? (containerHeight || '95%') : 'auto'}}>\r\n        <Stack alignItems='flex-end' justifyContent='flex-end' direction='row' py={1} gap={.5}>\r\n            {Actions}\r\n            {showRefresh && <IconButton title='Refresh' onClick={onRefetch}>\r\n                <Refresh className={(isRefetching) ? 'rotateIcon' : undefined}/>\r\n            </IconButton>}\r\n        </Stack>\r\n        <TableContainer\r\n            component={Paper}\r\n            className='tableContainer'\r\n            ref={el => ref.current['tableContainer'] = el}\r\n            sx={{boxShadow: '0px 0px 32px #8898AA26', mb: 2, height: length && !loading ? 'calc(100% - 80px)' : 'auto', position: 'relative'}}\r\n        >\r\n            {loading\r\n                ? getLoader()\r\n                : <Table ref={el => ref.current['table'] = el} aria-label=\"caption table\" size={size} stickyHeader>\r\n                    {getTableContent}\r\n                </Table>}\r\n            <Backdrop\r\n                sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1, position: 'absolute' }}\r\n                open={isPaginationLoading || isRefetching || false}\r\n            >\r\n                <Spinner sx={{color: 'inherit'}} />\r\n            </Backdrop>\r\n        </TableContainer>\r\n        {!loading && data.length > 0 &&\r\n            <TablePagination data={data} onPageChange={onPageChange} page={page} count={count} limit={limit} onLimitChange={onLimitChange || onPageSizeChange} isLoading={isRefetching || isPaginationLoading} />}\r\n        <Dialog className='enhancedTable_dialog' open={dialog.open} config={dialog.config} onClose={onDialogClose}/>\r\n    </Box>;\r\n};\r\n\r\nexport default withRouter(memo(EnhancedTable));\r\n","import {useEffect, useState} from \"react\";\r\nimport {requestGet} from \"../utils/request\";\r\nimport {serialize} from \"../utils/utils\";\r\n\r\nconst useFetch = (url, callback = null, options = {}) => {\r\n    const [data, setData] = useState(undefined);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null),\r\n        [isRefetching, setIsRefetching] = useState(false);\r\n\r\n    function requestCall() {\r\n        let uri = url\r\n        if (options.queryParams) {\r\n            uri = `${uri}?${serialize(options.queryParams)}`\r\n        }\r\n        requestGet({uri, callback, showTriggers: false})\r\n            .then(result => {\r\n                result.data && setData(result.data);\r\n            })\r\n            .finally(() => {\r\n                setLoading(false);\r\n                setIsRefetching(false);\r\n            })\r\n    }\r\n\r\n    function onRefetch() {\r\n        setIsRefetching(true);\r\n        requestCall();\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        setError(null);\r\n        requestCall();\r\n    }, [url])\r\n\r\n    return {data, loading, error, refetch: onRefetch, isRefetching}\r\n}\r\n\r\nexport default useFetch;","import React from \"react\";\r\nimport _ from 'lodash';\r\nimport {FormGroup, Input} from \"reactstrap\";\r\nimport {Typography} from \"@mui/material\";\r\n\r\nconst InputPure = (props) => {\r\n    const {\r\n        label = '',\r\n        type = 'text',\r\n        options = [],\r\n        labelKey = 'label',\r\n        valueKey = 'id',\r\n        onChangeSelect,\r\n        showFirstBlank = false,\r\n        onBlur\r\n    } = props;\r\n    props = _.cloneDeep(props);\r\n    delete props.showFirstBlank;\r\n\r\n    if (type.toLowerCase() === 'select') {\r\n        if (!Array.isArray(options) || !options.length) {\r\n            console.error('Options are mandatory in array format');\r\n        }\r\n        const opts = (options || []).map((opt) => {\r\n            return <option value={opt[valueKey]} key={opt[valueKey]}>{opt[labelKey]}</option>\r\n        })\r\n        if (showFirstBlank) opts.unshift(<option value=''>{'Select an option'}</option>)\r\n        return <Input\r\n            {...props}\r\n            onChange={onChangeSelect}\r\n            id={label}\r\n            type={type}\r\n        >{opts}</Input>\r\n    }\r\n    return <Input\r\n        id={label}\r\n        type={type}\r\n        {...props}\r\n        onBlur={onBlur}\r\n    />\r\n}\r\nconst InputField = (props = {}) => {\r\n    const {\r\n        label = '',\r\n        type = 'text',\r\n        multiple = false,\r\n        onChange,\r\n        labelStyle = {},\r\n        direction = 'column',\r\n        formGrpStyle = {},\r\n        errorText = '',\r\n        onBlur\r\n    } = props;\r\n\r\n    const onChangeSelect = (e) => {\r\n        if (type.toLowerCase() === 'select' && multiple) {\r\n            const {options, name} = e.target;\r\n            const values = [];\r\n            for (let i = 0, l = options.length; i < l; i++) {\r\n                if (options[i].selected) {\r\n                    values.push(options[i].value);\r\n                }\r\n            }\r\n            if (onChange) onChange(e, values, name)\r\n        } else if (onChange) onChange(e)\r\n    }\r\n\r\n    const handleBlur = (e) => {\r\n        if (onBlur) {\r\n            onBlur(e.target.name, e.target.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FormGroup\r\n            style={direction === 'row' ? {display: 'flex', alignItems: 'center', ...formGrpStyle} : {...formGrpStyle}}>\r\n            {label && <label\r\n                className=\"form-control-label\"\r\n                htmlFor={label}\r\n                style={{color: '#525F7F', marginRight: 8, ...labelStyle}}\r\n            >\r\n                {label}\r\n            </label>}\r\n            <InputPure {...props} onChangeSelect={onChangeSelect} onBlur={handleBlur}/>\r\n            {errorText &&\r\n                <Typography variant='subtitle2' sx={{color: 'red', fontSize: '0.75em'}}>{errorText}</Typography>}\r\n        </FormGroup>\r\n    )\r\n}\r\n\r\nexport default InputField;","import axios from \"axios\";\r\nimport { notification, setAlert } from \"./alert\";\r\nimport {\r\n  GET_LOADS,\r\n  GET_LOAD,\r\n  LOAD_ERROR,\r\n  ADD_LOAD,\r\n  PATCH_PICKUP,\r\n  PICKUP_ERROR,\r\n  PATCH_DROP,\r\n  DROP_ERROR,\r\n  DELETE_LOAD,\r\n  DELETE_LOAD_ERROR,\r\n  UPDATE_LOAD,\r\n  UPDATE_LOAD_ERROR,\r\n  LOAD_DOC_DELETE,\r\n  LOAD_DOC_UPLOAD,\r\n  RETURNED_SEARCHED_LOADS,\r\n  RESET_SEARCHED_LOADS,\r\n  INVOICE_CREATED,\r\n  SELECT_LOAD,\r\n  INVOICE_LOAD_FETCHED,\r\n  MERGE_LOAD_DOCS,\r\n  RESET_INVOICE_GENERATED, LOADS_FETCHING,\r\n} from \"./types\";\r\nimport {requestDelete, requestGet, requestPatch, requestPost} from \"../utils/request\";\r\n\r\n// import { proxy } from \"../../package.json\";\r\n\r\nexport const SERVER_ADDRESS = \"https://api.freightdok.io\";\r\n// Get current users loads\r\nexport const getLoads = (page = 0, limit = 100, module = \"\", search='') => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: LOADS_FETCHING,\r\n    payload: { isLoadsFetching: true },\r\n  });\r\n      try {\r\n        const { success, data } = await requestGet({\r\n          uri: `/api/load/me?page=${page + 1}&limit=${limit}&module=${module}&search=${search}`\r\n        });\r\n        dispatch({\r\n          type: LOADS_FETCHING,\r\n          payload: { isLoadsFetching: false },\r\n        });\r\n        if (success) {\r\n          dispatch({\r\n            type: GET_LOADS,\r\n            payload: { loads: data, page, limit, loading: false },\r\n          });\r\n        } else {\r\n          notification(data.message, 'error');\r\n        }\r\n      } catch (err) {\r\n        dispatch(setAlert(err.message, \"error\"));\r\n      }\r\n    };\r\nexport const deleteLoadDocument =\r\n  (load_id, doc_type, doc_name) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/remove/doc/${load_id}/${doc_type}/${doc_name}`;\r\n      await axios.delete(url);\r\n      dispatch({\r\n        type: LOAD_DOC_DELETE,\r\n        payload: { load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const uploadLoadDocument =\r\n  (load_id, doc_type, documents) => async (dispatch) => {\r\n    try {\r\n      const url = `/api/load/upload/load/${load_id}/${doc_type}`;\r\n      const form = new FormData();\r\n      for (let doc of documents) form.append(doc_type, doc);\r\n      const response = await axios.patch(url, form);\r\n      const { file_data } = response.data;\r\n      dispatch({\r\n        type: LOAD_DOC_UPLOAD,\r\n        payload: { file_data, load_id, doc_type },\r\n      });\r\n    } catch (err) {\r\n      dispatch(setAlert(err.message, \"error\"));\r\n    }\r\n  };\r\n\r\nexport const generateInvoice = (load_id, data) => async (dispatch) => {\r\n  try {\r\n    await axios.post(\"/api/invoice\", {\r\n      load_id,\r\n      ...data,\r\n    });\r\n    dispatch({\r\n      type: INVOICE_CREATED,\r\n      payload: { load_id },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const searchLoads = (page = 0, limit = 15, search = \"\", module = \"\") => async (dispatch) => {\r\n  try {\r\n    const url = `/api/load/me?page=${page + 1\r\n      }&limit=15&search=${search}&module=${module}`;\r\n    const res = await axios.get(url);\r\n    dispatch({\r\n      type: RETURNED_SEARCHED_LOADS,\r\n      payload: { data: res.data, page, limit, search },\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetLoadsSearch =\r\n  (listBarType = \"\") =>\r\n    async (dispatch, getState) => {\r\n      dispatch({ type: RESET_SEARCHED_LOADS });\r\n      const {\r\n        load: { page, rowsPerPage },\r\n      } = getState();\r\n      // dispatch(getLoads(+page, +rowsPerPage, listBarType));\r\n    };\r\n\r\nexport const selectLoad = (input = null) => ({\r\n  type: SELECT_LOAD,\r\n  payload: input,\r\n});\r\n\r\n// Get post\r\nexport const getLoad = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/loads/${id}`);\r\n\r\n    dispatch({\r\n      type: GET_LOAD,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addLoad = (formData, callback) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const {data, success} = await requestPost({uri: '/api/load', body: formData})\r\n    if(success){\r\n      dispatch({\r\n        type: ADD_LOAD,\r\n        payload: data,\r\n      });\r\n\r\n      notification(\"Load Created\")\r\n      if (callback) {\r\n        callback(success, data)\r\n      }\r\n    } else {\r\n      notification(data.message, 'error')\r\n    }\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n    console.log(err)\r\n  }\r\n};\r\n\r\nexport const updateLoad = (formData, module = \"\", bucketFiles = {}, callback) => async (dispatch, getState) => {\r\n  try {\r\n    const form = new FormData();\r\n    for (let key of Object.keys(formData)) {\r\n      if ([\"rateConfirmation\", \"proofDelivery\"].indexOf(key) < 0) {\r\n        const data = formData[key];\r\n        const isArray = Array.isArray(data);\r\n        const isNull = data === null;\r\n        let dataToSend = isArray && !isNull ? JSON.stringify(data) : data;\r\n        form.append(key, dataToSend);\r\n      }\r\n    }\r\n    form.append('bucketFiles', JSON.stringify(bucketFiles))\r\n    for (let key of [\"rateConfirmation\", \"proofDelivery\", \"accessorialsFiles\"]) {\r\n      const files = formData[key];\r\n      if (files) for (let file of files) form.append(key, file);\r\n    }\r\n\r\n    const { success, data } = await requestPatch({ uri: \"/api/load/modify\", body: form })\r\n    if (success) {\r\n      notification('Load Updated')\r\n      const {\r\n        load: {\r\n          rowsPerPage, page\r\n        },\r\n      } = getState();\r\n      dispatch(getLoads(page, rowsPerPage, module));\r\n    }\r\n    callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, \"error\");\r\n  }\r\n};\r\n\r\nexport const downloadDocuments = (file_name) => {\r\n  axios({\r\n    url: \"/api/load/download/\" + file_name,\r\n    method: \"GET\",\r\n    responseType: \"blob\",\r\n  }).then((res) => {\r\n    const parts = res.config.url.split(\"/\");\r\n    const name = parts[parts.length - 1];\r\n    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.setAttribute(\"download\", name);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  });\r\n};\r\n\r\n//add pickup\r\n\r\n//patch pickup\r\nexport const patchPickup = (load_id, pickup) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(\r\n      `/api/load/pickup?load_id=${load_id}`,\r\n      pickup\r\n    );\r\n    dispatch({\r\n      type: PATCH_PICKUP,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n//patch drop\r\nexport const patchDrop = (load_id, drop) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.patch(`/api/load/drop?load_id=${load_id}`, drop);\r\n    dispatch({\r\n      type: PATCH_DROP,\r\n      payload: res.date,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\n// Delete a load\r\nexport const deleteLoad = (load_id, callback) => async (dispatch) => {\r\n  try {\r\n    const { success, data } = await requestDelete({ uri: '/api/load', body: { data: { load_id: load_id } } })\r\n    notification(data.message, success ? 'success' : 'error');\r\n    if (success) {\r\n      dispatch({\r\n        type: DELETE_LOAD,\r\n        payload: load_id,\r\n      });\r\n    }\r\n    callback && callback(success, data)\r\n  } catch (err) {\r\n    notification(err.message, 'error')\r\n  }\r\n};\r\n\r\nexport const mergeDocuments = (data, headers) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api/load/invoice/merge_docs`, data, headers);\r\n    console.log(\"Response :\", res);\r\n    dispatch({\r\n      type: MERGE_LOAD_DOCS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n\r\nexport const resetInvoiceGenerated = () => async (dispatch) => {\r\n  try {\r\n    dispatch({\r\n      type: RESET_INVOICE_GENERATED,\r\n      payload: null,\r\n    });\r\n  } catch (err) {\r\n    dispatch(setAlert(err.message, \"error\"));\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport {notification, setAlert} from \"./alert\";\r\nimport { GET_DRIVERS, GET_DRIVER, ADD_DRIVER, PATCH_DRIVER, DELETE_DRIVER, DRIVER_ERROR, DELETE_DRIVER_LOAD } from \"./types.js\";\r\n\r\n//get current users drivers\r\nexport const getDrivers = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/drivers/me\");\r\n    Object.assign(res.data, {timestamp: new Date()})\r\n    dispatch({\r\n      type: GET_DRIVERS,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err?.response?.statusText, status: err?.response?.status },\r\n    });\r\n  }\r\n};\r\n\r\n//add load\r\nexport const addDriver = (formData, isEdit) => async (dispatch) => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    const res = await axios.post(\"/api/drivers\", formData, config);\r\n\r\n    notification(res.data.message);\r\n    dispatch(getDrivers());\r\n\r\n  } catch (err) {\r\n    let error = err.errors && Array.isArray(err.errors) && err.errors.length ? err.errors[0].msg : err.message;\r\n    dispatch(setAlert( error, \"error\"));\r\n    // dispatch({\r\n    //   type: DRIVER_ERROR,\r\n    //   payload: { msg: err.response.statusText, status: err.response.status },\r\n    // });\r\n  }\r\n};\r\n\r\n//patch driver\r\nexport const patchDriverLoads = (driver_id, loads) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.patch(`/api/drivers/loads?driver_id=${driver_id}`, { loads: loads });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: PATCH_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver\r\nexport const deleteDriver = (driver_id, cb) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/`, { data: { driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers.splice(index, 1);\r\n    }\r\n    notification('Deleted Successfully')\r\n    cb && cb(res);\r\n    dispatch({\r\n      type: DELETE_DRIVER,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n\r\n//delete driver load\r\nexport const deleteDriverLoads = (driver_id, load_id) => async (dispatch, getState) => {\r\n  try {\r\n    let drivers = getState().driver.drivers;\r\n    const res = await axios.delete(`/api/drivers/loads`, { data: { load_id: load_id, driver_id: driver_id } });\r\n    let index = drivers.indexOf(drivers.find((o) => o._id === res.data._id));\r\n    if (index !== -1) {\r\n      drivers[index] = res.data;\r\n    }\r\n    dispatch({\r\n      type: DELETE_DRIVER_LOAD,\r\n      payload: drivers,\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: DRIVER_ERROR,\r\n      payload: { msg: err.response.statusText, status: err.response.status },\r\n    });\r\n  }\r\n};\r\n","import React, {useState, useEffect, useCallback, useRef} from 'react';\r\nimport _ from 'lodash'\r\nimport {requestGet} from \"../utils/request\";\r\n\r\nconst useFetchWithSearchPagination = (url, options) => {\r\n    const {order = 'asc', orderBy, debounceTime = 500 } = options || {};\r\n    const [data, setData] = useState([]),\r\n        [loading, setLoading] = useState(false),\r\n        [page, setPage] = useState(1),\r\n        [limit, setLimit] = useState(100),\r\n        [searchQuery, setSearchQuery] = useState(''),\r\n        [isPaginationLoading, setIsPaginationLoading] = useState(false),\r\n        [isSearching, setIsSearching] = useState(false),\r\n        [isRefetching, setIsRefetching] = useState(false),\r\n        [sortField, setSortField] = useState(orderBy),\r\n        [sortOrder, setSortOrder] = useState(order),\r\n        isInitialLoad = useRef(true);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [url, page, limit, sortField, sortOrder]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const debouncedSearch = _.debounce(() => {\r\n            if (!isInitialLoad.current) {\r\n                setIsSearching(true);\r\n                fetchData();\r\n            }\r\n        }, debounceTime);\r\n\r\n        debouncedSearch();\r\n\r\n        return debouncedSearch.cancel;\r\n    }, [searchQuery, debounceTime]);\r\n\r\n    const fetchData = useCallback(async () => {\r\n        requestGet({uri: `${url}?page=${page}&search=${searchQuery}&limit=${limit}&sortField=${sortField}&sortOrder=${sortOrder}`})\r\n            .then(res => {\r\n                const {data} = res;\r\n                setData(data);\r\n            })\r\n            .catch(e => {\r\n                console.error(e.message);\r\n            })\r\n            .finally(() => {\r\n                setLoading(false);\r\n                setIsPaginationLoading(false);\r\n                setIsSearching(false);\r\n                setIsRefetching(false);\r\n                if (isInitialLoad.current) {\r\n                    isInitialLoad.current = false;\r\n                }\r\n            })\r\n    }, [url, page, limit, searchQuery, sortField, sortOrder]);\r\n\r\n    const onPageChange = useCallback((e, pgNum) => {\r\n        setIsPaginationLoading(true);\r\n        setPage(pgNum);\r\n    }, [])\r\n\r\n    const handleSearch = useCallback(({value}) => {\r\n        setSearchQuery(value);\r\n        setPage(1);\r\n    }, []);\r\n\r\n    const onLimitChange = useCallback(({value}) => {\r\n        setIsPaginationLoading(true);\r\n        setPage(1);\r\n        setLimit(value);\r\n    }, [])\r\n\r\n    const handleSortChange = useCallback(({ field, order }) => {\r\n        setSortField(field);\r\n        setSortOrder(order);\r\n        setIsPaginationLoading(true);\r\n        setPage(1);\r\n    }, []);\r\n\r\n    const refetch = () => {\r\n        setPage(1);\r\n        setIsRefetching(true);\r\n        fetchData();\r\n    };\r\n\r\n    return {\r\n        data,\r\n        loading,\r\n        page,\r\n        limit,\r\n        onPageChange,\r\n        handleSearch,\r\n        refetch,\r\n        onLimitChange,\r\n        searchQuery,\r\n        isPaginationLoading,\r\n        isSearching,\r\n        isRefetching,\r\n        sortField,\r\n        sortOrder,\r\n        handleSortChange,\r\n    };\r\n};\r\n\r\nexport default useFetchWithSearchPagination","\r\nexport function capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nexport const changeObjectKey = (obj, old_key, new_key) => {\r\n    if (old_key !== new_key) {\r\n        Object.defineProperty(obj, new_key,\r\n            Object.getOwnPropertyDescriptor(obj, old_key));\r\n        delete obj[old_key];\r\n    }\r\n    return obj;\r\n}","import {Button, Grid, Paper, Stack, Typography} from \"@mui/material\";\r\nimport React, {Fragment, useState} from \"react\";\r\nimport {getCheckStatusIcon} from \"../../../utils/utils\";\r\nimport Modal from \"../../Atoms/Modal\";\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {PRIMARY_BLUE} from \"../../layout/ui/Theme\";\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport {Alert} from \"../../Atoms\";\r\n\r\nconst FileContainer = styled(Paper)(({}) => ({\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 5,\r\n    overflow: 'hidden',\r\n    padding: 8,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center'\r\n}))\r\n\r\nconst FileViewer = ({files = [], onClose, onRemoveAll}) => {\r\n    // console.log(files)\r\n    const config={\r\n        title: 'Edit File'\r\n    }\r\n    const Files = (files || []).map(file => {\r\n        return <FileContainer elevation={3}>\r\n            <DescriptionIcon sx={{color: PRIMARY_BLUE}} />\r\n            <Typography variant='subtitle2' align='center' sx={{width: 'inherit', overflow: 'hidden', textOverflow: 'ellipsis'}}>{file.name}</Typography>\r\n        </FileContainer>\r\n    })\r\n\r\n    return <Modal config={config} closeCallback={onClose}>\r\n        <Grid container spacing={2} sx={{display: 'grid'}}>\r\n            <Grid item>\r\n                <Alert config={{open: true, message: 'Previous files, if exist will be overwritten with new files.', severity: 'info'}} />\r\n            </Grid>\r\n            {files && <Grid item>\r\n                <Button variant='outlined' sx={{float: 'right'}} onClick={onRemoveAll} color='error'>Remove All</Button>\r\n            </Grid>}\r\n            <Grid item>\r\n                <Grid container gap={2} sx={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)'}}>\r\n                    {Files}\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    </Modal>\r\n}\r\n\r\nconst LoadDetailsUploadComponent = (props) => {\r\n    const [fileViewConfig, setFileViewConfig] = useState({open: false, config: {}})\r\n    const {\r\n        edit, rateConfirmation = [], proofDelivery = [], accessorialsFiles = [], handleFileChange, rateConfirmationRef,\r\n        proofDeliveryRef, accessorialsRef, state, rateConFile, podFile, formAccessorialsFiles\r\n    } = props;\r\n    // console.log(rateConFile)\r\n    // console.log(accessorialsFiles)\r\n\r\n    function viewClickHandler(file, name, e) {\r\n        e.stopPropagation()\r\n        setFileViewConfig({open: true, config: [...file], name})\r\n    }\r\n\r\n    function onFileViewClose() {\r\n        setFileViewConfig({open: false, config: null});\r\n    }\r\n\r\n    function onRemoveAll() {\r\n        handleFileChange({target: { name: fileViewConfig.name, files: null }})\r\n        onFileViewClose();\r\n    }\r\n\r\n    return (<Stack sx={{alignItems: 'end'}}>\r\n        {fileViewConfig.open && <FileViewer files={fileViewConfig.config} onClose={onFileViewClose} onRemoveAll={onRemoveAll} />}\r\n        <Stack direction={'row'} spacing={2} sx={{mb: 1}}>\r\n            {rateConfirmation.length ? (rateConfirmation.map((roc, idx) => {\r\n                return (<><span style={{margin: 0, padding: 0, marginLeft: '2px'}}>\r\n                          <a href={roc} target=\"_blank\">\r\n                            Rate Con-{idx + 1}\r\n                          </a>\r\n                        </span></>)\r\n            })) : (<span>Rate Con</span>)}\r\n            <span>\r\n                      {edit ? <Fragment>\r\n                              {rateConFile\r\n                                  ? <Button variant=\"outlined\" component=\"span\" size='small' onClick={viewClickHandler.bind(this, rateConFile, 'rateConfirmation')} startIcon={<OpenInNewIcon />}>\r\n                                        View\r\n                                    </Button>\r\n                                  : <label htmlFor=\"contained-button-file1\">\r\n                                  <input\r\n                                      style={{display: 'none'}}\r\n                                      type=\"file\"\r\n                                      multiple\r\n                                      name=\"rateConfirmation\"\r\n                                      disabled={!edit || state.auth.user.role === \"driver\"}\r\n                                      onChange={handleFileChange}\r\n                                      ref={rateConfirmationRef}\r\n                                      id=\"contained-button-file1\"\r\n                                  />\r\n                                  <Button variant=\"outlined\" component=\"span\" size='small'>\r\n                                      {'Attach'}\r\n                                  </Button>\r\n                              </label>}\r\n                      </Fragment>\r\n                          : getCheckStatusIcon(!!rateConfirmation.length)}\r\n                    </span>\r\n        </Stack>\r\n        <Stack direction={'row'} spacing={2} sx={{mb: 1}}>\r\n            {proofDelivery.length ? (proofDelivery.map((pod, idx) => {\r\n                return (<>\r\n                          <span style={{margin: 0, padding: 0, marginLeft: '2px'}}>\r\n                            <a href={pod} target=\"_blank\">\r\n                              POD-{idx + 1}\r\n                            </a>\r\n                          </span>\r\n                </>)\r\n            })) : (<span>POD</span>)}\r\n            <span>\r\n                      {edit ? podFile ? <Button variant=\"outlined\" component=\"span\" size='small' onClick={viewClickHandler.bind(this, podFile, 'proofDelivery')} startIcon={<OpenInNewIcon />}>\r\n                                  View\r\n                              </Button>\r\n                              : <label htmlFor=\"contained-button-file2\">\r\n                                  <input\r\n                                      style={{display: 'none'}}\r\n                                      type=\"file\"\r\n                                      multiple\r\n                                      name=\"proofDelivery\"\r\n                                      disabled={!edit}\r\n                                      onChange={handleFileChange}\r\n                                      ref={proofDeliveryRef}\r\n                                      id=\"contained-button-file2\"\r\n                                  />\r\n                                  <Button variant=\"outlined\" component=\"span\" size='small'>\r\n                                      Attach\r\n                                  </Button>\r\n                              </label>\r\n                          : getCheckStatusIcon(!!proofDelivery.length)}\r\n                    </span>\r\n        </Stack>\r\n        <Stack direction={'row'} spacing={2}>\r\n            {accessorialsFiles.length ? (accessorialsFiles.map((acc, idx) => {\r\n                return (<>\r\n                          <span style={{margin: 0, padding: 0, marginLeft: '2px'}}>\r\n                            <a href={acc} target=\"_blank\">\r\n                              Accessorials-{idx + 1}\r\n                            </a>\r\n                          </span></>)\r\n            })) : (<span>Accessorials</span>)}\r\n            <span>\r\n                      {edit ? formAccessorialsFiles\r\n                          ? <Button variant=\"outlined\" component=\"span\" size='small' onClick={viewClickHandler.bind(this, formAccessorialsFiles, 'accessorialsFiles')} startIcon={<OpenInNewIcon />}>\r\n                              View\r\n                          </Button>\r\n                          : <Fragment>\r\n                          <label htmlFor=\"contained-button-file3\">\r\n                              <input\r\n                                  style={{display: 'none'}}\r\n                                  type=\"file\"\r\n                                  multiple\r\n                                  name=\"accessorialsFiles\"\r\n                                  disabled={!edit || state.auth.user.role === \"driver\"}\r\n                                  onChange={handleFileChange}\r\n                                  ref={accessorialsRef}\r\n                                  id=\"contained-button-file3\"\r\n                              />\r\n                              <Button variant=\"outlined\" component=\"span\" size='small'>\r\n                                  Attach\r\n                              </Button>\r\n                          </label>\r\n                      </Fragment> : getCheckStatusIcon(!!accessorialsFiles?.length)}\r\n                    </span>\r\n        </Stack>\r\n    </Stack>)\r\n}\r\n\r\nexport default LoadDetailsUploadComponent;","import { makeStyles, useTheme, withStyles } from \"@material-ui/core/styles\";\r\nexport const useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // display: \"flex\",\r\n    minWidth: 200,\r\n    maxWidth: 350,\r\n    marginBottom: 10,\r\n    backgroundColor: \"#FFFFFF\",\r\n    borderRadius: 5,\r\n    borderWidth: 1,\r\n    borderStyle: \"solid\",\r\n    borderColor: \"grey\",\r\n    // boxShadow: \"1px 3px 1px #9E9E9E\",\r\n  },\r\n  cardcontent: {\r\n    flexDirection: \"row\",\r\n    wrap: \"wrap\",\r\n    minWidth: 100,\r\n    maxWidth: 150,\r\n    paddingLeft: 20,\r\n    paddingTop: 15,\r\n    paddingBottom: 5,\r\n    \"&:last-child\": {\r\n      paddingBottom: 5,\r\n    },\r\n  },\r\n  pickup: {\r\n    fontSize: 12,\r\n    alignItems: \"center\",\r\n  },\r\n  h4: {\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  loadp: {\r\n    display: \"flex\",\r\n    margin: 0,\r\n    padding: 0,\r\n    paddingLeft: 150,\r\n    alignItems: \"center\",\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 30,\r\n    marginLeft: 0,\r\n  },\r\n  textField: {\r\n    \"& input\": {\r\n      color: \"#000000\",\r\n    },\r\n    \"& input:disabled\": {\r\n      color: \"#000000\",\r\n    },\r\n  },\r\n  textFieldDialog: {\r\n    \"& input\": {\r\n      color: \"#000000\",\r\n    },\r\n    \"& input:disabled\": {\r\n      color: \"#000000\",\r\n    },\r\n  },\r\n  textFieldDialogPickup: {\r\n    \"& input\": {\r\n      color: \"#000000\",\r\n    },\r\n    \"& input:disabled\": {\r\n      color: \"#000000\",\r\n    },\r\n    marginLeft: \"75px\",\r\n  },\r\n  textFieldDialogDrop: {\r\n    \"& input\": {\r\n      color: \"#000000\",\r\n    },\r\n    \"& input:disabled\": {\r\n      color: \"#000000\",\r\n    },\r\n    marginLeft: \"25px\",\r\n  },\r\n  resize: {\r\n    fontSize: 13,\r\n  },\r\n  resizeDialog: {\r\n    fontSize: 14,\r\n  },\r\n\r\n  newLoad: {\r\n    margin: 0,\r\n  },\r\n  paper: {\r\n    position: \"absolute\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(1, 2, 3),\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    width: \"80%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    overflowY: \"auto\",\r\n    maxHeight: '90%',\r\n    outline: 'none'\r\n  },\r\n  rootLoadDetailModal: {\r\n    flexGrow: 1,\r\n    flexDirection: \"row\",\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n","import React, { Fragment, useEffect, useRef, useState } from \"react\";\r\nimport _ from 'lodash'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  Stack,\r\n  Typography,\r\n  Box,\r\n  MenuItem,\r\n  IconButton,\r\n  Select,\r\n  Modal,\r\n  CircularProgress\r\n} from \"@mui/material\";\r\nimport { ArrowForwardIos as ArrowForwardIosIcon, Close as CloseIcon, Edit as EditIcon, Done as DoneIcon } from '@mui/icons-material'\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@mui/material/InputLabel\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport {TimePicker} from '@mui/x-date-pickers/TimePicker';\r\nimport {DateTimePicker} from '@mui/x-date-pickers/DateTimePicker'\r\nimport {LocalizationProvider} from '@mui/x-date-pickers/LocalizationProvider';\r\nimport FilledInput from '@mui/material/FilledInput';\r\nimport OutlinedInput from '@mui/material/OutlinedInput';\r\nimport { green } from \"@mui/material/colors\";\r\nimport { FileCopyOutlined } from \"@mui/icons-material\";\r\nimport {AdapterMoment} from '@mui/x-date-pickers/AdapterMoment';\r\nimport { getDrivers } from \"../../actions/driver\";\r\nimport { changeObjectKey } from \"../../utils/helper\";\r\nimport { addLoad, updateLoad } from \"../../actions/load\";\r\nimport InputField from \"../Atoms/form/InputField\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { blue } from \"../layout/ui/Theme\";\r\nimport LoadDetailsUploadComponent from \"./components/LoadDetailsUploadComponent\";\r\nimport {getRoleNameString} from \"../client/constants\";\r\nimport { useStyles } from \"./styles\";\r\nimport \"./style.css\";\r\n\r\n\r\nconst formInitialState = {\r\n  status: \"\",\r\n  rate: \"\",\r\n  assignedTo: null,\r\n  trailorNumber: \"\",\r\n  rateConfirmation: null,\r\n  proofDelivery: null,\r\n  accessorials: [],\r\n  pickup: [],\r\n  drop: [],\r\n  invoice_created: false,\r\n};\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250,\r\n    },\r\n  },\r\n};\r\nconst DATE_PICKER_SLOT_PROPS = {\r\n  textField: {\r\n    helperText: 'DD/MM/YYYY hh:mm AM/PM',\r\n    size: 'small',\r\n    fullWidth: true\r\n  },\r\n},\r\n    TIME_PICKET_SLOT_PROPS = {\r\n      textField: {\r\n        size: 'small',\r\n        fullWidth: true\r\n      }\r\n    }\r\n\r\nconst TextPlaceHolder = ({ value }) => (value ? value : \"--\");\r\n\r\nconst LoadDetailModal = ({\r\n  modalEdit,\r\n  open,\r\n  handleClose: onModalClose,\r\n  listBarType,\r\n  load, canUpdate\r\n}) => {\r\n  let {\r\n    _id,\r\n    brokerage,\r\n    loadNumber,\r\n    rate,\r\n    trailorNumber,\r\n    pickup,\r\n    drop,\r\n    assignedTo = null,\r\n    user,\r\n    status = \"\",\r\n    accessorials = [],\r\n    invoice_created,\r\n    bucketFiles = [],\r\n  } = load || {};\r\n  const bktFiles = _.cloneDeep(bucketFiles)\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const [edit, setEdit] = React.useState(true);\r\n  const [form, setForm] = React.useState({ ...formInitialState });\r\n  const {data: {data: LoadStatuses = []} = {}} = useFetch('/api/loadStatuses')\r\n  const [isProcessingAsyncRequest, setIsProcessingAsyncRequest] = useState(false);\r\n  const rateConfirmationRef = useRef();\r\n  const proofDeliveryRef = useRef();\r\n  const accessorialsRef = useRef(),\r\n      history = useHistory(),\r\n    SelectElement = edit ? OutlinedInput : FilledInput;\r\n  const {assignees = [] } = state.driver || {};\r\n  const assignedToOptions = assignees.map((item) => {\r\n    const { _id, firstName, lastName, role, user = {} } = item || {},\r\n        {name = '', role: assigneeRole, _id: assigneeId} = user || {};\r\n    return {\r\n      name, _id: assigneeId || _id, firstName, lastName, role: getRoleNameString(assigneeRole || role)\r\n    }\r\n  }) || [];\r\n\r\n  useEffect(() => {\r\n    setupDrivers();\r\n    setForm({\r\n      status,\r\n      assignedTo: user?._id,\r\n      accessorials,\r\n      trailorNumber,\r\n      pickup,\r\n      drop,\r\n      rate,\r\n      loadNumber,\r\n      invoice_created,\r\n    });\r\n    resetFileInputs();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const error = state.load.error;\r\n    if (!error.msg) {\r\n      setEdit(false);\r\n      // if(handleClose) handleClose();\r\n    }\r\n  }, [state.load.error]);\r\n  useEffect(() => {\r\n    if (modalEdit) setEdit(true);\r\n  }, [modalEdit]);\r\n  useEffect(() => {\r\n    if (!state.load.load) {\r\n      // if(handleClose) handleClose();\r\n    }\r\n  }, [state.load.load]);\r\n  const setupDrivers = () => {\r\n    dispatch(getDrivers());\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onModalClose({history});\r\n  }\r\n\r\n  const afterSubmit = (isSuccess) => {\r\n    setIsProcessingAsyncRequest(false);\r\n    if (isSuccess) handleClose();\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (form.status !== \"Empty\") {\r\n      form.invoice_created = false;\r\n    }\r\n    setIsProcessingAsyncRequest(true);\r\n    dispatch(updateLoad({ ...form, _id }, listBarType, bktFiles, afterSubmit));\r\n    // resetFileInputs();\r\n  };\r\n  const handleOnChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setForm({ ...form, [name]: value });\r\n  };\r\n\r\n  const handlePickDropChange = ({ target: { value } }, keyToUpdate, childKey) => {\r\n    if (keyToUpdate === \"pickup\") {\r\n      setForm({ ...form, pickup: [{ ...form.pickup[0], [childKey]: value }] });\r\n    }\r\n    else if (keyToUpdate === \"drop\") {\r\n      setForm({ ...form, drop: [{ ...form.drop[0], [childKey]: value }] });\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setForm({ ...form, assignedTo: user, status, accessorials, pickup, drop });\r\n    setEdit(false);\r\n    resetFileInputs();\r\n  };\r\n  const handleDateChange = (date, key) => {\r\n    setForm({ ...form, [key]: [{ ...form[key][0], [`${key}Date`]: date }] });\r\n  };\r\n  const handleFileChange = ({ target: { name, files } }) => {\r\n    setForm((f) => ({ ...f, [name]: files || null }));\r\n  };\r\n  const resetFileInputs = () => {\r\n    if (rateConfirmationRef.current) rateConfirmationRef.current.value = \"\";\r\n    if (proofDeliveryRef.current) proofDeliveryRef.current.value = \"\";\r\n  };\r\n  const handleInOutTime = (date, parent_key, child_key) => {\r\n    // parent_key: drop || pickup\r\n    // child_key: in_time || out_time\r\n    setForm((form) => ({\r\n      ...form,\r\n      [parent_key]: [{ ...form[parent_key][0], [child_key]: date }],\r\n    }));\r\n  };\r\n  const getRole = () => {\r\n    try {\r\n      const {\r\n        auth: {\r\n          user: { role },\r\n        },\r\n      } = state;\r\n      return role;\r\n    } catch (e) {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  const createCopy = () => {\r\n    let body = { ...load };\r\n    body = changeObjectKey(body, \"pickup\", \"pickUp\");\r\n    body = changeObjectKey(body, \"drop\", \"dropOff\");\r\n    setIsProcessingAsyncRequest(true);\r\n    dispatch(addLoad(body, afterSubmit));\r\n  };\r\n\r\n  if (bucketFiles.length) {\r\n    const alpha = [...bucketFiles];\r\n    bucketFiles = {\r\n      'proofDelivery': [],\r\n      'rateConfirmation': [],\r\n      'accessorialsFiles': []\r\n    };\r\n    alpha.forEach((item = {}, idx) => {\r\n      const { fileType = \"\", fileLocation = \"\" } = item;\r\n      bucketFiles[fileType].push(fileLocation)\r\n\r\n    });\r\n  } else bucketFiles = {};\r\n\r\n  const { rateConfirmation = [], proofDelivery = [], accessorialsFiles = [] } = bucketFiles || {};\r\n\r\n  const StaticDataShow = ({ heading, values = [], spacing = 2, sxObject = {} }) => {\r\n    return <Stack spacing={spacing} sx={{ ...sxObject }} className='staticInfo'>\r\n      <Stack><Typography sx={{ fontWeight: 600, fontSize: 18, textAlign: 'center', pt: 3 }}>{heading}</Typography></Stack>\r\n      {values.map(value => <Stack>\r\n        <TextPlaceHolder value={value} />\r\n      </Stack>)}\r\n    </Stack>\r\n  }\r\n  return (\r\n    <>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"server-modal-title\"\r\n\r\n      >\r\n        <LocalizationProvider dateAdapter={AdapterMoment}>\r\n          <div style={{ width: '90%' }} className={classes.paper}>\r\n          <Stack direction={'row'} justifyContent={'space-between'} sx={{ mb: 2 }}>\r\n            {/*<DeleteIcon*/}\r\n            {/*    onClick={(e) => deleteLoad(_id, e)}*/}\r\n            {/*    style={{ color: \"rgb(220, 0, 78)\", cursor: \"pointer\" }}*/}\r\n            {/*/>*/}\r\n            <IconButton>\r\n              <CloseIcon\r\n                id=\"server-modal-title\"\r\n                onClick={handleClose}\r\n              />\r\n            </IconButton>\r\n          </Stack>\r\n          <form onSubmit={handleSubmit}>\r\n\r\n            <Grid container spacing={2} className={classes.rootLoadDetailModal}>\r\n              <Grid item xs={12}>\r\n                <Grid container className={classes.rootLoadDetailModal} spacing={2} sx={{ pl: 3, pr: 3 }}>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <FormControl sx={{ m: 1 }} size=\"small\" fullWidth>\r\n                      <InputLabel id=\"multiple-name\">Status</InputLabel>\r\n                      <Select\r\n                        id=\"multiple-name\"\r\n                        name=\"status\"\r\n                        value={form.status}\r\n                        onChange={({ target: { value } }) => setForm({ ...form, status: value, })}\r\n                        input={<SelectElement size='small' label=\"\" notched={false} sx={{}} />}\r\n                        MenuProps={MenuProps}\r\n                        disabled={!edit || state.auth.user.role === \"driver\"}\r\n                      >\r\n                        {(LoadStatuses || []).map((name) => (\r\n                          <MenuItem\r\n                            key={name.id}\r\n                            value={name.id}\r\n                          // style={getStyles(name, personName, theme)}\r\n                          >\r\n                            {name.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <FormControl sx={{ m: 1 }} size=\"small\" fullWidth>\r\n                      <InputLabel id=\"multiple-name\">Assigned</InputLabel>\r\n                      <Select\r\n                        id=\"multiple-name\"\r\n                        name=\"assignedTo\"\r\n                        disabled={!edit || state.auth.user.role === \"driver\"}\r\n                        value={form.assignedTo}\r\n                        onChange={({ target: { value } }) => setForm({ ...form, assignedTo: value, })}\r\n                        input={<SelectElement size='small' label=\"\" notched={false} sx={{}} />}\r\n                        MenuProps={MenuProps}\r\n                      >\r\n                        {assignedToOptions.map((assignee) => (\r\n                          <MenuItem\r\n                            key={assignee._id}\r\n                            value={assignee._id}\r\n                          // style={getStyles(name, personName, theme)}\r\n                          >\r\n                            {`${assignee.firstName} ${assignee.lastName} (${assignee.role || '--'})`}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <InputLabel id=\"demo-multiple-name-label\">Accessorials</InputLabel>\r\n                    <FormControl sx={{ m: 0 }} fullWidth>\r\n                      <Select\r\n                        labelId=\"demo-multiple-name-label\"\r\n                        id=\"demo-multiple-name\"\r\n                        multiple\r\n                        value={form.accessorials}\r\n                        onChange={({ target: { value } }) => setForm({ ...form, accessorials: typeof value === 'string' ? value.split(',') : value, })}\r\n                        input={<SelectElement size='small' label=\"\" notched={false} />}\r\n                        MenuProps={MenuProps}\r\n                        disabled={!edit}\r\n                      >\r\n                        {[\r\n                          { id: 'Tonu', label: 'Tonu' },\r\n                          { id: 'Detention', label: 'Detention' },\r\n                          { id: 'Lumper-by-Broker', label: 'Lumper by Broker' },\r\n                          { id: 'Lumper-by-Carrier', label: 'Lumper by Carrier' },\r\n                          { id: 'Layover', label: 'Layover' },\r\n                          { id: 'scale-ticket', label: 'Scale Ticket' },\r\n                        ].map((name) => (\r\n                          <MenuItem\r\n                            key={name.id}\r\n                            value={name.id}\r\n                          // style={getStyles(name, personName, theme)}\r\n                          >\r\n                            {name.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={12} sx={{ m: 2 }}>\r\n                <Divider />\r\n              </Grid>\r\n            </Grid>\r\n            {/********NEW Grid Start***************************************************/}\r\n\r\n            <Grid container>\r\n              <Grid item xs={2} sx={{ display: 'flex' }}>\r\n                <Box sx={{ alignItems: 'end', display: 'flex' }}>\r\n                  {edit ? <Box sx={{ position: 'relative' }}>\r\n                    <IconButton onClick={handleSubmit} disabled={isProcessingAsyncRequest}>\r\n                      <DoneIcon\r\n                        fontSize=\"large\"\r\n                        color={isProcessingAsyncRequest ? \"disabled\" : 'primary'}\r\n                      />\r\n                    </IconButton>\r\n                    {isProcessingAsyncRequest && <CircularProgress\r\n                      size={65}\r\n                      sx={{\r\n                        color: green[500],\r\n                        position: 'absolute',\r\n                        top: -6,\r\n                        left: -6,\r\n                        zIndex: 1,\r\n                      }}\r\n                    />}\r\n                  </Box>\r\n                    : <IconButton onClick={() => setEdit(true)} title='Edit' disabled={isProcessingAsyncRequest || !canUpdate}>\r\n                      <EditIcon\r\n                        fontSize=\"large\"\r\n                        color={isProcessingAsyncRequest ? \"disabled\" : 'primary'}\r\n                      />\r\n                    </IconButton>}\r\n                  {edit ? <IconButton onClick={handleCancel} disabled={isProcessingAsyncRequest}>\r\n                    <CloseIcon\r\n                      fontSize=\"large\"\r\n                      color={isProcessingAsyncRequest ? \"disabled\" : 'primary'}\r\n                    />\r\n                  </IconButton> : <IconButton onClick={createCopy} title='Create Copy' disabled={isProcessingAsyncRequest || !canUpdate}>\r\n                    <FileCopyOutlined\r\n                      fontSize=\"large\"\r\n                      color={isProcessingAsyncRequest ? \"disabled\" : 'primary'}\r\n                    />\r\n                  </IconButton>}\r\n                </Box>\r\n              </Grid>\r\n              <Grid item xs={8}>\r\n                <Grid container>\r\n                  <Grid xs={12} item display={\"flex\"} justifyContent={'center'}>\r\n                    <Stack>\r\n                      <Stack direction={'row'}>\r\n                        {edit ? getRole() &&\r\n                          (getRole() === \"admin\" || getRole() === \"dispatch\") && (\r\n                            <InputField\r\n                              labelStyle={{ fontWeight: 800, fontSize: 18, color: '#03031A' }}\r\n                              id=\"outlined-basic\"\r\n                              name=\"loadNumber\"\r\n                              value={form.loadNumber}\r\n                              onChange={handleOnChange}\r\n                              label={'Load'}\r\n                              direction={'row'}\r\n                            />\r\n                          ) : <Fragment>\r\n                          <Typography sx={{ mr: 1, fontWeight: 600, fontSize: 18 }}>Load</Typography>\r\n                          <Typography item sx={{ fontSize: 18 }}>{loadNumber || '--'}</Typography>\r\n                        </Fragment>}\r\n                      </Stack>\r\n                      <Stack direction='row'>\r\n                        {edit ? getRole() &&\r\n                          (getRole() === \"admin\" || getRole() === \"dispatch\") && (\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              label=\"Rate\"\r\n                              name=\"rate\"\r\n                              value={form.rate}\r\n                              onChange={handleOnChange}\r\n                              direction={'row'}\r\n                              labelStyle={{ fontWeight: 800, fontSize: 18, color: '#03031A' }}\r\n                            />\r\n                          ) : <Fragment>\r\n                          <Typography sx={{ mr: 1, fontWeight: 600, fontSize: 18 }}>Rate</Typography>\r\n                          <Typography item sx={{ fontSize: 18 }}>{rate || '--'}</Typography>\r\n                        </Fragment>}\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Grid container>\r\n                      {/*CENTER PART*/}\r\n                      <Grid item xs={5}>\r\n                        <Stack sx={{ textAlign: 'center' }}>\r\n                          <Stack>\r\n                            {edit && state.auth.user.role !== \"driver\" ? (\r\n                              <Stack>\r\n                                <InputField\r\n                                  id=\"outlined-basic\"\r\n                                  placeholder=\"Shipper Name\"\r\n                                  value={form.pickup[0] ? form.pickup[0].shipperName : \"\"}\r\n                                  onChange={(event) =>\r\n                                    handlePickDropChange(event, \"pickup\", \"shipperName\")\r\n                                  }\r\n                                />\r\n                                <InputField\r\n                                  id=\"outlined-basic\"\r\n                                  variant=\"outlined\"\r\n                                  placeholder=\"Address\"\r\n                                  value={form.pickup[0] ? form.pickup[0].pickupAddress : \"\"}\r\n                                  onChange={(event) =>\r\n                                    handlePickDropChange(event, \"pickup\", \"pickupAddress\")\r\n                                  }\r\n                                />\r\n                                {edit && state.auth.user.role !== \"driver\" && <Fragment>\r\n                                  <InputField\r\n                                    id=\"outlined-basic\"\r\n                                    variant=\"outlined\"\r\n                                    placeholder=\"City\"\r\n                                    value={\r\n                                      form.pickup[0] ? form.pickup[0].pickupCity : \"\"\r\n                                    }\r\n                                    onChange={(event) =>\r\n                                      handlePickDropChange(event, \"pickup\", \"pickupCity\")\r\n                                    }\r\n                                  />\r\n                                  <InputField\r\n                                    id=\"outlined-basic\"\r\n                                    placeholder=\"State\"\r\n                                    value={\r\n                                      form.pickup[0] ? form.pickup[0].pickupState : \"\"\r\n                                    }\r\n                                    onChange={(event) =>\r\n                                      handlePickDropChange(event, \"pickup\", \"pickupState\")\r\n                                    }\r\n                                  />\r\n                                  <InputField\r\n                                    id=\"outlined-basic\"\r\n                                    variant=\"outlined\"\r\n                                    placeholder=\"Zip\"\r\n                                    value={form.pickup[0] ? form.pickup[0].pickupZip : \"\"}\r\n                                    onChange={(event) =>\r\n                                      handlePickDropChange(event, \"pickup\", \"pickupZip\")\r\n                                    }\r\n                                  />\r\n                                </Fragment>}\r\n                              </Stack>\r\n                            ) : <StaticDataShow\r\n                              heading={'Pickup'}\r\n                              values={[\r\n                                pickup && pickup[0] ? pickup[0].shipperName : \"\",\r\n                                form.pickup[0] ? form.pickup[0].pickupAddress : \"\",\r\n                                `${pickup && pickup[0] ? pickup[0].pickupCity : \"\"}, ${pickup && pickup[0] ? pickup[0].pickupState : \"\"}, ${pickup && pickup[0] ? pickup[0].pickupZip : \"\"}`,\r\n                              ]}\r\n                            />}\r\n                          </Stack>\r\n                          <Stack spacing={2}>\r\n                            {edit ? <Grid container spacing={2}>\r\n                              <Grid item xs={12}>\r\n                                <Typography sx={{ fontWeight: 600, fontSize: 18, textAlign: 'center' }}>Pickup Time</Typography>\r\n                              </Grid>\r\n                              <Grid item xs={12}>\r\n                                <LocalizationProvider dateAdapter={AdapterMoment}>\r\n                                  <DateTimePicker\r\n                                      value={moment(form.pickup[0] ? form.pickup[0].pickupDate : \"\") || new Date()}\r\n                                      onChange={(date) => handleDateChange(date.toISOString(), \"pickup\")}\r\n                                      slotProps={DATE_PICKER_SLOT_PROPS}\r\n                                      label='Pickup Date'\r\n                                  />\r\n                                </LocalizationProvider>\r\n                                {/*<LocalizationProvider dateAdapter={AdapterDateFns}>*/}\r\n                                {/*  <DatePicker*/}\r\n                                {/*    value={*/}\r\n                                {/*      form.pickup[0] ? form.pickup[0].pickupDate : \"\"*/}\r\n                                {/*    }*/}\r\n                                {/*    onChange={(date) =>*/}\r\n                                {/*      handleDateChange(date, \"pickup\")*/}\r\n                                {/*    }*/}\r\n                                {/*    renderInput={(params) => <TextField {...params} variant='standard' />}*/}\r\n                                {/*  />*/}\r\n                                {/*</LocalizationProvider>*/}\r\n                              </Grid>\r\n                              {/*<Grid item xs={6}>*/}\r\n                              {/*    <TimePicker*/}\r\n                              {/*      value={moment(form.pickup[0] ? form.pickup[0].pickupDate : \"\")}*/}\r\n                              {/*      onChange={(date) =>*/}\r\n                              {/*        handleDateChange(date, \"pickup\")*/}\r\n                              {/*      }*/}\r\n                              {/*      label='Pickup Time'*/}\r\n                              {/*      slotProps={TIME_PICKET_SLOT_PROPS}*/}\r\n                              {/*    />*/}\r\n                              {/*</Grid>*/}\r\n                              <Grid item xs={6}>\r\n                                {/*<LocalizationProvider dateAdapter={AdapterDateFns}>*/}\r\n                                {/*  <TimePicker*/}\r\n                                {/*    label='In Time'*/}\r\n                                {/*    value={form.pickup[0] ? form.pickup[0].in_time : \"\"}*/}\r\n                                {/*    onChange={(date) =>*/}\r\n                                {/*      handleInOutTime(date, \"pickup\", \"in_time\")*/}\r\n                                {/*    }*/}\r\n                                {/*    renderInput={(params) => <TextField {...params} variant='standard' />}*/}\r\n                                {/*  />*/}\r\n                                {/*</LocalizationProvider>*/}\r\n                                <TimePicker\r\n                                    label='In Time'\r\n                                    value={moment( form.pickup[0] ? form.pickup[0].in_time : \"\")}\r\n                                    onChange={(date) =>\r\n                                        handleInOutTime(date, \"pickup\", \"in_time\")\r\n                                    }\r\n                                    slotProps={TIME_PICKET_SLOT_PROPS}\r\n                                />\r\n                              </Grid>\r\n                              <Grid item xs={6}>\r\n                                  <TimePicker\r\n                                    label='Out Time'\r\n                                    value={moment(form.pickup[0] ? form.pickup[0].out_time : \"\")}\r\n                                    onChange={(date) =>\r\n                                      handleInOutTime(date, \"pickup\", \"out_time\")\r\n                                    }\r\n                                    slotProps={TIME_PICKET_SLOT_PROPS}\r\n                                  />\r\n                              </Grid>\r\n                            </Grid>\r\n                              : <Fragment>\r\n                                <StaticDataShow\r\n                                  spacing={2}\r\n                                  sxObject={{ mt: 2 }}\r\n                                  heading={'Pickup Time'}\r\n                                  values={[\r\n                                    pickup && pickup[0] ? (\r\n                                      moment(pickup[0].pickupDate).format(\"LLL\")\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )\r\n                                  ]}\r\n                                />\r\n                                <Stack direction='row' justifyContent='space-evenly' spacing={2}>\r\n                                  <Stack>\r\n                                    {pickup && pickup[0] && pickup[0].in_time ? (\r\n                                      <Stack sx={{ textAlign: 'left' }}>\r\n                                        <Typography variant='subtitle2' sx={{ color: '#595959' }}>In Time: </Typography>\r\n                                        <Box>{moment(pickup[0].in_time).format(\"h:mm A\")}</Box>\r\n                                      </Stack>\r\n                                    ) : (\r\n                                      \"--\"\r\n                                    )}\r\n                                  </Stack>\r\n                                  <Stack>\r\n                                    {pickup && pickup[0] && pickup[0].out_time ? (\r\n                                      <Stack sx={{ textAlign: 'left' }}>\r\n                                        <Typography variant='subtitle2' sx={{ color: '#595959' }}>Out Time:</Typography>\r\n                                        <Box>{moment(pickup[0].out_time).format(\"h:mm A\")}</Box>\r\n                                      </Stack>\r\n                                    ) : (\r\n                                      \"--\"\r\n                                    )}\r\n                                  </Stack>\r\n                                </Stack>\r\n                              </Fragment>}\r\n                          </Stack>\r\n                          <Stack spacing={2}>\r\n                            <Grid item xs={12} style={{ textAlign: \"left\", width: '100%' }}>\r\n                              <Stack spacing={2} sx={{ mt: 2, mb: 2 }}>\r\n                                <Stack direction='row' alignItems='center' spacing={1}>\r\n                                  <Typography fontWeight={700}>PO#</Typography>\r\n                                  {edit ?\r\n                                    <InputField\r\n                                      value={form && form.pickup[0] ? form.pickup[0].pickupPo : \"\"}\r\n                                      onChange={(e) => handlePickDropChange(e, 'pickup', 'pickupPo')}\r\n                                    />\r\n                                    : <Typography>{pickup && pickup[0] ? pickup[0].pickupPo : \"\"}</Typography>}\r\n                                </Stack>\r\n                                <Stack direction='row' alignItems={'center'} spacing={1}>\r\n                                  <Typography fontWeight={700}>Reference#</Typography>\r\n                                  {edit ?\r\n                                    <InputField\r\n                                      value={pickup && form.pickup[0] ? form.pickup[0].pickupReference : \"\"}\r\n                                      onChange={(e) => handlePickDropChange(e, 'pickup', 'pickupReference')}\r\n                                    />\r\n                                    : <Typography>{pickup && pickup[0] ? pickup[0].pickupReference : \"\"}</Typography>}\r\n                                </Stack>\r\n                                <Stack direction='row' alignItems='center' spacing={1}>\r\n                                  <Typography fontWeight={700}>Delivery#</Typography>\r\n                                  {edit ?\r\n                                    <InputField\r\n                                      value={pickup && form.pickup[0] ? form.pickup[0].pickupDeliverNumber : \"\"}\r\n                                      onChange={(e) => handlePickDropChange(e, 'pickup', 'pickupDeliverNumber')}\r\n                                    />\r\n                                    : <Typography>{pickup && pickup[0] ? pickup[0].pickupDeliverNumber : \"\"}</Typography>}\r\n                                </Stack>\r\n                              </Stack>\r\n\r\n                              {/* <p>PO Ref# {pickup && pickup[0] ? pickup[0].pickupReference : ''}</p> */}\r\n\r\n                              {state.auth.user.role !== \"driver\" &&\r\n                                <InputField\r\n                                  id=\"outlined-multiline-static\"\r\n                                  placeholder=\"Pickup Notes\"\r\n                                  multiline\r\n                                  rows={2}\r\n                                  type='textarea'\r\n                                  value={form.pickup[0] ? form.pickup[0].notes : \"\"}\r\n                                  onChange={(event) =>\r\n                                    handlePickDropChange(event, \"pickup\", \"notes\")\r\n                                  }\r\n                                  variant=\"outlined\"\r\n                                  readOnly={!edit}\r\n                                />\r\n                              }\r\n                            </Grid>\r\n                          </Stack>\r\n                        </Stack>\r\n                      </Grid>\r\n                      <Grid item xs={2} sx={{ display: 'flex', alignItem: 'center', mt: 5 }}>\r\n                        {/*Arrow*/}\r\n                        <ArrowForwardIosIcon\r\n                          style={{\r\n                            color: blue,\r\n                            marginTop: \"13%\",\r\n                            margin: '0 auto',\r\n                            height: 40,\r\n                            width: 40,\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={5}>\r\n                        {/*DROP*/}\r\n                        <Stack sx={{ textAlign: 'center' }}>\r\n                          {edit ? state.auth.user.role !== \"driver\" && <Fragment>\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              variant=\"outlined\"\r\n                              placeholder=\"Receiver Name\"\r\n                              value={form.drop[0] ? form.drop[0].receiverName : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"receiverName\")\r\n                              }\r\n                            />\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              variant=\"outlined\"\r\n                              placeholder=\"Address\"\r\n                              value={form.drop[0] ? form.drop[0].dropAddress : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"dropAddress\")\r\n                              }\r\n                            />\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              variant=\"outlined\"\r\n                              placeholder=\"City\"\r\n                              value={form.drop[0] ? form.drop[0].dropCity : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"dropCity\")\r\n                              }\r\n                            />\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              variant=\"outlined\"\r\n                              placeholder=\"State\"\r\n                              value={form.drop[0] ? form.drop[0].dropState : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"dropState\")\r\n                              }\r\n                            />\r\n                            <InputField\r\n                              id=\"outlined-basic\"\r\n                              variant=\"outlined\"\r\n                              placeholder=\"Zip\"\r\n                              value={form.drop[0] ? form.drop[0].dropZip : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"dropZip\")\r\n                              }\r\n                            />\r\n                          </Fragment>\r\n                            : <StaticDataShow\r\n                              heading={'Drop'}\r\n                              values={[\r\n                                drop && drop[0] ? drop[0].receiverName : \"\",\r\n                                form.drop[0] ? form.drop[0].dropAddress : \"\",\r\n                                `${drop && drop[0] ? drop[0].dropCity : \"\"},\r\n                                    ${drop && drop[0] ? drop[0].dropState : \"\"},\r\n                                    ${drop && drop[0] ? drop[0].dropZip : \"\"}`\r\n                              ]}\r\n                            />}\r\n                        </Stack>\r\n                        <Stack spacing={2} sx={{ textAlign: 'center' }}>\r\n                          {edit ? <Grid container spacing={2}>\r\n                            <Grid item xs={12}>\r\n                              <Typography sx={{ fontWeight: 600, fontSize: 18, textAlign: 'center' }}>Drop Time</Typography>\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                              <DateTimePicker\r\n                                  value={moment(form.drop[0] ? form.drop[0].dropDate : \"\") || new Date()}\r\n                                  onChange={(date) => handleDateChange(date.toISOString(), \"drop\")}\r\n                                  slotProps={DATE_PICKER_SLOT_PROPS}\r\n                                  label='Drop Date'\r\n                              />\r\n                              {/*<LocalizationProvider dateAdapter={AdapterDateFns}>*/}\r\n                              {/*  <DatePicker*/}\r\n                              {/*    value={form.drop[0] ? form.drop[0].dropDate : \"\"}*/}\r\n                              {/*    onChange={(date) => handleDateChange(date, \"drop\")}*/}\r\n                              {/*    renderInput={(params) => <TextField {...params} variant='standard' />}*/}\r\n                              {/*  />*/}\r\n                              {/*</LocalizationProvider>*/}\r\n                            </Grid>\r\n                            {/*<Grid item xs={6}>*/}\r\n                            {/*    <TimePicker*/}\r\n                            {/*        label='Drop Time'*/}\r\n                            {/*      value={moment(form.drop[0] ? form.drop[0].dropDate : \"\")}*/}\r\n                            {/*      onChange={(date) => handleDateChange(date, \"drop\")}*/}\r\n                            {/*      slotProps={TIME_PICKET_SLOT_PROPS}*/}\r\n                            {/*    />*/}\r\n                            {/*</Grid>*/}\r\n                            <Grid item xs={6}>\r\n                              <TimePicker\r\n                                  label='In Time'\r\n                                  value={moment(form.drop[0] ? form.drop[0].in_time : \"\") || new Date()}\r\n                                  onChange={(date) => handleInOutTime(date, \"drop\", \"in_time\")}\r\n                                  slotProps={TIME_PICKET_SLOT_PROPS}\r\n                              />\r\n                              {/*<LocalizationProvider dateAdapter={AdapterDateFns}>*/}\r\n                              {/*  <TimePicker*/}\r\n                              {/*    label='In Time'*/}\r\n                              {/*    value={form.drop[0] ? form.drop[0].in_time : \"\"}*/}\r\n                              {/*    onChange={(date) =>*/}\r\n                              {/*      handleInOutTime(date, \"drop\", \"in_time\")*/}\r\n                              {/*    }*/}\r\n                              {/*    renderInput={(params) => <TextField {...params} variant='standard' />}*/}\r\n                              {/*  />*/}\r\n                              {/*</LocalizationProvider>*/}\r\n                            </Grid>\r\n                            <Grid item xs={6}>\r\n                              <TimePicker\r\n                                  label='Out Time'\r\n                                  value={moment(form.drop[0] ? form.drop[0].out_time : \"\")}\r\n                                  onChange={(date) =>\r\n                                      handleInOutTime(date, \"drop\", \"out_time\")\r\n                                  }\r\n                                  slotProps={TIME_PICKET_SLOT_PROPS}\r\n                              />\r\n                              {/*<LocalizationProvider dateAdapter={AdapterDateFns}>*/}\r\n                              {/*  <TimePicker*/}\r\n                              {/*    label='Out Time'*/}\r\n                              {/*    value={form.drop[0] ? form.drop[0].out_time : \"\"}*/}\r\n                              {/*    onChange={(date) =>*/}\r\n                              {/*      handleInOutTime(date, \"drop\", \"out_time\")*/}\r\n                              {/*    }*/}\r\n                              {/*    renderInput={(params) => <TextField {...params} variant='standard' />}*/}\r\n                              {/*  />*/}\r\n                              {/*</LocalizationProvider>*/}\r\n                            </Grid>\r\n                          </Grid> :\r\n                            <Fragment>\r\n                              <StaticDataShow\r\n                                spacing={2}\r\n                                sxObject={{ mt: 2 }}\r\n                                heading={'Drop Time'}\r\n                                values={[\r\n                                  drop && drop[0] ? (\r\n                                    moment(drop[0].dropDate).format(\"LLL\")\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )\r\n                                ]}\r\n                              />\r\n                              <Stack direction='row' justifyContent='space-evenly' spacing={1}>\r\n                                <Stack>\r\n                                  {drop && drop[0] && drop[0].in_time ? (\r\n                                    <Stack sx={{ textAlign: 'left' }}>\r\n                                      <Typography variant='subtitle2' sx={{ color: '#595959' }}>In Time: </Typography>\r\n                                      <Box>{moment(drop[0].in_time).format(\"h:mm A\")}</Box>\r\n                                    </Stack>\r\n                                  ) : (\r\n                                    \"--\"\r\n                                  )}\r\n                                </Stack>\r\n                                <Stack>\r\n                                  {drop && drop[0] && drop[0].out_time ? (\r\n                                    <Stack sx={{ textAlign: 'left' }}>\r\n                                      <Typography variant='subtitle2' sx={{ color: '#595959' }}>Out Time: </Typography>\r\n                                      <Box>{moment(drop[0].out_time).format(\"h:mm A\")}</Box>\r\n                                    </Stack>\r\n                                  ) : (\r\n                                    \"--\"\r\n                                  )}\r\n                                </Stack>\r\n                              </Stack>\r\n                            </Fragment>}\r\n                        </Stack>\r\n                        <Grid item xs={12} sx={{ textAlign: \"left\", mt: 1 }}>\r\n                          <Stack spacing={2} sx={{ mt: 2, mb: 2 }}>\r\n                            <Stack direction='row' alignItems='center' spacing={1}>\r\n                              <Typography fontWeight={700}>PO#</Typography>\r\n                              {edit ?\r\n                                <InputField\r\n                                  dropPo='dropPo'\r\n                                  value={form && form.drop[0] ? form.drop[0].dropPo : \"\"}\r\n                                  onChange={(e) => handlePickDropChange(e, 'drop', 'dropPo')}\r\n                                />\r\n                                : <Typography>{drop && drop[0] ? drop[0].dropPo : \"\"}</Typography>}\r\n                            </Stack>\r\n                            <Stack direction='row' alignItems='center' spacing={1}>\r\n                              <Typography fontWeight={700}>Reference# </Typography>\r\n                              {edit ?\r\n                                <InputField\r\n                                  value={form && form.drop[0] ? form.drop[0].dropReference : \"\"}\r\n                                  onChange={(e) => handlePickDropChange(e, 'drop', 'dropReference')}\r\n                                />\r\n                                : <Typography>{drop && drop[0] ? drop[0].dropReference : \"\"}</Typography>}\r\n                            </Stack>\r\n                            <Stack direction='row' alignItems='center' spacing={1}>\r\n                              <Typography fontWeight={700}>Deliver# </Typography>\r\n                              {edit ?\r\n                                <InputField\r\n                                  value={form && form.drop[0] ? form.drop[0].dropDeliverNumber : \"\"}\r\n                                  onChange={(e) => handlePickDropChange(e, 'drop', 'dropDeliverNumber')}\r\n                                />\r\n                                : <Typography>{drop && drop[0] ? drop[0].dropDeliverNumber : \"\"}</Typography>}\r\n                            </Stack>\r\n                          </Stack>\r\n\r\n                          {/* <p>Deliver Ref#  {drop && drop[0] ? drop[0].dropReference : ''}</p> */}\r\n\r\n                          {state.auth.user.role !== \"driver\" && (\r\n                            <InputField\r\n                              id=\"outlined-multiline-static\"\r\n                              placeholder=\"Drop Notes\"\r\n                              multiline\r\n                              rows={2}\r\n                              type=\"textarea\"\r\n                              value={form.drop[0] ? form.drop[0].notes : \"\"}\r\n                              onChange={(event) =>\r\n                                handlePickDropChange(event, \"drop\", \"notes\")\r\n                              }\r\n                              variant=\"outlined\"\r\n                              readOnly={!edit}\r\n                            />\r\n                          )}\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              <Grid item xs={2} sx={{ display: 'flex', alignItems: 'end', justifyContent: 'flex-end' }}>\r\n                <LoadDetailsUploadComponent\r\n                    edit={edit}\r\n                    rateConfirmation = {rateConfirmation}\r\n                    proofDelivery = {proofDelivery}\r\n                    accessorialsFiles = {accessorialsFiles}\r\n                    handleFileChange={handleFileChange}\r\n                    rateConfirmationRef={rateConfirmationRef}\r\n                    proofDeliveryRef={proofDeliveryRef}\r\n                    accessorialsRef={accessorialsRef}\r\n                    state={state}\r\n                    rateConFile={form.rateConfirmation}\r\n                    podFile={form.proofDelivery}\r\n                    formAccessorialsFiles={form.accessorialsFiles}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            {/*******************NEW Grid END***********************************/}\r\n\r\n\r\n\r\n\r\n            <Grid\r\n              container\r\n              spacing={2}\r\n              className={classes.rootLoadDetailModal}\r\n              style={{ marginTop: 10 }}\r\n            >\r\n              <Grid item xs={1}></Grid>\r\n              <Grid item xs={4} justifyContent={'center'} sx={{ textAlign: 'center' }}>\r\n\r\n              </Grid>\r\n              <Grid item xs={2} justifyContent='center' display={'flex'}>\r\n                {/*<ArrowForwardIosIcon*/}\r\n                {/*  style={{*/}\r\n                {/*    color: blue,*/}\r\n                {/*    marginTop: \"13%\",*/}\r\n                {/*    margin: '0 auto',*/}\r\n                {/*    height: 40,*/}\r\n                {/*    width: 40,*/}\r\n                {/*  }}*/}\r\n                {/*/>*/}\r\n              </Grid>\r\n              <Grid item xs={4} style={{ textAlign: \"center\" }}>\r\n\r\n              </Grid>\r\n              <Grid item xs={1}></Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n        </LocalizationProvider>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default React.memo(LoadDetailModal, () => true);\r\n","import Modal from \"../Atoms/Modal\";\r\nimport { Grid, Typography } from \"@mui/material\";\r\nimport Select from \"../Atoms/form/Select\";\r\nimport {LOAD_STATUSES} from \"../constants\";\r\nimport {useState} from \"react\";\r\nimport useMutation from \"../../hooks/useMutation\";\r\nimport {LoadingButton} from \"../Atoms\";\r\nimport {styled} from \"@mui/material/styles\";\r\n\r\nconst config = {\r\n    title: 'Move Invoice to My Loads',\r\n    preventBackdropClick: true\r\n}\r\n\r\nconst Container = styled(Grid)(({theme}) => ({\r\n    [theme.breakpoints.down('sm')]: {\r\n        width: 'auto'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n        width: 300\r\n    }\r\n}))\r\n\r\nconst MoveToMyLoads = (props) => {\r\n    const {onCloseUrl, getInvoices, refetch, getLoadStatuses = undefined, modalConfig, match: {params: {id} = {}} = {}, history} = props,\r\n        [value, setValue] = useState(),\r\n        {mutation, loading} = useMutation('/api/invoice/moveToMyLoads'),\r\n        statuses = getLoadStatuses ? getLoadStatuses(LOAD_STATUSES) : LOAD_STATUSES.map(status => {\r\n            if(status.id.equalsIgnoreCase('delivered')){\r\n                return {...status, disabled: true}\r\n            }\r\n            return status;\r\n        });\r\n\r\n    const onChange = ({value}) => {\r\n        setValue(value)\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        mutation({id, status: value}, null, () => {\r\n            getInvoices && getInvoices();\r\n            refetch && refetch();\r\n            history.replace(onCloseUrl);\r\n        });\r\n    }\r\n\r\n    return <Modal config={modalConfig || config}>\r\n        <Container container component='form' spacing={2} onSubmit={onSubmit}>\r\n            <Grid item>\r\n                <Typography>Select a load status</Typography>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <Select\r\n                    label='Status'\r\n                    name='status'\r\n                    options={statuses}\r\n                    onChange={onChange}\r\n                    value={value}\r\n                    showNone={true}\r\n                />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                <LoadingButton type='submit' fullWidth disabled={!value} isLoading={loading} loadingText='Moving...'>\r\n                    Move\r\n                </LoadingButton>\r\n            </Grid>\r\n        </Container>\r\n    </Modal>\r\n}\r\n\r\nexport default MoveToMyLoads;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"\n}), 'Replay');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\nexports.default = _default;"],"sourceRoot":""}