(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[23],{1173:function(e,t,a){"use strict";a.r(t);var n=a(225),o=a(286),r=a(0),s=a(46),i=a(753),c=a.n(i),l=a(315),d=a(356),u=a(338),b=a(589),h=a(688),j=a(590),f=a(226),p=a(1042),g=a(47),m=a(313),x=a.n(m),O=a(307),v=a(26),y=a(70),C=a(299),w=a(344),k=a.n(w),N=a(2);const{add:S}=y.a.getUserPermissionsByDashboardId("drivers");var D=Object(s.b)((e=>{let{load:t,auth:{user:a},driver:{all_drivers:n}}=e;return{load:t,user:a,all_drivers:n}}),{addDriver:d.a,getLoads:u.c})((e=>{const{all_drivers:t,getLoads:a,isEdit:i=!1,data:c={},closeEditForm:l}=e,{loading:u,mutation:m}=Object(O.a)("/api/drivers"),y={firstName:"",lastName:"",phoneNumber:"",user:""},w=Object(s.d)(),[D,P]=Object(r.useState)(!1),[F,_]=Object(r.useState)(1),[L,A]=Object(r.useState)(y),[z,I]=Object(r.useState)({});Object(r.useEffect)((()=>{2===F&&a()}),[F]);const R=()=>{_(1),P(!0)};Object(r.useEffect)((()=>(i&&(R(),A(c)),()=>{A((()=>y))})),[i]);const M=()=>{P(!1),_(1),l&&l()},E=e=>{let{name:t,value:a}=e;A({...L,[t]:a}),I((e=>({...e,[t]:""})))};return Object(N.jsxs)(N.Fragment,{children:[!i&&Object(N.jsx)(p.a,{disabled:!S,color:"primary",onClick:R,style:{marginBottom:"20%"},variant:"contained",startIcon:Object(N.jsx)(k.a,{}),children:"Add"}),Object(N.jsxs)(b.a,{maxWidth:"md",open:D,onClose:M,"aria-labelledby":"form-dialog-title",PaperProps:{sx:{width:400}},children:[Object(N.jsxs)(j.a,{id:"form-dialog-title",sx:{color:g.b,textAlign:"center",fontWeight:400,letterSpacing:1},children:[Object(N.jsx)(o.a,{"aria-label":"close",onClick:M,sx:{position:"absolute",left:8,top:8,color:e=>e.palette.grey[500]},children:Object(N.jsx)(x.a,{})}),i?"Edit":"Add"," Driver"]}),Object(N.jsx)(h.a,{children:Object(N.jsx)("div",{className:"",children:Object(N.jsxs)(n.a,{component:"form",sx:{px:4,pb:3},onSubmit:e=>{e.preventDefault();const{valid:t,errors:a}=(e=>{let{firstName:t,phoneNumber:a,user:n,lastName:o}=e,r=!0,s={};return t||(r=!1,s.firstName="First Name is required"),o||(r=!1,s.lastName="Last Name is required"),a||(r=!1,s.phoneNumber="Phone Number is required"),n||(r=!1,s.user="Please select a Driver"),{valid:r,errors:s}})(L);if(!t)return I({...a});m(L,null,(e=>{let{success:t,data:a}=e;t?(w(Object(d.d)()),M(),A((()=>y)),Object(v.a)(a.message)):Object(v.a)(a.message,"error")}))},noValidate:!0,children:[Object(N.jsxs)(f.a,{container:!0,sx:{"& .MuiFormControl-fullWidth":{mb:2}},children:[Object(N.jsx)(C.c,{name:"firstName",label:"First Name",onChange:E,value:L.firstName,errors:z,formControlSx:{mt:.8},required:!0}),Object(N.jsx)(C.c,{name:"lastName",label:"Last Name",onChange:E,value:L.lastName,errors:z,required:!0}),Object(N.jsx)(C.c,{name:"phoneNumber",label:"Phone Number",onChange:E,value:L.phoneNumber,errors:z,required:!0}),!i&&Object(N.jsx)(C.f,{value:L.user,name:"user",onChange:E,label:"Select Driver",showNone:!0,options:t.map((e=>({id:e._id,label:e.email}))),errors:z,required:!0})]}),Object(N.jsx)(C.d,{sx:{mt:2},type:"submit",variant:"contained",loadingText:i?"Updating...":"Saving...",fullWidth:!0,isLoading:u,children:(i?"Update ":"Add ")+"Driver"})]})})})]})]})}));const{edit:P,delete:F}=y.a.getUserPermissionsByDashboardId("drivers");t.default=Object(s.b)((e=>({driver:e.driver})),{getDrivers:d.d,patchDriverLoads:d.e,deleteDriverLoads:d.c,deleteDriver:d.b})((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{deleteDriver:t}=e,{drivers:a=[],loading:i=!1}=Object(s.e)((e=>e.driver),s.c),[u,b]=Object(r.useState)({open:!1,data:{}}),h=Object(s.d)(),j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0).stopPropagation(),b({open:!0,data:e})},f=()=>{h(Object(d.d)())};Object(r.useEffect)((()=>{f()}),[]);const p={rowCellPadding:"normal",emptyMessage:"No drivers found",hasDelete:!0,deletePermissions:!!F,deleteMessage:e=>{let{row:t}=e;return"Are you sure you want to delete "+t.firstName+" "+(t.lastName||"")+"?"},onDelete:function(){let e=arguments.length>1?arguments[1]:void 0,{row:a}=arguments.length>2?arguments[2]:void 0;const n="string"!==typeof a.user?a.user._id:a.user;t(n,e)},columns:[{id:"firstName",label:"First Name"},{id:"lastName",label:"Last Name"},{id:"phoneNumber",label:"Phone Number"},{id:"delete",renderer:e=>{let{row:t}=e;return Object(N.jsx)(C.g,{title:"Edit",placement:"top",children:Object(N.jsx)(o.a,{disabled:!P,variant:"contained",sx:{mr:2},onClick:j.bind(undefined,t),color:"primary",children:Object(N.jsx)(c.a,{})})})}}]},g=Object(N.jsx)(n.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(N.jsx)(D,{})});return Object(N.jsxs)("div",{children:[Object(N.jsx)(l.a,{config:p,data:a,loading:i,actions:g}),u.open&&Object(N.jsx)(D,{closeEditForm:()=>{b({open:!1,data:{}})},data:u.data,isEdit:!0,onRefresh:f})]})}))},307:function(e,t,a){"use strict";var n=a(0),o=a(51),r=a(110);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[i,c]=Object(n.useState)(!1);return{mutation:async function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",l=arguments.length>2?arguments[2]:void 0,d=e;s.queryParams&&(d=d+"?"+Object(r.j)(s.queryParams)),c(!0),i||(i="post");const u=(e=>{let t;switch(e){case"put":t=o.e;break;case"delete":t=o.a;break;case"patch":t=o.c;break;default:t=o.d}return t})(i.toLowerCase());if(u)return u({uri:d,callback:t,body:n,showTriggers:a}).then((e=>(l&&l({...e}),e))).catch((e=>e)).finally((()=>{c(!1)}))},loading:i}}},310:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),o=a(1042),r=a(589),s=a(1046),i=a(688),c=a(590),l=a(277),d=a(2);const u=n.forwardRef((function(e,t){return Object(d.jsx)(l.a,{direction:"up",ref:t,...e})}));function b(e){const{open:t=!1,config:a,onClose:n,preventBackdropClose:l=!1,className:b}=e,{title:h,onOk:j,okText:f="Save",content:p,onCancel:g}=a,m=function(e){l&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||n()};return Object(d.jsx)("div",{children:Object(d.jsxs)(r.a,{className:b,open:t,TransitionComponent:u,onClose:m,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof h?h({...a}):Object(d.jsx)(c.a,{sx:{fontWeight:550},children:h}),Object(d.jsx)(i.a,{children:"function"===typeof p?p({config:a}):p}),Object(d.jsxs)(s.a,{children:["function"===typeof g?g({config:a,onClose:n}):Object(d.jsx)(o.a,{variant:"outlined",onClick:m,children:"Cancel"}),"function"===typeof f?f({config:a,onOk:j}):Object(d.jsx)(o.a,{variant:"contained",color:f.equalsIgnoreCase("delete")?"error":"primary",onClick:j,children:f})]})]})})}},313:function(e,t,a){"use strict";var n=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(111)),r=a(2);t.default=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},315:function(e,t,a){"use strict";var n=a(225),o=a(285),r=a(1194),s=a(1183),i=a(1195),c=a(547),l=a(335),d=a.n(l),u=a(1193),b=a(1192),h=a(1043),j=a(226),f=a(109),p=a(1154),g=a(286),m=a(1191),x=a(1165),O=a(343),v=a.n(O),y=a(1190),C=a(297),w=a.n(C),k=a(323),N=a.n(k),S=a(0),D=a.n(S),P=a(11),F=a(1145),_=a(10),L=a(299),A=a(2);const z=Object(_.a)(F.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),I=Object(_.a)(c.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var R=e=>{let{data:t=[],onPageChange:a,page:n=1,count:o=0,limit:r=1,onLimitChange:s,isLoading:i}=e;const[l,d]=Object(S.useState)(0);Object(S.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return o<=5?null:Object(A.jsxs)(I,{direction:"row",alignItems:"center",children:[Object(A.jsxs)(f.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",l," of ",o," entries"]}),Object(A.jsxs)(c.a,{direction:"row",alignItems:"center",children:[Object(A.jsx)(L.f,{disabled:i,name:"pageSize",label:"",value:r,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof s&&s({value:t})}}),Object(A.jsx)(z,{disabled:i,count:Math.ceil(o/r),color:"primary",variant:"contained",page:n,size:"medium",onChange:(e,t)=>{+n!==+t&&"function"===typeof a&&a(e,+t)}})]})]})},M=a(318),E=a(310),q=a(110),T=a(312);const W=Object(_.a)(y.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),H=Object(_.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function U(e){let{columns:t=[],config:a={},role:n,handleRequestSort:o,hasSort:r}=e;const{headerCellSx:s={},hasDelete:i,sortField:c,sortOrder:l,showCheckbox:d}=a,u=Object(S.useMemo)((()=>t.map(((e,t)=>{const{label:a="",id:i="",visible:d=!0,sort:u=!1}=e||{};return(w.a.isFunction(d)?d({column:e,role:n}):d)?Object(A.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s},children:r&&u?Object(A.jsx)(x.a,{onClick:e=>o(e,i),active:i===c,direction:l,sx:{...s},children:a}):a},i||t):null}))),[t,s]);return d&&u.unshift(Object(A.jsx)(W,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s}})),Object(A.jsxs)(m.a,{children:[u,i&&Object(A.jsx)(W,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...s}})]})}const V=e=>{let{columns:t,data:a=[],config:n={},handleRowClick:o,handleDelete:r,...s}=e;return(a||[]).map(((e,a)=>{const{dataKey:i=""}=n;return i&&(e=e[i]),(e=>{let{row:t=[],columns:a={},config:n={},handleRowClick:o,rowIndex:r,handleDelete:s,hasDeletePermission:i,checkboxKey:c,...l}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:b,rowStyleCb:h,showCheckbox:j=!1}=n,{role:f,onCheckboxChange:x,checkboxes:O}=l;let v={};h&&(v=h({row:t})||{});const y=Object(A.jsx)(W,{sx:{},padding:"none",component:"th",scope:"row",children:Object(A.jsx)(T.a,{title:"Delete",placement:"top",children:Object(A.jsx)(g.a,{onClick:s.bind(void 0,t._id,t),disabled:!i,children:Object(A.jsx)(H,{color:"error"})})})}),C=a.map(((e,a)=>{const{id:n="",renderer:o,emptyState:s="--",valueFormatter:i,visible:c=!0,cellPadding:l}=e||{};if(!(w.a.isFunction(c)?c({column:e,role:f}):c))return null;let d;return d=i&&w.a.isFunction(i)?i(t[n]):w.a.isFunction(o)?o({row:t,role:f},r)||s:w.a.get(t,n,s)||s,Object(A.jsx)(W,{padding:l||u||"normal",component:"th",scope:"row",children:d},n+a)}));if(j){if(!c)throw new Error("Checkbox key not provided");const e=O.indexOf(t[c])>-1;C.unshift(Object(A.jsx)(W,{onClick:x.bind(void 0,t),children:Object(A.jsx)(p.a,{checked:e})}))}return Object(A.jsxs)(m.a,{hover:!!b,onClick:e=>{e.preventDefault(),w.a.isFunction(o)&&o(t)},sx:b?{cursor:"pointer",...v}:{...v},children:[C,d&&y]},r)})({row:e,columns:t,config:n,handleRowClick:o,rowIndex:a,handleDelete:r,...s})}))},B=e=>{let{config:t={},data:a=[],history:l,loading:p=!1,onRefetch:m,isRefetching:x,actions:O,isPaginationLoading:v=!1,...y}=e;a=a||[];const{onCheckboxChange:C,checkboxes:k,checkboxKey:P}=y,[F,_]=Object(S.useState)({}),[L,z]=Object(S.useState)({open:!1,config:{}}),{columns:I=[],onRowClick:T,hasOnClickUrl:W=!0,onPageChange:H,page:B,count:J,limit:K,onPageSizeChange:G,onLimitChange:Q,size:X="medium",emptyMessage:Y="",onRowClickDataCallback:Z,showRefresh:$=!1,onDelete:ee,deleteMessage:te,deletePermissions:ae=[],containerHeight:ne="",sortField:oe,sortOrder:re="asc",handleSortChange:se,hasSort:ie=!1}=t,{role:ce=""}=Object(q.f)().user,le="boolean"===typeof ae?ae:ae.indexOf(ce)>-1||!1,de=D.a.useRef([]),ue=Array.isArray(a)&&a.length,be=Object(S.useMemo)((()=>O&&D.a.isValidElement(O)?O:Object(A.jsx)(A.Fragment,{})),[O]),he=e=>{if(W&&T){const t=T(e);Z&&(e=Z(e)),l.push(t,e)}else T&&T(e)},je=(e,t)=>{se&&se({field:t,order:oe===t&&"asc"===re?"desc":"asc"})},fe=(e,t,a)=>{a.stopPropagation();const n={title:()=>Object(A.jsxs)(j.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(A.jsx)(N.a,{color:"error"}),Object(A.jsx)(f.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>ee(e,pe,{row:t}),content:()=>Object(A.jsx)(h.a,{sx:{color:"#000"},children:w.a.isFunction(te)?te({row:t}):te||"Are you sure you want to delete the record?"})};z({...L,open:!0,config:n})};function pe(){z({...L,open:!1})}const ge=Object(S.useMemo)((()=>ue?Object(A.jsxs)(S.Fragment,{children:[Object(A.jsx)(b.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(A.jsx)(U,{columns:I,config:t,role:ce,handleRequestSort:je,hasSort:ie})}),Object(A.jsx)(u.a,{children:Object(A.jsx)(V,{role:ce,columns:I,data:a,config:t,checkboxes:k,checkboxKey:P,handleRowClick:he,handleDelete:fe,onCheckboxChange:C,hasDeletePermission:le})})]}):Object(A.jsx)("tbody",{style:{height:300},children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{style:{textAlign:"center"},children:Object(A.jsx)("h4",{children:Y||"No records found"})})})})),[a,t,k]);return Object(S.useEffect)((()=>{var e;if(null!==de&&void 0!==de&&null!==(e=de.current)&&void 0!==e&&e.table){const e=de.current.table.offsetHeight;_({...F,height:e>200?e:void 0})}}),[]),Object(S.useEffect)((()=>{var e;(v||x)&&null!==(e=de.current)&&void 0!==e&&e.tableContainer&&de.current.tableContainer.scrollTo(0,0)}),[v,x]),Object(A.jsxs)(n.a,{className:"enhanced-table",sx:{height:ue&&!p?ne||"95%":"auto"},children:[Object(A.jsxs)(c.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[be,$&&Object(A.jsx)(g.a,{title:"Refresh",onClick:m,children:Object(A.jsx)(d.a,{className:x?"rotateIcon":void 0})})]}),Object(A.jsxs)(r.a,{component:o.a,className:"",ref:e=>de.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:ue&&!p?"calc(100% - 80px)":"auto",position:"relative"},children:[p?(()=>{const e=window.innerHeight-180,t=(F.height?F.height>e?e:F.height:e)||e;return Object(A.jsx)(j.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(A.jsx)(j.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(A.jsx)(M.a,{})})})})():Object(A.jsx)(i.a,{ref:e=>de.current.table=e,"aria-label":"caption table",size:X,stickyHeader:!0,children:ge}),Object(A.jsx)(s.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||x||!1,children:Object(A.jsx)(M.a,{sx:{color:"inherit"}})})]}),!p&&a.length>0&&Object(A.jsx)(R,{data:a,onPageChange:H,page:B,count:J,limit:K,onLimitChange:Q||G,isLoading:x||v}),Object(A.jsx)(E.a,{className:"enhancedTable_dialog",open:L.open,config:L.config,onClose:pe})]})};t.a=Object(P.withRouter)(Object(S.memo)(B))},338:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return b})),a.d(t,"g",(function(){return h})),a.d(t,"b",(function(){return j}));var n=a(23),o=a.n(n),r=a(26),s=a(3),i=a(51);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async o=>{try{const{success:c,data:l}=await Object(i.b)({uri:"/api/load/me?page=".concat(e+1,"&limit=").concat(t,"&module=").concat(a,"&search=").concat(n)});c?o({type:s.F,payload:{loads:l,page:e,limit:t}}):Object(r.a)(l.message,"error")}catch(c){o(Object(r.b)(c.message,"error"))}}},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async i=>{try{const r="/api/load/me?page=".concat(e+1,"&limit=15&search=").concat(a,"&module=").concat(n),c=await o.a.get(r);i({type:s.gb,payload:{data:c.data,page:e,limit:t,search:a}})}catch(c){i(Object(r.b)(c.message,"error"))}}},d=function(){return async(e,t)=>{e({type:s.eb});const{load:{page:a,rowsPerPage:n}}=t()}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:s.hb,payload:e}},b=(e,t)=>async a=>{try{const{data:n,success:o}=await Object(i.d)({uri:"/api/load",body:e});o?(a({type:s.b,payload:n}),Object(r.a)("Load Created"),t&&t(o,n)):Object(r.a)(n.message,"error")}catch(n){a(Object(r.b)(n.message,"error")),console.log(n)}},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return async(o,s)=>{try{const l=new FormData;for(let t of Object.keys(e))if(["rateConfirmation","proofDelivery"].indexOf(t)<0){const a=e[t],n=Array.isArray(a);let o=n&&!(null===a)?JSON.stringify(a):a;l.append(t,o)}l.append("bucketFiles",JSON.stringify(a));for(let t of["rateConfirmation","proofDelivery","accessorialsFiles"]){const a=e[t];if(a)for(let e of a)l.append(t,e)}const{success:d,data:u}=await Object(i.c)({uri:"/api/load/modify",body:l});if(d){Object(r.a)("Load Updated");const{load:{rowsPerPage:e,page:a}}=s();o(c(a,e,t))}n(d,u)}catch(l){Object(r.a)(l.message,"error")}}},j=(e,t)=>async a=>{try{const{success:n,data:o}=await Object(i.a)({uri:"/api/load",body:{data:{load_id:e}}});Object(r.a)(o.message,n?"success":"error"),n&&a({type:s.t,payload:e}),t&&t(n,o)}catch(n){Object(r.a)(n.message,"error")}}},344:function(e,t,a){"use strict";var n=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(111)),r=a(2);t.default=(0,o.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},356:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return u}));var n=a(23),o=a.n(n),r=a(26),s=a(3);const i=()=>async e=>{try{const t=await o.a.get("/api/drivers/me");Object.assign(t.data,{timestamp:new Date}),e({type:s.D,payload:t.data})}catch(n){var t,a;console.log(n),e({type:s.u,payload:{msg:null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.statusText,status:null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status}})}},c=(e,t)=>async t=>{try{const a={headers:{"Content-Type":"application/json"}},n=await o.a.post("/api/drivers",e,a);Object(r.a)(n.data.message),t(i())}catch(a){let e=a.errors&&Array.isArray(a.errors)&&a.errors.length?a.errors[0].msg:a.message;t(Object(r.b)(e,"error"))}},l=(e,t)=>async(a,n)=>{try{let r=n().driver.drivers;const i=await o.a.patch("/api/drivers/loads?driver_id=".concat(e),{loads:t});let c=r.indexOf(r.find((e=>e._id===i.data._id)));-1!==c&&(r[c]=i.data),a({type:s.V,payload:r})}catch(r){a({type:s.u,payload:{msg:r.response.statusText,status:r.response.status}})}},d=(e,t)=>async(a,n)=>{try{let i=n().driver.drivers;const c=await o.a.delete("/api/drivers/",{data:{driver_id:e}});let l=i.indexOf(i.find((e=>e._id===c.data._id)));-1!==l&&i.splice(l,1),Object(r.a)("Deleted Successfully"),t&&t(c),a({type:s.r,payload:i})}catch(i){a({type:s.u,payload:{msg:i.response.statusText,status:i.response.status}})}},u=(e,t)=>async(a,n)=>{try{let r=n().driver.drivers;const i=await o.a.delete("/api/drivers/loads",{data:{load_id:t,driver_id:e}});let c=r.indexOf(r.find((e=>e._id===i.data._id)));-1!==c&&(r[c]=i.data),a({type:s.s,payload:r})}catch(r){a({type:s.u,payload:{msg:r.response.statusText,status:r.response.status}})}}},753:function(e,t,a){"use strict";var n=a(68);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(111)),r=a(2);t.default=(0,o.default)((0,r.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")}}]);
//# sourceMappingURL=23.f7aae4a4.chunk.js.map