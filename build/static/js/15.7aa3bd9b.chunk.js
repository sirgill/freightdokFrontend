(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[15],{1129:function(e,t,n){"use strict";n.r(t);var a=n(201),i=n(510),c=n(479),o=n.n(c),s=n(248),l=n(273),r=n.n(l),d=n(1005),u=n(0),j=n(13),b=n(72),h=n(318),x=n.n(h),f=n(317),p=n.n(f),g=n(509),O=n.n(g),m=n(88),v=n(200),y=n(258),C=n.n(y),w=n(468),k=n(33),S=n(73),P=n(265),E=n(278),z=n(255),R=n(290),F=n(264),L=n(2);const A=e=>{let{setData2:t,setPage:n,data:a,getLocation:i,loading:c}=e;const o=e=>{let{name:n,value:a}=e;t((e=>({...e,[n]:a})))};return Object(L.jsxs)(v.a,{container:!0,sx:{display:"flex","&>div:not(.select)":{p:1}},children:[Object(L.jsx)(E.a,{label:"Phone",name:"phone",type:"number",fullWidth:!0,onChange:o,value:a.phone,className:"inputField"}),Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsx)(R.a,{name:"parking",onChange:o,label:"Parking",type:"select",value:a.parking,options:[{label:"Yes",value:!0},{label:"No",value:!1}],labelKey:"label",valueKey:"value"})}),Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsx)(R.a,{label:"Appointment",name:"appointment",fullWidth:!0,onChange:o,value:a.appointment,options:[{label:"Yes",value:!0},{label:"No",value:!1}],type:"select",labelKey:"label",valueKey:"value"})}),Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsx)(R.a,{label:"FCFS",name:"fcfs",fullWidth:!0,onChange:o,value:a.fcfs,options:[{label:"Yes",value:!0},{label:"No",value:!1}],type:"select",labelKey:"label",valueKey:"value"})}),Object(L.jsx)(E.a,{label:"Facilities Hours of Service",name:"serviceHours",fullWidth:!0,onChange:o,value:a.serviceHours,className:"inputField"}),Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsx)(R.a,{name:"restroom",onChange:o,label:"Restroom",type:"select",value:a.restroom,options:[{label:"Yes",value:!0},{label:"No",value:!1}],labelKey:"label",valueKey:"value"})}),Object(L.jsxs)(v.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"space-between"},children:[Object(L.jsx)(m.a,{variant:"h6",children:"Facility Location"}),Object(L.jsx)(d.a,{onClick:i,className:"font-14",color:"success",variant:"outlined",children:"Get Location"})]}),Object(L.jsx)(E.a,{label:"Latitude",name:"latitude",fullWidth:!0,onChange:o,value:a.latitude,className:"inputField"}),Object(L.jsx)(E.a,{label:"Longitude",name:"longitude",fullWidth:!0,onChange:o,value:a.longitude,className:"inputField"}),Object(L.jsxs)(v.a,{item:!0,justifyContent:"space-between",alignItems:"center",style:{marginTop:10,display:"flex"},xs:12,children:[Object(L.jsx)(O.a,{onClick:()=>n(1),style:{color:"#1891FC",height:25,width:25,cursor:"pointer"}}),Object(L.jsx)(z.d,{type:"submit",color:"primary",isLoading:c,loadingText:"Saving...",children:"Save"})]})]})},N=e=>{let{id:t=null,mutation:n,loading:a,refetch:i}=e;const[c,o]=Object(u.useState)({name:"",address:"",city:"",state:"",zip:""}),[s,l]=Object(u.useState)({restroom:!0,parking:!1,phone:"",appointment:!1,serviceHours:"",latitude:"",longitude:"",fcfs:!1}),[r,d]=Object(u.useState)(""),[b,h]=Object(u.useState)(1),x=Object(j.useHistory)(),f=Object(k.d)(),{location:{data:{lat:g=0,lng:O=0}={}}={}}=Object(k.e)((e=>e.warehouse)),y=e=>{let{name:t,value:n}=e;o((e=>({...e,[t]:n}))),d("")},P=()=>{i(),x.push(S.d)},z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={...c};for(let a in t)t[a]=e[a]||"";o(t);let n={...s};for(let a in s)n[a]=C.a.isBoolean(e[a])?Boolean(e[a]):e[a]||"";l(n)};return Object(u.useEffect)((()=>{t&&f(Object(w.c)(t,z))}),[]),Object(u.useEffect)((()=>{g&&O&&l({...s,latitude:g,longitude:O})}),[g,O]),Object(L.jsxs)(v.a,{container:!0,onSubmit:e=>{if(e.preventDefault(),t){const e=s;e.fcfs=!!e.fcfs,e.appointment=!!e.appointment,e.parking=!!e.parking,e.restroom=!!e.restroom,n(C.a.extend(c,e,{_id:t}),null,P)}else n(C.a.extend(c,s),null,P)},sx:{width:350,"&>div":{p:1}},autoComplete:"off",component:"form",children:[1===b&&Object(L.jsxs)(u.Fragment,{children:[Object(L.jsx)(E.a,{label:"Facility Name",name:"name",fullWidth:!0,onChange:y,required:!0,autoCapitalize:!0,value:c.name}),Object(L.jsx)(E.a,{label:"Address",name:"address",fullWidth:!0,onChange:y,required:!0,value:c.address}),Object(L.jsx)(E.a,{label:"City",name:"city",fullWidth:!0,onChange:y,required:!0,value:c.city}),Object(L.jsx)(E.a,{label:"State",name:"state",fullWidth:!0,onChange:y,required:!0,value:c.state}),Object(L.jsx)(E.a,{label:"Zip",name:"zip",fullWidth:!0,onChange:y,required:!0,value:c.zip}),!!r&&Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsx)(m.a,{align:"center",color:"red",children:r})}),Object(L.jsx)(v.a,{item:!0,style:{marginTop:10,textAlign:"right"},xs:12,children:Object(L.jsx)(p.a,{onClick:()=>{if(!C.a.isEmpty(c))for(let e in c)if(!c[e]||C.a.isBoolean(c[e]))return d("Please fill all the fields");h(2)},style:{color:"#1891FC",height:25,width:25,cursor:"pointer"}})})]}),2===b&&Object(L.jsx)(A,{getLocation:()=>{f(Object(w.b)({...c}))},setData2:l,setPage:h,data:s,loading:a})]})};var M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{match:{params:{id:t=null}={}}={},refetch:n}=e,{mutation:a,loading:i}=Object(F.a)("/api/warehouse"),c={title:(t?"Edit":"Add")+" Facility",closeUrl:S.d,preventBackdropClick:!0};return Object(L.jsx)(P.a,{config:c,children:Object(L.jsx)(N,{id:t,mutation:a,loading:i,refetch:n})})},W=n(552),I=n(655),D=n(553),T=n(1149),H=n(383),_=n.n(H),q=n(280),V=n(470),B=n(44);const K=e=>{let{data:t={},hasPermission:n}=e;const{_id:i="",address:c="",averageLoadTime:o="",city:l="",zip:r,state:d,parking:u,appointment:b,restrooms:h,serviceHours:x}=t,f=Object(j.useHistory)();return Object(L.jsxs)(v.a,{container:!0,children:[Object(L.jsx)(v.a,{item:!0,xs:12,children:Object(L.jsxs)(v.a,{container:!0,display:"flex",children:[Object(L.jsxs)(v.a,{item:!0,xs:5,children:[Object(L.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center"},children:"INFO"}),Object(L.jsxs)(a.a,{sx:{display:"flex",flexDirection:"column","& .infoValues":{pt:2}},children:[Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Address: "}),Object(L.jsx)("span",{children:c})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"City: "}),Object(L.jsx)("span",{children:l})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"State: "}),Object(L.jsx)("span",{children:d})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Zip: "}),Object(L.jsx)("span",{children:r})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Parking: "}),Object(L.jsx)("span",{children:u?"Yes":"No"})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Appointment: "}),Object(L.jsx)("span",{children:b})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"FCFS: "}),Object(L.jsx)("span",{children:""})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Hours of Service: "}),Object(L.jsx)("span",{children:x})]}),Object(L.jsxs)("div",{className:"infoValues",children:[Object(L.jsx)("span",{children:"Restrooms: "}),Object(L.jsx)("span",{children:h?"Yes":"No"})]})]})]}),Object(L.jsxs)(v.a,{xs:2,item:!0,children:[Object(L.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center",marginTop:"50%"},children:"Average Load Time"}),Object(L.jsx)(m.a,{style:{textAlign:"center"},variant:"h5",children:o})]}),Object(L.jsx)(v.a,{item:!0,xs:5,children:Object(L.jsx)("div",{style:{fontSize:"20px",fontWeight:600,textAlign:"center"},children:"Recent Loading Times"})})]})}),Object(L.jsx)(v.a,{item:!0,xs:12,sx:{marginTop:"1rem"},children:Object(L.jsx)(s.a,{disabled:!n,onClick:()=>f.push(S.d+"/edit/"+i),children:Object(L.jsx)(_.a,{sx:{color:B.a}})})})]})};var U=function(e){const{history:t,match:{params:{id:n=""}},closeUrl:a,canEdit:i}=e,{data:c={},loading:o}=Object(V.a)("/api/warehouse/"+n,{showPagination:!1}),{data:s={}}=c||{};return o?Object(L.jsx)(T.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:o,children:Object(L.jsx)(q.a,{sx:{color:"inherit"}})}):Object(L.jsx)("div",{children:Object(L.jsx)(W.a,{maxWidth:"xl",onClose:()=>{t.push(a)},"aria-labelledby":"customized-dialog-title",open:!0,children:Object(L.jsxs)(I.a,{dividers:!0,children:[Object(L.jsx)(D.a,{sx:{textAlign:"center"},id:"customized-dialog-title",onClose:()=>null,children:Object(L.jsx)(m.a,{sx:{fontWeight:600},variant:"h5",children:(null===s||void 0===s?void 0:s.name)||"Warehouse"})}),Object(L.jsx)(K,{data:s,hasPermission:i})]})})})},Y=n(35),Z=n(57),J=n(277),Q=n(293),G=n(330);t.default=()=>{const{path:e}=Object(j.useRouteMatch)(),{add:t,delete:n,edit:c}=Z.a.getUserPermissionsByDashboardId("facilities"),{data:l,loading:u,page:h,isPaginationLoading:f,limit:p,onLimitChange:g,onPageChange:O,handleSearch:m,refetch:v,searchQuery:y,isSearching:C,isRefetching:w}=Object(G.a)("/api/warehouse"),{totalCount:k,facilities:S=[]}=l||{},P=e=>{let{success:t}=e;t&&v()},E={count:k,page:h,limit:p,deletePermissions:["admin","superAdmin"],onRowClick:t=>{let{_id:n}=t;return"".concat(e,"/preview/").concat(n)},rowCellPadding:"normal",showRefresh:!0,onPageChange:O,onPageSizeChange:g,columns:[{id:"name",label:"Facility"},{id:"address",label:"Address"},{id:"city",label:"City"},{id:"state",label:"State"},{id:"zip",label:"Zip Date"},{id:"serviceHours",label:"Service Hours"},{id:"actions",visible:e=>{let{role:t}=e;return t===Y.g.admin||t===Y.g.superadmin},renderer:e=>{let{row:{_id:t,name:a}}=e;return Object(L.jsx)(d.a,{variant:"contained",color:"error",disabled:!n,onClick:Object(Q.c)({message:"Are you sure you want to delete Facility "+a+"?",uri:"/api/warehouse/"+t,afterSuccessCb:P}),children:"Delete"})}}]},R=Object(L.jsxs)(i.a,{direction:"row",gap:1,children:[Object(L.jsx)(z.c,{placeholder:"Search by Facility, Address, City, State",name:"text",autoFocus:!0,onChange:m,value:y,sx:{"& .MuiOutlinedInput-root":{pr:0}},InputProps:{endAdornment:y?Object(L.jsx)(s.a,{onClick:()=>m({value:""}),sx:{visibility:y?"visible":"hidden"},children:Object(L.jsx)(r.a,{fontSize:"small"})}):Object(L.jsx)(s.a,{disableRipple:!0,children:Object(L.jsx)(o.a,{})})}}),Object(L.jsx)(d.a,{variant:"contained",component:b.b,to:e+"/add",disabled:!t,startIcon:Object(L.jsx)(x.a,{}),children:"Add"})]});return Object(L.jsxs)(a.a,{sx:{height:"inherit"},className:"dashboardRoot",children:[Object(L.jsx)(J.a,{config:E,data:S,loading:u,onRefetch:v,isRefetching:w,actions:R,isPaginationLoading:f||C}),Object(L.jsxs)(j.Switch,{children:[Object(L.jsx)(j.Route,{render:e=>Object(L.jsx)(M,{...e,refetch:v}),path:e+"/add"}),Object(L.jsx)(j.Route,{render:e=>Object(L.jsx)(M,{...e,refetch:v}),path:e+"/edit/:id",refetch:v}),Object(L.jsx)(j.Route,{render:t=>Object(L.jsx)(U,{...t,canEdit:!!c,closeUrl:e}),path:e+"/preview/:id"})]})]})}},264:function(e,t,n){"use strict";var a=n(0),i=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const[s,l]=Object(a.useState)(!1);return{mutation:async function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",r=arguments.length>2?arguments[2]:void 0,d=e;o.queryParams&&(d=d+"?"+Object(c.m)(o.queryParams)),l(!0),s||(s="post");const u=(e=>{let t;switch(e){case"put":t=i.e;break;case"delete":t=i.a;break;case"patch":t=i.c;break;default:t=i.d}return t})(s.toLowerCase());if(u)return u({uri:d,callback:t,body:a,showTriggers:n}).then((e=>(r&&r({...e}),e))).catch((e=>e)).finally((()=>{l(!1)}))},loading:s}}},265:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(355),i=n(236),c=n(0),o=n.n(c),s=n(10),l=n(34),r=n(552),d=n(553),u=n(655),j=n(248),b=n(273),h=n.n(b),x=n(13),f=n(90),p=n(73),g=n(2);const O=Object(s.a)(r.a)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),m=e=>{const{children:t,onClose:n,showClose:a,titleStyles:i,...c}=e;return Object(g.jsxs)(d.a,{sx:{m:0,p:2,textAlign:"center",...i},...c,children:[a?Object(g.jsx)(j.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",left:8,top:12,color:e=>e.palette.grey[500]},children:Object(g.jsx)(h.a,{})}):null,t]})};function v(e){const{config:t={},children:n,closeCallback:s}=e,{title:r="",closeUrl:d="",showClose:j=!0,paperProps:b={},preventBackdropClick:h=!1,titleStyles:v={},maxWidth:y="md"}=t,[C,w]=o.a.useState(!1),k=Object(l.a)(),S=Object(i.a)(k.breakpoints.down("sm")),P=function(e){h&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropClick")||w(!1)};o.a.useEffect((()=>(w(!0),Object(f.a)(window,"closeModal",P),()=>Object(f.l)(window,"closeModal",P))),[]);const E=Object(c.useMemo)((()=>o.a.forwardRef((function(e,t){const n=Object(x.useHistory)();return Object(g.jsx)(a.a,{ref:t,...e,onExited:()=>s?s():d?n.push(d||p.b):n.goBack()})}))),[]);return Object(g.jsxs)(O,{onClose:P,"aria-labelledby":r||"customized-dialog-title",open:C,maxWidth:y,TransitionComponent:E,PaperProps:b,fullScreen:S,children:[r&&Object(g.jsx)(m,{id:r||"customized-dialog-title",onClose:P,showClose:j,titleStyles:v,children:r}),Object(g.jsx)(u.a,{dividers:!0,sx:{borderTop:"none"},children:n})]})}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(0),i=n(1005),c=n(552),o=n(1009),s=n(655),l=n(553),r=n(237),d=n(2);const u=a.forwardRef((function(e,t){return Object(d.jsx)(r.a,{direction:"up",ref:t,...e})}));function j(e){const{open:t=!1,config:n,onClose:a,preventBackdropClose:r=!1,className:j}=e,{title:b,onOk:h,okText:x="Save",content:f,onCancel:p}=n,g=function(e){r&&(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").equalsIgnoreCase("backdropclick")||a()};return Object(d.jsx)("div",{children:Object(d.jsxs)(c.a,{className:j,open:t,TransitionComponent:u,onClose:g,"aria-describedby":"alert-dialog-slide-description",children:["function"===typeof b?b({...n}):Object(d.jsx)(l.a,{sx:{fontWeight:550},children:b}),Object(d.jsx)(s.a,{children:"function"===typeof f?f({config:n}):f}),Object(d.jsxs)(o.a,{children:["function"===typeof p?p({config:n,onClose:a}):Object(d.jsx)(i.a,{variant:"outlined",onClick:g,children:"Cancel"}),"function"===typeof x?x({config:n,onOk:h}):Object(d.jsx)(i.a,{variant:"contained",color:x.equalsIgnoreCase("delete")?"error":"primary",onClick:h,children:x})]})]})})}},273:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},277:function(e,t,n){"use strict";var a=n(201),i=n(247),c=n(1160),o=n(1149),s=n(1161),l=n(510),r=n(295),d=n.n(r),u=n(1159),j=n(1158),b=n(1006),h=n(200),x=n(88),f=n(1121),p=n(248),g=n(1157),O=n(1132),m=n(294),v=n.n(m),y=n(1156),C=n(258),w=n.n(C),k=n(287),S=n.n(k),P=n(0),E=n.n(P),z=n(13),R=n(1111),F=n(10),L=n(255),A=n(2);const N=Object(F.a)(R.a)((e=>{let{theme:t}=e;return{"& .MuiPaginationItem-root":{[t.breakpoints.down("md")]:{height:"1.8rem",width:"1rem"}}}})),M=Object(F.a)(l.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("sm")]:{justifyContent:"center"},display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .pageSizeSelect":{width:80}}}));var W=e=>{let{data:t=[],onPageChange:n,page:a=1,count:i=0,limit:c=1,onLimitChange:o,isLoading:s}=e;const[r,d]=Object(P.useState)(0);Object(P.useEffect)((()=>{Array.isArray(t)&&d(t.length)}),[t]);return i<=5?null:Object(A.jsxs)(M,{direction:"row",alignItems:"center",children:[Object(A.jsxs)(x.a,{sx:{color:"#525F7F"},fontSize:12,children:["Showing ",r," of ",i," entries"]}),Object(A.jsxs)(l.a,{direction:"row",alignItems:"center",children:[Object(A.jsx)(L.f,{disabled:s,name:"pageSize",label:"",value:c,options:[{id:5,label:5},{id:10,label:10},{id:20,label:20},{id:50,label:50},{id:100,label:100}],className:"pageSizeSelect",onChange:e=>{let{value:t}=e;"function"===typeof o&&o({value:t})}}),Object(A.jsx)(N,{disabled:s,count:Math.ceil(i/c),color:"primary",variant:"contained",page:a,size:"medium",onChange:(e,t)=>{+a!==+t&&"function"===typeof n&&n(e,+t)}})]})]})},I=n(280),D=n(272),T=n(90),H=n(274);const _=Object(F.a)(y.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:12,padding:"0 8px"}}})),q=Object(F.a)(v.a)((e=>{let{theme:t}=e;return{[t.breakpoints.down("xs")]:{fontSize:14}}}));function V(e){let{columns:t=[],config:n={},role:a,handleRequestSort:i,hasSort:c}=e;const{headerCellSx:o={},hasDelete:s,sortField:l,sortOrder:r,showCheckbox:d}=n,u=Object(P.useMemo)((()=>t.map(((e,t)=>{const{label:n="",id:s="",visible:d=!0,sort:u=!1}=e||{};return(w.a.isFunction(d)?d({column:e,role:a}):d)?Object(A.jsx)(_,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...o},children:c&&u?Object(A.jsx)(O.a,{onClick:e=>i(e,s),active:s===l,direction:r,sx:{...o},children:n}):n},s||t):null}))),[t,o]);return d&&u.unshift(Object(A.jsx)(_,{padding:"normal",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...o}},"checkbox-header")),Object(A.jsxs)(g.a,{children:[u,s&&Object(A.jsx)(_,{padding:"none",sx:{color:"#000",bgcolor:"#fafafa",fontWeight:800,...o}})]})}const B=e=>{let{columns:t,data:n=[],config:a={},handleRowClick:i,handleDelete:c,...o}=e;return(n||[]).map(((e,n)=>{const{dataKey:s=""}=a;return s&&(e=e[s]),(e=>{let{row:t=[],columns:n={},config:a={},handleRowClick:i,rowIndex:c,handleDelete:o,hasDeletePermission:s,checkboxKey:l,...r}=e;const{hasDelete:d=!1,rowCellPadding:u="none",onRowClick:j,rowStyleCb:b,showCheckbox:h=!1}=a,{role:x,onCheckboxChange:O,checkboxes:m}=r;let v={};b&&(v=b({row:t})||{});const y=Object(A.jsx)(_,{sx:{},padding:"none",component:"th",scope:"row",children:Object(A.jsx)(H.a,{title:"Delete",placement:"top",children:Object(A.jsx)(p.a,{onClick:o.bind(void 0,t._id,t),disabled:!s,children:Object(A.jsx)(q,{color:s?"error":"disabled"})})})}),C=n.map(((e,n)=>{const{id:a="",renderer:i,emptyState:o="--",valueFormatter:s,visible:l=!0,cellPadding:r}=e||{};if(!(w.a.isFunction(l)?l({column:e,role:x}):l))return null;let d;return d=s&&w.a.isFunction(s)?s(t[a],t):w.a.isFunction(i)?i({row:t,role:x},c)||o:w.a.get(t,a,o)||o,Object(A.jsx)(_,{padding:r||u||"normal",component:"th",scope:"row",children:d},a+n)}));if(h){if(!l)throw new Error("Checkbox key not provided");const e=m.indexOf(t[l])>-1;C.unshift(Object(A.jsx)(_,{onClick:O.bind(void 0,t),children:Object(A.jsx)(f.a,{checked:e})},"checkbox-".concat(c)))}return Object(A.jsxs)(g.a,{hover:!!j,onClick:e=>{e.preventDefault(),w.a.isFunction(i)&&i(t)},sx:j?{cursor:"pointer",...v}:{...v},children:[C,d&&y]},c)})({row:e,columns:t,config:a,handleRowClick:i,rowIndex:n,handleDelete:c,...o})}))},K=e=>{let{config:t={},data:n=[],history:r,loading:f=!1,onRefetch:g,isRefetching:O,actions:m,isPaginationLoading:v=!1,...y}=e;n=n||[];const{onCheckboxChange:C,checkboxes:k,checkboxKey:z}=y,[R,F]=Object(P.useState)({}),[L,N]=Object(P.useState)({open:!1,config:{}}),{columns:M=[],columnsBuilder:H,onRowClick:_,hasOnClickUrl:q=!0,onPageChange:K,page:U,count:Y,limit:Z,onPageSizeChange:J,onLimitChange:Q,size:G="medium",emptyMessage:X="",onRowClickDataCallback:$,showRefresh:ee=!1,onDelete:te,deleteMessage:ne,deletePermissions:ae=[],containerHeight:ie="",sortField:ce,sortOrder:oe="asc",handleSortChange:se,hasSort:le=!1}=t,{role:re=""}=Object(T.g)().user,de="boolean"===typeof ae?ae:ae.indexOf(re)>-1||!1,ue=E.a.useRef([]),je="function"===typeof H?H({data:n,columns:M}):M,be=Array.isArray(n)&&n.length,he=Object(P.useMemo)((()=>m&&E.a.isValidElement(m)?m:Object(A.jsx)(A.Fragment,{})),[m]),xe=e=>{if(q&&_){const t=_(e);$&&(e=$(e)),r.push(t,e)}else _&&_(e)},fe=(e,t)=>{se&&se({field:t,order:ce===t&&"asc"===oe?"desc":"asc"})},pe=(e,t,n)=>{n.stopPropagation();const a={title:()=>Object(A.jsxs)(h.a,{container:!0,alignItems:"center",sx:{p:"16px 24px"},gap:1,children:[Object(A.jsx)(S.a,{color:"error"}),Object(A.jsx)(x.a,{sx:{fontSize:"1.25rem",fontWeight:550},color:"error",children:"Delete"})]}),okText:"Delete",onOk:()=>te(e,ge,{row:t}),content:()=>Object(A.jsx)(b.a,{sx:{color:"#000"},children:w.a.isFunction(ne)?ne({row:t}):ne||"Are you sure you want to delete the record?"})};N({...L,open:!0,config:a})};function ge(){N({...L,open:!1})}const Oe=Object(P.useMemo)((()=>be?Object(A.jsxs)(P.Fragment,{children:[Object(A.jsx)(j.a,{className:"",sx:{backgroundColor:"#fafafa",borderTop:"1px solid rgba(224, 224, 224, 1)"},children:Object(A.jsx)(V,{columns:je,config:t,role:re,handleRequestSort:fe,hasSort:le})}),Object(A.jsx)(u.a,{children:Object(A.jsx)(B,{role:re,columns:je,data:n,config:t,checkboxes:k,checkboxKey:z,handleRowClick:xe,handleDelete:pe,onCheckboxChange:C,hasDeletePermission:de})})]}):Object(A.jsx)("tbody",{style:{height:300},children:Object(A.jsx)("tr",{children:Object(A.jsx)("td",{style:{textAlign:"center"},children:Object(A.jsx)("h4",{children:X||"No records found"})})})})),[n,t,k]);return Object(P.useEffect)((()=>{var e;if(null!==ue&&void 0!==ue&&null!==(e=ue.current)&&void 0!==e&&e.table){const e=ue.current.table.offsetHeight;F({...R,height:e>200?e:void 0})}}),[]),Object(P.useEffect)((()=>{var e;(v||O)&&null!==(e=ue.current)&&void 0!==e&&e.tableContainer&&ue.current.tableContainer.scrollTo(0,0)}),[v,O]),Object(A.jsxs)(a.a,{className:"enhanced-table",sx:{height:be&&!f?ie||"95%":"auto"},children:[Object(A.jsxs)(l.a,{alignItems:"flex-end",justifyContent:"flex-end",direction:"row",py:1,gap:.5,children:[he,ee&&Object(A.jsx)(p.a,{title:"Refresh",onClick:g,children:Object(A.jsx)(d.a,{className:O?"rotateIcon":void 0})})]}),Object(A.jsxs)(c.a,{component:i.a,className:"tableContainer",ref:e=>ue.current.tableContainer=e,sx:{boxShadow:"0px 0px 32px #8898AA26",mb:2,height:be&&!f?"calc(100% - 80px)":"auto",position:"relative"},children:[f?(()=>{const e=window.innerHeight-180,t=(R.height?R.height>e?e:R.height:e)||e;return Object(A.jsx)(h.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:t},children:Object(A.jsx)(h.a,{item:!0,alignItems:"center",sx:{position:"relative"},children:Object(A.jsx)(I.a,{})})})})():Object(A.jsx)(s.a,{ref:e=>ue.current.table=e,"aria-label":"caption table",size:G,stickyHeader:!0,children:Oe}),Object(A.jsx)(o.a,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:v||O||!1,children:Object(A.jsx)(I.a,{sx:{color:"inherit"}})})]}),!f&&n.length>0&&Object(A.jsx)(W,{data:n,onPageChange:K,page:U,count:Y,limit:Z,onLimitChange:Q||J,isLoading:O||v}),Object(A.jsx)(D.a,{className:"enhancedTable_dialog",open:L.open,config:L.config,onClose:ge})]})};t.a=Object(z.withRouter)(Object(P.memo)(K))},317:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");t.default=o},318:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},330:function(e,t,n){"use strict";var a=n(0),i=n(258),c=n.n(i),o=n(48);t.a=(e,t)=>{const{order:n="asc",orderBy:i,debounceTime:s=500}=t||{},[l,r]=Object(a.useState)([]),[d,u]=Object(a.useState)(!1),[j,b]=Object(a.useState)(1),[h,x]=Object(a.useState)(100),[f,p]=Object(a.useState)(""),[g,O]=Object(a.useState)(!1),[m,v]=Object(a.useState)(!1),[y,C]=Object(a.useState)(!1),[w,k]=Object(a.useState)(i),[S,P]=Object(a.useState)(n),E=Object(a.useRef)(!0);Object(a.useEffect)((()=>{z()}),[e,j,h,w,S]),Object(a.useEffect)((()=>{u(!0)}),[]),Object(a.useEffect)((()=>{const e=c.a.debounce((()=>{E.current||(v(!0),z())}),s);return e(),e.cancel}),[f,s]);const z=Object(a.useCallback)((async()=>{Object(o.b)({uri:"".concat(e,"?page=").concat(j,"&search=").concat(f,"&limit=").concat(h,"&sortField=").concat(w,"&sortOrder=").concat(S)}).then((e=>{const{data:t}=e;r(t)})).catch((e=>{console.error(e.message)})).finally((()=>{u(!1),O(!1),v(!1),C(!1),E.current&&(E.current=!1)}))}),[e,j,h,f,w,S]),R=Object(a.useCallback)(((e,t)=>{O(!0),b(t)}),[]),F=Object(a.useCallback)((e=>{let{value:t}=e;p(t),b(1)}),[]),L=Object(a.useCallback)((e=>{let{value:t}=e;O(!0),b(1),x(t)}),[]),A=Object(a.useCallback)((e=>{let{field:t,order:n}=e;k(t),P(n),O(!0),b(1)}),[]);return{data:l,loading:d,page:j,limit:h,onPageChange:R,handleSearch:F,refetch:()=>{b(1),C(!0),z()},onLimitChange:L,searchQuery:f,isPaginationLoading:g,isSearching:m,isRefetching:y,sortField:w,sortOrder:S,handleSortChange:A}}},355:function(e,t,n){"use strict";var a=n(1),i=n(4),c=n(0),o=n(135),s=n(34),l=n(41),r=n(24),d=n(2);const u=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],j={entering:{transform:"none"},entered:{transform:"none"}},b=c.forwardRef((function(e,t){const n=Object(s.a)(),b={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:h,appear:x=!0,children:f,easing:p,in:g,onEnter:O,onEntered:m,onEntering:v,onExit:y,onExited:C,onExiting:w,style:k,timeout:S=b,TransitionComponent:P=o.a}=e,E=Object(i.a)(e,u),z=c.useRef(null),R=Object(r.a)(z,f.ref,t),F=e=>t=>{if(e){const n=z.current;void 0===t?e(n):e(n,t)}},L=F(v),A=F(((e,t)=>{Object(l.b)(e);const a=Object(l.a)({style:k,timeout:S,easing:p},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",a),e.style.transition=n.transitions.create("transform",a),O&&O(e,t)})),N=F(m),M=F(w),W=F((e=>{const t=Object(l.a)({style:k,timeout:S,easing:p},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),y&&y(e)})),I=F(C);return Object(d.jsx)(P,Object(a.a)({appear:x,in:g,nodeRef:z,onEnter:A,onEntered:N,onEntering:L,onExit:W,onExited:I,onExiting:M,addEndListener:e=>{h&&h(z.current,e)},timeout:S},E,{children:(e,t)=>c.cloneElement(f,Object(a.a)({style:Object(a.a)({transform:"scale(0)",visibility:"exited"!==e||g?void 0:"hidden"},j[e],k,f.props.style),ref:R},t))}))}));t.a=b},383:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=o},468:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));var a=n(25),i=n.n(a),c=n(28),o=n(3);const s=(e,t)=>async n=>{try{const a=await i.a.get("/api/warehouse/"+e);200===a.status&&(n({type:o.A,payload:{warehouseById:a.data}}),t&&t(a.data.data))}catch(a){console.log(a)}},l=async e=>await i.a.post("/api/warehouse/getLocation",e),r=e=>async t=>{const{status:n,data:a}=await l(e);t({type:o.rb,payload:{loading:!0}});try{200===n&&a.success?t({type:o.rb,payload:{loading:!1,location:{...a}}}):a.success||(Object(c.a)(a.message,"error"),t({type:o.rb,payload:{loading:!1,location:{}}}))}catch(i){Object(c.a)(a.message,"error"),t({type:o.rb,payload:{loading:!1,location:{}}})}}},470:function(e,t,n){"use strict";var a=n(0),i=n(48),c=n(90);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{showPagination:o=!0,page:s,limit:l}=t,[r,d]=Object(a.useState)(void 0),[u,j]=Object(a.useState)({page:s||1,limit:l||10}),[b,h]=Object(a.useState)(!1),[x,f]=Object(a.useState)(null),[p,g]=Object(a.useState)(!1),[O,m]=Object(a.useState)(!1);function v(a){const{page:s,limit:l}=a||{};let r=e;o&&(s&&l&&j({page:s,limit:l}),r="".concat(r,"?page=").concat(s||u.page,"&limit=").concat(l||u.limit)),t.queryParams&&(r="".concat(r,"&").concat(Object(c.m)(t.queryParams))),Object(i.b)({uri:r,callback:n,showTriggers:!1}).then((e=>{e.data&&d(e.data)})).finally((()=>{h(!1),g(!1),m(!1)}))}return Object(a.useEffect)((()=>{h(!0),d(null),f(null),v()}),[e]),{data:r,loading:b,error:x,refetch:function(){g(!0),v({page:s,limit:u.limit})},isRefetching:p,onLimitChange:e=>{let{value:t}=e;m(!0),v({limit:t,page:u.page})},onPageChange:(e,t)=>{m(!0),v({page:t,limit:u.limit})},isPaginationLoading:O,...u}}},479:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},509:function(e,t,n){"use strict";var a=n(89);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(91)),c=n(2),o=(0,i.default)((0,c.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o}}]);
//# sourceMappingURL=15.7aa3bd9b.chunk.js.map